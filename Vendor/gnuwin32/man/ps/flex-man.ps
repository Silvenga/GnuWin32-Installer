%!PS-Adobe-3.0
%%Creator: groff version 1.19.1
%%CreationDate: Wed Apr 07 23:36:03 2004
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.19 1
%%Pages: 37
%%PageOrder: Ascend
%%DocumentMedia: Default 595 842 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 1
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 595 842 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
grops begin/DEFS 52 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 841.89 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron
/Zcaron/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0/Times-Bold RE
/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R 72 84 EBEGIN
[/Creator (Groff 1.19.1 with Pdfref macros) /DOCINFO pdfmark
EEND 72 84 EBEGIN
[/CreationDate (D:20040407233602-02'00') /DOCINFO pdfmark
EEND 72 84 EBEGIN
[/ModDate (D:20040407233602-02'00') /DOCINFO pdfmark
EEND 72 84 EBEGIN
[/PageMode /UseOutlines /View [/XYZ 0 PL 0] /DOCVIEW pdfmark
EEND 72 84 EBEGIN
[/Count 0 /Dest /section.FLEX.1.1 /Title (FLEX (1)) /OUT pdfmark
EEND 72 84 EBEGIN
[/Dest /section.FLEX.1.1 /View [/XYZ -5 PL null] /DEST pdfmark
EEND/F0 10.95/Times-Bold@0 SF -.219(NA)72 100.8 S(ME).219 E/F1 10
/Times-Roman@0 SF<8d65>108 112.8 Q 2.5(x\255f)-.15 G(ast le)-2.6 E
(xical analyzer generator)-.15 E F0(SYNOPSIS)72 129.6 Q/F2 10
/Times-Bold@0 SF .138(\215ex [\255bcdfhilnpstvwBFIL)108 141.6 R .138
(TV78+? \255C[aefFmr] \255ooutput \255Ppr)-.92 F .138(e\214x \255Ssk)
-.18 F .138(eleton] [\255\255help \255\255v)-.1 F(ersion])-.1 E/F3 10
/Times-Italic@0 SF([\214lename ...])108 153.6 Q F0 -.548(OV)72 170.4 S
(ER).548 E(VIEW)-.602 E F1 .506(This manual describes)108 182.4 R F3
<8d65>3.006 E(x,)-.2 E F1 3.007(at)3.007 G .507
(ool for generating programs that perform pattern-matching on te)-3.007
F 3.007(xt. The)-.15 F
(manual includes both tutorial and reference sections:)108 194.4 Q
(Description)118 218.4 Q 2.5(ab)128 230.4 S(rief o)-2.5 E -.15(ve)-.15 G
(rvie).15 E 2.5(wo)-.25 G 2.5(ft)-2.5 G(he tool)-2.5 E
(Some Simple Examples)118 254.4 Q -.15(Fo)118 278.4 S
(rmat Of The Input File).15 E -.15(Pa)118 302.4 S(tterns).15 E(the e)128
314.4 Q(xtended re)-.15 E(gular e)-.15 E(xpressions used by \215e)-.15 E
(x)-.15 E(Ho)118 338.4 Q 2.5(wT)-.25 G(he Input Is Matched)-2.5 E
(the rules for determining what has been matched)128 350.4 Q(Actions)118
374.4 Q(ho)128 386.4 Q 2.5(wt)-.25 G 2.5(os)-2.5 G
(pecify what to do when a pattern is matched)-2.5 E
(The Generated Scanner)118 410.4 Q(details re)128 422.4 Q -.05(ga)-.15 G
(rding the scanner that \215e).05 E 2.5(xp)-.15 G(roduces;)-2.5 E(ho)128
434.4 Q 2.5(wt)-.25 G 2.5(oc)-2.5 G(ontrol the input source)-2.5 E
(Start Conditions)118 458.4 Q(introducing conte)128 470.4 Q
(xt into your scanners, and)-.15 E(managing "mini-scanners")128 482.4 Q
(Multiple Input Buf)118 506.4 Q(fers)-.25 E(ho)128 518.4 Q 2.5(wt)-.25 G
2.5(om)-2.5 G(anipulate multiple input sources; ho)-2.5 E 2.5(wt)-.25 G
(o)-2.5 E(scan from strings instead of \214les)128 530.4 Q
(End-of-\214le Rules)118 554.4 Q
(special rules for matching the end of the input)128 566.4 Q
(Miscellaneous Macros)118 590.4 Q 2.5(as)128 602.4 S(ummary of macros a)
-2.5 E -.25(va)-.2 G(ilable to the actions).25 E -1.11(Va)118 626.4 S
(lues A)1.11 E -.25(va)-.74 G(ilable T).25 E 2.5(oT)-.8 G(he User)-2.5 E
2.5(as)128 638.4 S(ummary of v)-2.5 E(alues a)-.25 E -.25(va)-.2 G
(ilable to the actions).25 E(Interf)118 662.4 Q(acing W)-.1 E(ith Y)-.4
E(acc)-1 E(connecting \215e)128 674.4 Q 2.5(xs)-.15 G
(canners together with yacc parsers)-2.5 E(Options)118 698.4 Q<8d65>128
710.4 Q 2.5(xc)-.15 G(ommand-line options, and the "%option")-2.5 E
(directi)128 722.4 Q -.15(ve)-.25 G(Performance Considerations)118 746.4
Q(ho)128 758.4 Q 2.5(wt)-.25 G 2.5(om)-2.5 G(ak)-2.5 E 2.5(ey)-.1 G
(our scanner go as f)-2.5 E(ast as possible)-.1 E -1.11(Ve)72 817.889 S
(rsion 2.5)1.11 E(April 1995)158.283 E(1)198.832 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R
(Generating C++ Scanners)118 84 Q(the \(e)128 96 Q(xperimental\) f)-.15
E(acility for generating C++)-.1 E(scanner classes)128 108 Q
(Incompatibilities W)118 132 Q(ith Le)-.4 E 2.5(xA)-.15 G(nd POSIX)-2.5
E(ho)128 144 Q 2.5<778d>-.25 G .3 -.15(ex d)-2.5 H(if).15 E(fers from A)
-.25 E(T&T le)-1.11 E 2.5(xa)-.15 G(nd the POSIX le)-2.5 E(x)-.15 E
(standard)128 156 Q(Diagnostics)118 180 Q
(those error messages produced by \215e)128 192 Q 2.5(x\()-.15 G
(or scanners)-2.5 E(it generates\) whose meanings might not be apparent)
128 204 Q(Files)118 228 Q(\214les used by \215e)128 240 Q(x)-.15 E
(De\214ciencies / Bugs)118 264 Q(kno)128 276 Q(wn problems with \215e)
-.25 E(x)-.15 E(See Also)118 300 Q(other documentation, related tools)
128 312 Q(Author)118 336 Q(includes contact information)128 348 Q/F1
10.95/Times-Bold@0 SF(DESCRIPTION)72 376.8 Q/F2 10/Times-Italic@0 SF
<8d65>108 388.8 Q(x)-.2 E F0 .213(is a tool for generating)2.713 F F2
(scanner)2.712 E(s:)-.1 E F0 .212(programs which recognized le)2.712 F
.212(xical patterns in te)-.15 F(xt.)-.15 E F2<8d65>5.212 E(x)-.2 E F0
.212(reads the)2.712 F(gi)108 400.8 Q -.15(ve)-.25 G 2.678(ni).15 G .178
(nput \214les, or its standard input if no \214le names are gi)-2.678 F
-.15(ve)-.25 G .179(n, for a description of a scanner to gener).15 F(-)
-.2 E 2.992(ate. The)108 412.8 R .492
(description is in the form of pairs of re)2.992 F .491(gular e)-.15 F
.491(xpressions and C code, called)-.15 F F2 .491(rules. \215e)2.991 F
(x)-.2 E F0(gener)2.991 E(-)-.2 E .093
(ates as output a C source \214le,)108 424.8 R/F3 10/Times-Bold@0 SF
(lex.yy)2.593 E(.c,)-.7 E F0 .093(which de\214nes a routine)2.593 F F3
(yylex\(\).)2.593 E F0 .093(This \214le is compiled and link)5.093 F(ed)
-.1 E 1.322(with the)108 436.8 R F3<ad6c8d>3.822 E F0 1.322
(library to produce an e)3.822 F -.15(xe)-.15 G 3.822(cutable. When).15
F 1.321(the e)3.821 F -.15(xe)-.15 G 1.321
(cutable is run, it analyzes its input for).15 F(occurrences of the re)
108 448.8 Q(gular e)-.15 E 2.5(xpressions. Whene)-.15 F -.15(ve)-.25 G
2.5(ri).15 G 2.5<748c>-2.5 G(nds one, it e)-2.5 E -.15(xe)-.15 G
(cutes the corresponding C code.).15 E F1(SOME SIMPLE EXAMPLES)72 465.6
Q F0 .468(First some simple e)108 477.6 R .468(xamples to get the \215a)
-.15 F -.2(vo)-.2 G 2.969(ro).2 G 2.969(fh)-2.969 G .969 -.25(ow o)
-2.969 H .469(ne uses).25 F F2<8d65>2.969 E(x.)-.2 E F0 .469(The follo)
5.469 F(wing)-.25 E F2<8d65>2.969 E(x)-.2 E F0 .469(input speci\214es a)
2.969 F(scanner which whene)108 489.6 Q -.15(ve)-.25 G 2.5(ri).15 G 2.5
(te)-2.5 G
(ncounters the string "username" will replace it with the user')-2.5 E
2.5(sl)-.55 G(ogin name:)-2.5 E(%%)118 513.6 Q 7.5(username printf\()118
525.6 R("%s", getlogin\(\) \);)2.5 E .256(By def)108 549.6 R .256
(ault, an)-.1 F 2.756(yt)-.15 G -.15(ex)-2.756 G 2.756(tn).15 G .256
(ot matched by a)-2.756 F F2<8d65>2.756 E(x)-.2 E F0 .255
(scanner is copied to the output, so the net ef)2.756 F .255
(fect of this scan-)-.25 F .797(ner is to cop)108 561.6 R 3.297(yi)-.1 G
.798(ts input \214le to its output with each occurrence of "username" e)
-3.297 F 3.298(xpanded. In)-.15 F .798(this input,)3.298 F .942
(there is just one rule.)108 573.6 R .942("username" is the)5.942 F F2
(pattern)3.442 E F0 .942(and the "printf" is the)3.442 F F2(action.)
3.442 E F0 .942(The "%%" marks the)5.942 F(be)108 585.6 Q
(ginning of the rules.)-.15 E(Here')108 602.4 Q 2.5(sa)-.55 G
(nother simple e)-2.5 E(xample:)-.15 E
(int num_lines = 0, num_chars = 0;)138 626.4 Q(%%)118 650.4 Q 12.5
(\\n ++num_lines;)118 662.4 R(++num_chars;)2.5 E 17.5(.+)118 674.4 S
(+num_chars;)-17.5 E(%%)118 698.4 Q(main\(\))118 710.4 Q({)138 722.4 Q
(yyle)138 734.4 Q(x\(\);)-.15 E
(printf\( "# of lines = %d, # of chars = %d\\n",)138 746.4 Q
(num_lines, num_chars \);)158 758.4 Q(})138 770.4 Q 198.833(2A)72
817.889 S(pril 1995)-198.833 E -1.11(Ve)158.282 G(rsion 2.5)1.11 E 0 Cg
EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R .08(This sc\
anner counts the number of characters and the number of lines in its in\
put \(it produces no output)108 84 R 2.669
(other than the \214nal report on the counts\).)108 96 R 2.669
(The \214rst line declares tw)7.669 F 5.169(og)-.1 G 2.669
(lobals, "num_lines" and)-5.169 F .259
("num_chars", which are accessible both inside)108 108 R/F1 10
/Times-Bold@0 SF(yylex\(\))2.759 E F0 .259(and in the)2.759 F F1
(main\(\))2.759 E F0 .259(routine declared after the sec-)2.759 F 1.542
(ond "%%".)108 120 R 1.542(There are tw)6.542 F 4.042(or)-.1 G 1.542
(ules, one which matches a ne)-4.042 F 1.541
(wline \("\\n"\) and increments both the line)-.25 F .275
(count and the character count, and one which matches an)108 132 R 2.775
(yc)-.15 G .276(haracter other than a ne)-2.775 F .276
(wline \(indicated by)-.25 F(the "." re)108 144 Q(gular e)-.15 E
(xpression\).)-.15 E 2.5(As)108 160.8 S(ome)-2.5 E
(what more complicated e)-.25 E(xample:)-.15 E(/* scanner for a to)118
184.8 Q 2.5(yP)-.1 G(ascal-lik)-2.65 E 2.5(el)-.1 G(anguage */)-2.5 E
(%{)118 208.8 Q(/* need this for the call to atof\(\) belo)118 220.8 Q
2.5(w*)-.25 G(/)-2.5 E(#include <math.h>)118 232.8 Q(%})118 244.8 Q 7.5
(DIGIT [0-9])118 268.8 R 15(ID [a-z][a-z0-9]*)118 280.8 R(%%)118 304.8 Q
7.5({DIGIT}+ {)118 328.8 R(printf\( "An inte)148 340.8 Q
(ger: %s \(%d\)\\n", yyte)-.15 E(xt,)-.15 E(atoi\( yyte)168 352.8 Q
(xt \) \);)-.15 E(})148 364.8 Q 17.5({DIGIT}+"."{DIGIT}* {)118 388.8 R
(printf\( "A \215oat: %s \(%g\)\\n", yyte)148 400.8 Q(xt,)-.15 E
(atof\( yyte)168 412.8 Q(xt \) \);)-.15 E(})148 424.8 Q(if|then|be)118
448.8 Q 17.5(gin|end|procedure|function {)-.15 F(printf\( "A k)148 460.8
Q -.15(ey)-.1 G -.1(wo).15 G(rd: %s\\n", yyte).1 E(xt \);)-.15 E(})148
472.8 Q 17.5({ID} printf\()118 496.8 R("An identi\214er: %s\\n", yyte)
2.5 E(xt \);)-.15 E 5("+"|"-"|"*"|"/" printf\()118 520.8 R
("An operator: %s\\n", yyte)2.5 E(xt \);)-.15 E 10("{"[^}\\n]*"}" /*)118
544.8 R(eat up one-line comments */)2.5 E 2.5([\\)118 568.8 S 22.5
(t\\n]+ /*)-2.5 F(eat up whitespace */)2.5 E 27.5(.p)118 592.8 S
(rintf\( "Unrecognized character: %s\\n", yyte)-27.5 E(xt \);)-.15 E(%%)
118 616.8 Q(main\( ar)118 640.8 Q(gc, ar)-.18 E(gv \))-.18 E(int ar)118
652.8 Q(gc;)-.18 E(char **ar)118 664.8 Q(gv;)-.18 E({)128 676.8 Q(++ar)
128 688.8 Q(gv)-.18 E 2.5(,-)-.65 G(-ar)-2.5 E 2.5(gc; /*)-.18 F(skip o)
2.5 E -.15(ve)-.15 G 2.5(rp).15 G(rogram name */)-2.5 E(if \( ar)128
700.8 Q(gc > 0 \))-.18 E(yyin = fopen\( ar)148 712.8 Q(gv[0], "r" \);)
-.18 E(else)128 724.8 Q(yyin = stdin;)148 736.8 Q(yyle)128 760.8 Q
(x\(\);)-.15 E(})128 772.8 Q -1.11(Ve)72 817.889 S(rsion 2.5)1.11 E
(April 1995)158.283 E(3)198.832 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R 1.088
(This is the be)108 84 R 1.087
(ginnings of a simple scanner for a language lik)-.15 F 3.587(eP)-.1 G
3.587(ascal. It)-3.737 F 1.087(identi\214es dif)3.587 F 1.087
(ferent types of)-.25 F/F1 10/Times-Italic@0 SF(tok)108 96 Q(ens)-.1 E
F0(and reports on what it has seen.)2.5 E(The details of this e)108
112.8 Q(xample will be e)-.15 E(xplained in the follo)-.15 E
(wing sections.)-.25 E/F2 10.95/Times-Bold@0 SF(FORMA)72 129.6 Q 2.738
(TO)-1.04 G 2.738(FT)-2.738 G(HE INPUT FILE)-2.738 E F0(The)108 141.6 Q
F1<8d65>2.5 E(x)-.2 E F0
(input \214le consists of three sections, separated by a line with just)
2.5 E/F3 10/Times-Bold@0 SF(%%)2.5 E F0(in it:)2.5 E(de\214nitions)118
165.6 Q(%%)118 177.6 Q(rules)118 189.6 Q(%%)118 201.6 Q(user code)118
213.6 Q(The)108 237.6 Q F1(de\214nitions)2.758 E F0 .259
(section contains declarations of simple)2.758 F F1(name)2.759 E F0 .259
(de\214nitions to simplify the scanner speci\214-)2.759 F
(cation, and declarations of)108 249.6 Q F1(start conditions,)2.5 E F0
(which are e)2.5 E(xplained in a later section.)-.15 E
(Name de\214nitions ha)108 266.4 Q .3 -.15(ve t)-.2 H(he form:).15 E
(name de\214nition)118 290.4 Q .691(The "name" is a w)108 314.4 R .691
(ord be)-.1 F .691(ginning with a letter or an underscore \('_'\) follo)
-.15 F .69(wed by zero or more letters,)-.25 F .574
(digits, '_', or '-' \(dash\).)108 326.4 R .574(The de\214nition is tak)
5.574 F .574(en to be)-.1 F .574
(gin at the \214rst non-white-space character follo)-.15 F(w-)-.25 E
.049(ing the name and continuing to the end of the line.)108 338.4 R
.049(The de\214nition can subsequently be referred to using)5.049 F
("{name}", which will e)108 350.4 Q(xpand to "\(de\214nition\)".)-.15 E
-.15(Fo)5 G 2.5(re).15 G(xample,)-2.65 E 7.5(DIGIT [0-9])118 374.4 R 15
(ID [a-z][a-z0-9]*)118 386.4 R 1.603(de\214nes "DIGIT" to be a re)108
410.4 R 1.604(gular e)-.15 F 1.604
(xpression which matches a single digit, and "ID" to be a re)-.15 F
(gular)-.15 E -.15(ex)108 422.4 S .891
(pression which matches a letter follo).15 F .89(wed by zero-or)-.25 F
.89(-more letters-or)-.2 F 3.39(-digits. A)-.2 F .89
(subsequent reference)3.39 F(to)108 434.4 Q({DIGIT}+"."{DIGIT}*)118
458.4 Q(is identical to)108 482.4 Q(\([0-9]\)+"."\([0-9]\)*)118 506.4 Q
(and matches one-or)108 530.4 Q(-more digits follo)-.2 E(wed by a '.)
-.25 E 2.5('f)-.7 G(ollo)-2.5 E(wed by zero-or)-.25 E(-more digits.)-.2
E(The)108 547.2 Q F1(rules)2.5 E F0(section of the)2.5 E F1<8d65>2.5 E
(x)-.2 E F0(input contains a series of rules of the form:)2.5 E 5
(pattern action)118 571.2 R
(where the pattern must be unindented and the action must be)108 595.2 Q
(gin on the same line.)-.15 E(See belo)108 612 Q 2.5(wf)-.25 G
(or a further description of patterns and actions.)-2.5 E(Finally)108
628.8 Q 3.116(,t)-.65 G .616(he user code section is simply copied to)
-3.116 F F3(lex.yy)3.117 E(.c)-.7 E F0 -.15(ve)3.117 G 3.117(rbatim. It)
.15 F .617(is used for companion routines)3.117 F .031
(which call or are called by the scanner)108 640.8 R 5.031(.T)-.55 G
.031
(he presence of this section is optional; if it is missing, the sec-)
-5.031 F(ond)108 652.8 Q F3(%%)2.5 E F0
(in the input \214le may be skipped, too.)2.5 E .462
(In the de\214nitions and rules sections, an)108 669.6 R(y)-.15 E F1
(indented)2.962 E F0(te)2.962 E .462(xt or te)-.15 F .463
(xt enclosed in)-.15 F F3(%{)2.963 E F0(and)2.963 E F3(%})2.963 E F0
.463(is copied v)2.963 F(erba-)-.15 E 1.408
(tim to the output \(with the %{}')108 681.6 R 3.907(sr)-.55 G(emo)
-3.907 E -.15(ve)-.15 G 3.907(d\). The).15 F(%{}')3.907 E 3.907(sm)-.55
G 1.407(ust appear unindented on lines by them-)-3.907 F(selv)108 693.6
Q(es.)-.15 E 1.093(In the rules section, an)108 710.4 R 3.593(yi)-.15 G
1.093(ndented or %{} te)-3.593 F 1.093
(xt appearing before the \214rst rule may be used to declare)-.15 F -.25
(va)108 722.4 S 2.018(riables which are local to the scanning routine a\
nd \(after the declarations\) code which is to be).25 F -.15(exe)108
734.4 S .968(cuted whene).15 F -.15(ve)-.25 G 3.468(rt).15 G .968
(he scanning routine is entered.)-3.468 F .968(Other indented or %{} te)
5.968 F .969(xt in the rule section is)-.15 F .226
(still copied to the output, b)108 746.4 R .225(ut its meaning is not w\
ell-de\214ned and it may well cause compile-time errors)-.2 F
(\(this feature is present for)108 758.4 Q F1(POSIX)2.5 E F0
(compliance; see belo)2.5 E 2.5(wf)-.25 G(or other such features\).)-2.5
E .839(In the de\214nitions section \(b)108 775.2 R .84
(ut not in the rules section\), an unindented comment \(i.e., a line be)
-.2 F(ginning)-.15 E 198.833(4A)72 817.889 S(pril 1995)-198.833 E -1.11
(Ve)158.282 G(rsion 2.5)1.11 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R
(with "/*"\) is also copied v)108 84 Q
(erbatim to the output up to the ne)-.15 E(xt "*/".)-.15 E/F1 10.95
/Times-Bold@0 SF -.81(PA)72 100.8 S(TTERNS)-.23 E F0
(The patterns in the input are written using an e)108 112.8 Q
(xtended set of re)-.15 E(gular e)-.15 E 2.5(xpressions. These)-.15 F
(are:)2.5 E 25(xm)118 136.8 S(atch the character 'x')-25 E 25(.a)118
148.8 S .3 -.15(ny c)-25 H(haracter \(byte\) e).15 E(xcept ne)-.15 E
(wline)-.25 E 12.5([xyz] a)118 160.8 R
("character class"; in this case, the pattern)2.5 E
(matches either an 'x', a 'y', or a 'z')150.5 172.8 Q 5([abj-oZ] a)118
184.8 R("character class" with a range in it; matches)2.5 E
(an 'a', a 'b', an)150.5 196.8 Q 2.5(yl)-.15 G
(etter from 'j' through 'o',)-2.5 E(or a 'Z')150.5 208.8 Q 10([^A-Z] a)
118 220.8 R("ne)2.5 E -.05(ga)-.15 G(ted character class", i.e., an).05
E 2.5(yc)-.15 G(haracter)-2.5 E -.2(bu)150.5 232.8 S 2.5(tt).2 G
(hose in the class.)-2.5 E(In this case, an)5 E(y)-.15 E
(character EXCEPT an uppercase letter)150.5 244.8 Q(.)-.55 E 5
([^A-Z\\n] an)118 256.8 R 2.5(yc)-.15 G
(haracter EXCEPT an uppercase letter or)-2.5 E 2.5(an)150.5 268.8 S -.25
(ew)-2.5 G(line).25 E 20(r* zero)118 280.8 R(or more r')2.5 E
(s, where r is an)-.55 E 2.5(yr)-.15 G -.15(eg)-2.5 G(ular e).15 E
(xpression)-.15 E 20(r+ one)118 292.8 R(or more r')2.5 E(s)-.55 E 20
(r? zero)118 304.8 R(or one r')2.5 E 2.5(s\()-.55 G
(that is, "an optional r"\))-2.5 E 10(r{2,5} an)118 316.8 R
(ywhere from tw)-.15 E 2.5(ot)-.1 G 2.5<6f8c>-2.5 G .3 -.15(ve r)-2.5 H
-.55('s).15 G 12.5(r{2,} tw)118 328.8 R 2.5(oo)-.1 G 2.5(rm)-2.5 G
(ore r')-2.5 E(s)-.55 E 15(r{4} e)118 340.8 R(xactly 4 r')-.15 E(s)-.55
E 10({name} the)118 352.8 R -.15(ex)2.5 G
(pansion of the "name" de\214nition).15 E(\(see abo)145.5 364.8 Q -.15
(ve)-.15 G(\)).15 E("[xyz]\\"foo")118 376.8 Q
(the literal string: [xyz]"foo)145.5 388.8 Q 20(\\X if)118 400.8 R 2.5
(Xi)2.5 G 2.5(sa)-2.5 G 2.5(n')-2.5 G(a', 'b', 'f)-2.5 E(', 'n', ').55 E
(r', ')-.5 E(t', or ')-.18 E(v',)-.5 E
(then the ANSI-C interpretation of \\x.)150.5 412.8 Q
(Otherwise, a literal 'X' \(used to escape)150.5 424.8 Q
(operators such as '*'\))150.5 436.8 Q 20(\\0 a)118 448.8 R
(NUL character \(ASCII code 0\))2.5 E 15(\\123 the)118 460.8 R
(character with octal v)2.5 E(alue 123)-.25 E 15(\\x2a the)118 472.8 R
(character with he)2.5 E(xadecimal v)-.15 E(alue 2a)-.25 E 17.5
(\(r\) match)118 484.8 R(an r; parentheses are used to o)2.5 E -.15(ve)
-.15 G(rride).15 E(precedence \(see belo)150.5 496.8 Q(w\))-.25 E 20
(rs the)118 532.8 R(re)2.5 E(gular e)-.15 E(xpression r follo)-.15 E
(wed by the)-.25 E(re)150.5 544.8 Q(gular e)-.15 E
(xpression s; called "concatenation")-.15 E 17.5(r|s either)118 580.8 R
(an r or an s)2.5 E 17.5(r/s an)118 616.8 R 2.5(rb)2.5 G
(ut only if it is follo)-2.7 E(wed by an s.)-.25 E(The)5 E(te)150.5
628.8 Q(xt matched by s is included when determining)-.15 E
(whether this rule is the "longest match",)150.5 640.8 Q -.2(bu)150.5
652.8 S 2.5(ti).2 G 2.5(st)-2.5 G(hen returned to the input before)-2.5
E(the action is e)150.5 664.8 Q -.15(xe)-.15 G 2.5(cuted. So).15 F
(the action only)2.5 E(sees the te)150.5 676.8 Q(xt matched by r)-.15 E
5(.T)-.55 G(his type)-5 E(of pattern is called trailing conte)150.5
688.8 Q(xt".)-.15 E(\(There are some combinations of r/s that \215e)
150.5 700.8 Q(x)-.15 E(cannot match correctly; see notes in the)150.5
712.8 Q(De\214ciencies / Bugs section belo)150.5 724.8 Q 2.5(wr)-.25 G
-2.25 -.15(eg a)-2.5 H(rding).15 E("dangerous trailing conte)150.5 736.8
Q(xt".\))-.15 E 20(^r an)118 748.8 R .8 -.4(r, b)2.5 H
(ut only at the be).2 E(ginning of a line \(i.e.,)-.15 E
(which just starting to scan, or right after a)150.5 760.8 Q(ne)150.5
772.8 Q(wline has been scanned\).)-.25 E -1.11(Ve)72 817.889 S
(rsion 2.5)1.11 E(April 1995)158.283 E(5)198.832 E 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R 20(r$ an)118
84 R .8 -.4(r, b)2.5 H(ut only at the end of a line \(i.e., just).2 E
(before a ne)150.5 96 Q 2.5(wline\). Equi)-.25 F -.25(va)-.25 G
(lent to "r/\\n".).25 E(Note that \215e)145.5 120 Q(x')-.15 E 2.5(sn)
-.55 G(otion of "ne)-2.5 E(wline" is e)-.25 E(xactly)-.15 E(whate)145.5
132 Q -.15(ve)-.25 G 2.5(rt).15 G(he C compiler used to compile \215e)
-2.5 E(x)-.15 E(interprets '\\n' as; in particular)145.5 144 Q 2.5(,o)
-.4 G 2.5(ns)-2.5 G(ome DOS)-2.5 E
(systems you must either \214lter out \\r')145.5 156 Q 2.5(si)-.55 G 2.5
(nt)-2.5 G(he)-2.5 E(input yourself, or e)145.5 168 Q
(xplicitly use r/\\r\\n for "r$".)-.15 E 15(<s>r an)118 204 R .8 -.4
(r, b)2.5 H(ut only in start condition s \(see).2 E(belo)150.5 216 Q 2.5
(wf)-.25 G(or discussion of start conditions\))-2.5 E(<s1,s2,s3>r)118
228 Q(same, b)145.5 240 Q(ut in an)-.2 E 2.5(yo)-.15 G 2.5(fs)-2.5 G
(tart conditions s1,)-2.5 E(s2, or s3)150.5 252 Q 15(<*>r an)118 264 R
2.5(ri)2.5 G 2.5(na)-2.5 G .3 -.15(ny s)-2.5 H(tart condition, e).15 E
-.15(ve)-.25 G 2.5(na).15 G 2.5(ne)-2.5 G(xclusi)-2.65 E .3 -.15(ve o)
-.25 H(ne.).15 E 7.5(<<EOF>> an)118 300 R(end-of-\214le)2.5 E
(<s1,s2><<EOF>>)118 312 Q
(an end-of-\214le when in start condition s1 or s2)145.5 324 Q .5
(Note that inside of a character class, all re)108 348 R .5(gular e)-.15
F .499(xpression operators lose their special meaning e)-.15 F(xcept)
-.15 E(escape \('\\'\) and the character class operators, '-', ']', and\
, at the be)108 360 Q(ginning of the class, '^'.)-.15 E .547(The re)108
376.8 R .547(gular e)-.15 F .547(xpressions listed abo)-.15 F .847 -.15
(ve a)-.15 H .547
(re grouped according to precedence, from highest precedence at).15 F
(the top to lo)108 388.8 Q(west at the bottom.)-.25 E
(Those grouped together ha)5 E .3 -.15(ve e)-.2 H(qual precedence.).15 E
-.15(Fo)5 G 2.5(re).15 G(xample,)-2.65 E(foo|bar*)118 412.8 Q
(is the same as)108 436.8 Q(\(foo\)|\(ba\(r*\)\))118 460.8 Q .202(since\
 the '*' operator has higher precedence than concatenation, and concate\
nation higher than alterna-)108 484.8 R .398(tion \('|'\).)108 496.8 R
.398(This pattern therefore matches)5.398 F/F1 10/Times-Italic@0 SF
(either)2.898 E F0 .398(the string "foo")2.898 F F1(or)2.899 E F0 .399
(the string "ba" follo)2.899 F .399(wed by zero-or)-.25 F(-)-.2 E
(more r')108 508.8 Q 2.5(s. T)-.55 F 2.5(om)-.8 G(atch "foo" or zero-or)
-2.5 E(-more "bar"')-.2 E(s, use:)-.55 E(foo|\(bar\)*)118 532.8 Q
(and to match zero-or)108 556.8 Q(-more "foo"')-.2 E(s-or)-.55 E
(-"bar"')-.2 E(s:)-.55 E(\(foo|bar\)*)118 580.8 Q 1.36(In addition to c\
haracters and ranges of characters, character classes can also contain \
character class)108 609.6 R F1 -.2(ex)108 621.6 S(pr).2 E(essions.)-.37
E F0 .329(These are e)5.329 F .329(xpressions enclosed inside)-.15 F/F2
10/Times-Bold@0 SF([:)2.83 E F0(and)2.83 E F2(:])2.83 E F0 .33
(delimiters \(which themselv)2.83 F .33(es must appear)-.15 F .269(betw\
een the '[' and ']' of the character class; other elements may occur in\
side the character class, too\).)108 633.6 R(The v)108 645.6 Q(alid e)
-.25 E(xpressions are:)-.15 E([:alnum:] [:alpha:] [:blank:])118 669.6 Q
([:cntrl:] [:digit:] [:graph:])118 681.6 Q([:lo)118 693.6 Q
(wer:] [:print:] [:punct:])-.25 E([:space:] [:upper:] [:xdigit:])118
705.6 Q .746(These e)108 729.6 R .747
(xpressions all designate a set of characters equi)-.15 F -.25(va)-.25 G
.747(lent to the corresponding standard C).25 F F2(isXXX)3.247 E F0
3.469(function. F)108 741.6 R .969(or e)-.15 F(xample,)-.15 E F2
([:alnum:])3.469 E F0 .969(designates those characters for which)3.469 F
F2(isalnum\(\))3.469 E F0 .968(returns true - i.e.,)3.469 F(an)108 753.6
Q 2.858(ya)-.15 G .358(lphabetic or numeric.)-2.858 F .358
(Some systems don')5.358 F 2.858(tp)-.18 G(ro)-2.858 E(vide)-.15 E F2
(isblank\(\),)2.858 E F0 .358(so \215e)2.858 F 2.859(xd)-.15 G(e\214nes)
-2.859 E F2([:blank:])2.859 E F0 .359(as a blank)2.859 F(or a tab)108
765.6 Q(.)-.4 E 198.833(6A)72 817.889 S(pril 1995)-198.833 E -1.11(Ve)
158.282 G(rsion 2.5)1.11 E 0 Cg EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R -.15(Fo)108
84 S 2.5(re).15 G(xample, the follo)-2.65 E
(wing character classes are all equi)-.25 E -.25(va)-.25 G(lent:).25 E
([[:alnum:]])118 108 Q([[:alpha:][:digit:])118 120 Q([[:alpha:]0-9])118
132 Q([a-zA-Z0-9])118 144 Q 2.965(If your scanner is case-insensiti)108
168 R 3.265 -.15(ve \()-.25 H(the).15 E/F1 10/Times-Bold@0 SF<ad69>5.465
E F0 2.965(\215ag\), then)5.465 F F1([:upper:])5.465 E F0(and)5.464 E F1
([:lo)5.464 E(wer:])-.1 E F0 2.964(are equi)5.464 F -.25(va)-.25 G 2.964
(lent to).25 F F1([:alpha:].)108 180 Q F0(Some notes on patterns:)108
196.8 Q 32.67(-A)108 213.6 S(ne)-30.145 E -.05(ga)-.15 G .025
(ted character class such as the e).05 F .025(xample "[^A-Z]" abo)-.15 F
-.15(ve)-.15 G/F2 10/Times-Italic@0 SF .025(will matc)2.675 F 2.525(han)
-.15 G -.15(ew)-2.525 G(line).15 E F0 .025(unless "\\n")2.525 F 1.128
(\(or an equi)144 225.6 R -.25(va)-.25 G 1.128
(lent escape sequence\) is one of the characters e).25 F 1.127
(xplicitly present in the ne)-.15 F -.05(ga)-.15 G(ted).05 E .196
(character class \(e.g., "[^A-Z\\n]"\).)144 237.6 R .196(This is unlik)
5.196 F 2.697(eh)-.1 G .697 -.25(ow m)-2.697 H(an).25 E 2.697(yo)-.15 G
.197(ther re)-2.697 F .197(gular e)-.15 F .197(xpression tools treat)
-.15 F(ne)144 249.6 Q -.05(ga)-.15 G 3.106(ted character classes, b).05
F 3.106(ut unfortunately the inconsistenc)-.2 F 5.606(yi)-.15 G 5.606
(sh)-5.606 G 3.106(istorically entrenched.)-5.606 F 1.313(Matching ne)
144 261.6 R 1.313(wlines means that a pattern lik)-.25 F 3.813(e[)-.1 G
1.313(^"]* can match the entire input unless there')-3.813 F(s)-.55 E
(another quote in the input.)144 273.6 Q 32.67(-A)108 290.4 S .679
(rule can ha)-29.491 F .979 -.15(ve a)-.2 H 3.179(tm).15 G .679
(ost one instance of trailing conte)-3.179 F .678
(xt \(the '/' operator or the '$' operator\).)-.15 F .288(The start con\
dition, '^', and "<<EOF>>" patterns can only occur at the be)144 302.4 R
.289(ginning of a pattern,)-.15 F .763(and, as well as with '/' and '$'\
, cannot be grouped inside parentheses.)144 314.4 R 3.262(A')5.762 G
.762(^' which does not)-3.262 F .179(occur at the be)144 326.4 R .18(gi\
nning of a rule or a '$' which does not occur at the end of a rule lose\
s its spe-)-.15 F(cial properties and is treated as a normal character)
144 338.4 Q(.)-.55 E(The follo)144 355.2 Q(wing are ille)-.25 E -.05(ga)
-.15 G(l:).05 E(foo/bar$)154 379.2 Q(<sc1>foo<sc2>bar)154 391.2 Q
(Note that the \214rst of these, can be written "foo/bar\\n".)144 415.2
Q(The follo)144 432 Q
(wing will result in '$' or '^' being treated as a normal character:)
-.25 E(foo|\(bar$\))154 456 Q(foo|^bar)154 468 Q .816(If what')144 492 R
3.316(sw)-.55 G .816(anted is a "foo" or a bar)-3.416 F(-follo)-.2 E
(wed-by-a-ne)-.25 E .815(wline, the follo)-.25 F .815
(wing could be used \(the)-.25 F(special '|' action is e)144 504 Q
(xplained belo)-.15 E(w\):)-.25 E 12.5(foo |)154 528 R 10(bar$ /*)154
540 R(action goes here */)2.5 E 2.5(As)144 564 S(imilar trick will w)
-2.5 E(ork for matching a foo or a bar)-.1 E(-at-the-be)-.2 E
(ginning-of-a-line.)-.15 E/F3 10.95/Times-Bold@0 SF(HO)72 580.8 Q 2.738
(WT)-.548 G(HE INPUT IS MA)-2.738 E(TCHED)-1.04 E F0 .382(When the gene\
rated scanner is run, it analyzes its input looking for strings which m\
atch an)108 592.8 R 2.882(yo)-.15 G 2.882(fi)-2.882 G .382(ts pat-)
-2.882 F 2.553(terns. If)108 604.8 R .053
(it \214nds more than one match, it tak)2.553 F .052
(es the one matching the most te)-.1 F .052(xt \(for trailing conte)-.15
F .052(xt rules,)-.15 F .243
(this includes the length of the trailing part, e)108 616.8 R -.15(ve)
-.25 G 2.743(nt).15 G .243
(hough it will then be returned to the input\).)-2.743 F .244
(If it \214nds)5.244 F(tw)108 628.8 Q 2.5(oo)-.1 G 2.5(rm)-2.5 G
(ore matches of the same length, the rule listed \214rst in the)-2.5 E
F2<8d65>2.5 E(x)-.2 E F0(input \214le is chosen.)2.5 E .396
(Once the match is determined, the te)108 645.6 R .396
(xt corresponding to the match \(called the)-.15 F F2(tok)2.896 E(en\))
-.1 E F0 .396(is made a)2.896 F -.25(va)-.2 G(ilable).25 E 1.134
(in the global character pointer)108 657.6 R F1(yytext,)3.634 E F0 1.134
(and its length in the global inte)3.634 F(ger)-.15 E F1(yyleng)3.634 E
(.)-.15 E F0(The)6.134 E F2(action)3.634 E F0(corre-)3.635 E .615
(sponding to the matched pattern is then e)108 669.6 R -.15(xe)-.15 G
.615(cuted \(a more detailed description of actions follo).15 F .615
(ws\), and)-.25 F
(then the remaining input is scanned for another match.)108 681.6 Q
1.232(If no match is found, then the)108 698.4 R F2 1.232(default rule)
3.732 F F0 1.232(is e)3.732 F -.15(xe)-.15 G 1.232(cuted: the ne).15 F
1.232(xt character in the input is considered)-.15 F
(matched and copied to the standard output.)108 710.4 Q
(Thus, the simplest le)5 E -.05(ga)-.15 G(l).05 E F2<8d65>2.5 E(x)-.2 E
F0(input is:)2.5 E(%%)118 734.4 Q(which generates a scanner that simply\
 copies its input \(one character at a time\) to its output.)108 758.4 Q
1.005(Note that)108 775.2 R F1(yytext)3.505 E F0 1.004
(can be de\214ned in tw)3.505 F 3.504(od)-.1 G(if)-3.504 E 1.004
(ferent w)-.25 F 1.004(ays: either as a character)-.1 F F2(pointer)3.504
E F0 1.004(or as a character)3.504 F -1.11(Ve)72 817.889 S(rsion 2.5)
1.11 E(April 1995)158.283 E(7)198.832 E 0 Cg EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R/F1 10
/Times-Italic@0 SF(arr)108 84 Q(ay)-.15 E(.)-.55 E F0 -1.1(Yo)5.607 G
3.107(uc)1.1 G .607(an control which de\214nition)-3.107 F F1<8d65>3.108
E(x)-.2 E F0 .608(uses by including one of the special directi)3.108 F
-.15(ve)-.25 G(s).15 E/F2 10/Times-Bold@0 SF(%pointer)3.108 E F0(or)108
96 Q F2(%array)2.783 E F0 .283
(in the \214rst \(de\214nitions\) section of your \215e)2.783 F 2.783
(xi)-.15 G 2.783(nput. The)-2.783 F(def)2.782 E .282(ault is)-.1 F F2
(%pointer)2.782 E(,)-.92 E F0 .282(unless you use)2.782 F(the)108 108 Q
F2(-l)5.173 E F0(le)5.173 E 5.173(xc)-.15 G 2.673
(ompatibility option, in which case)-5.173 F F2(yytext)5.173 E F0 2.674
(will be an array)5.173 F 7.674(.T)-.65 G 2.674(he adv)-7.674 F 2.674
(antage of using)-.25 F F2(%pointer)108 120 Q F0 1.618
(is substantially f)4.119 F 1.618(aster scanning and no b)-.1 F(uf)-.2 E
1.618(fer o)-.25 F -.15(ve)-.15 G(r\215o).15 E 4.118(ww)-.25 G 1.618
(hen matching v)-4.118 F 1.618(ery lar)-.15 F 1.618(ge tok)-.18 F(ens)
-.1 E 1.545(\(unless you run out of dynamic memory\).)108 132 R 1.545
(The disadv)6.545 F 1.546(antage is that you are restricted in ho)-.25 F
4.046(wy)-.25 G(our)-4.046 E .367(actions can modify)108 144 R F2
(yytext)2.867 E F0 .367(\(see the ne)2.867 F .367
(xt section\), and calls to the)-.15 F F2(unput\(\))2.866 E F0 .366
(function destro)2.866 F .366(ys the present)-.1 F .725(contents of)108
156 R F2(yytext,)3.225 E F0 .725
(which can be a considerable porting headache when mo)3.225 F .726
(ving between dif)-.15 F(ferent)-.25 E F1(le)3.226 E(x)-.2 E F0 -.15(ve)
108 168 S(rsions.).15 E 1.571(The adv)108 184.8 R 1.571(antage of)-.25 F
F2(%array)4.071 E F0 1.571(is that you can then modify)4.071 F F2
(yytext)4.071 E F0 1.571(to your heart')4.071 F 4.071(sc)-.55 G 1.57
(ontent, and calls to)-4.071 F F2(unput\(\))108 196.8 Q F0 2.053
(do not destro)4.553 F(y)-.1 E F2(yytext)4.554 E F0 2.054(\(see belo)
4.554 F 4.554(w\). Furthermore,)-.25 F -.15(ex)4.554 G(isting).15 E F1
(le)4.554 E(x)-.2 E F0 2.054(programs sometimes access)4.554 F F2
(yytext)108 208.8 Q F0 -.15(ex)2.5 G
(ternally using declarations of the form:).15 E -.15(ex)118 220.8 S
(tern char yyte).15 E(xt[];)-.15 E
(This de\214nition is erroneous when used with)108 232.8 Q F2(%pointer)
2.5 E(,)-.92 E F0 -.2(bu)2.5 G 2.5(tc).2 G(orrect for)-2.5 E F2(%array)
2.5 E(.)-.7 E(%array)108 249.6 Q F0(de\214nes)3.12 E F2(yytext)3.12 E F0
.62(to be an array of)3.12 F F2(YYLMAX)3.12 E F0 .62
(characters, which def)3.12 F .619(aults to a f)-.1 F .619(airly lar)-.1
F .619(ge v)-.18 F(alue.)-.25 E -1.1(Yo)108 261.6 S 3.61(uc)1.1 G 1.111
(an change the size by simply #de\214ne'ing)-3.61 F F2(YYLMAX)3.611 E F0
1.111(to a dif)3.611 F 1.111(ferent v)-.25 F 1.111
(alue in the \214rst section of)-.25 F(your)108 273.6 Q F1<8d65>2.908 E
(x)-.2 E F0 2.908(input. As)2.908 F .407(mentioned abo)2.908 F -.15(ve)
-.15 G 2.907(,w).15 G(ith)-2.907 E F2(%pointer)2.907 E F0(yyte)2.907 E
.407(xt gro)-.15 F .407(ws dynamically to accommodate lar)-.25 F(ge)-.18
E(tok)108 285.6 Q 2.801(ens. While)-.1 F .301(this means your)2.801 F F2
(%pointer)2.802 E F0 .302(scanner can accommodate v)2.802 F .302
(ery lar)-.15 F .302(ge tok)-.18 F .302(ens \(such as match-)-.1 F .219
(ing entire blocks of comments\), bear in mind that each time the scann\
er must resize)108 297.6 R F2(yytext)2.719 E F0 .219(it also must)2.719
F .571(rescan the entire tok)108 309.6 R .571(en from the be)-.1 F .571
(ginning, so matching such tok)-.15 F .571(ens can pro)-.1 F .871 -.15
(ve s)-.15 H(lo).15 E -.65(w.)-.25 G F2(yytext)6.221 E F0(presently)
3.071 E(does)108 321.6 Q F1(not)3.234 E F0 .734(dynamically gro)3.234 F
3.234(wi)-.25 G 3.234(fac)-3.234 G .734(all to)-3.234 F F2(unput\(\))
3.234 E F0 .734(results in too much te)3.234 F .733
(xt being pushed back; instead, a)-.15 F(run-time error results.)108
333.6 Q(Also note that you cannot use)108 350.4 Q F2(%array)2.5 E F0
(with C++ scanner classes \(the)2.5 E F2(c++)2.5 E F0(option; see belo)
2.5 E(w\).)-.25 E/F3 10.95/Times-Bold@0 SF -.602(AC)72 367.2 S(TIONS)
.602 E F0 .325
(Each pattern in a rule has a corresponding action, which can be an)108
379.2 R 2.825(ya)-.15 G .325(rbitrary C statement.)-2.825 F .325
(The pattern)5.325 F .496(ends at the \214rst non-escaped whitespace ch\
aracter; the remainder of the line is its action.)108 391.2 R .495
(If the action)5.495 F .815(is empty)108 403.2 R 3.315(,t)-.65 G .815
(hen when the pattern is matched the input tok)-3.315 F .816
(en is simply discarded.)-.1 F -.15(Fo)5.816 G 3.316(re).15 G .816
(xample, here is)-3.466 F(the speci\214cation for a program which delet\
es all occurrences of "zap me" from its input:)108 415.2 Q(%%)118 439.2
Q("zap me")118 451.2 Q 1.045(\(It will cop)108 475.2 R 3.545(ya)-.1 G
1.045(ll other characters in the input to the output since the)-3.545 F
3.544(yw)-.15 G 1.044(ill be matched by the def)-3.544 F(ault)-.1 E
(rule.\))108 487.2 Q .162
(Here is a program which compresses multiple blanks and tabs do)108 504
R .162(wn to a single blank, and thro)-.25 F .163(ws a)-.25 F -.1(wa)
-.15 G(y).1 E(whitespace found at the end of a line:)108 516 Q(%%)118
540 Q 2.5([\\)118 552 S 17.5(t]+ putchar\()-2.5 F 2.5(''\))2.5 G(;)-2.5
E 2.5([\\)118 564 S 15(t]+$ /*)-2.5 F(ignore this tok)2.5 E(en */)-.1 E
1.164(If the action contains a '{', then the action spans till the bala\
ncing '}' is found, and the action may)108 592.8 R .968
(cross multiple lines.)108 604.8 R F1<8d65>5.968 E(x)-.2 E F0(kno)3.468
E .968(ws about C strings and comments and w)-.25 F(on')-.1 E 3.469(tb)
-.18 G 3.469(ef)-3.469 G .969(ooled by braces found)-3.469 F .397
(within them, b)108 616.8 R .397(ut also allo)-.2 F .397
(ws actions to be)-.25 F .397(gin with)-.15 F F2(%{)2.897 E F0 .397
(and will consider the action to be all the te)2.897 F .396(xt up)-.15 F
(to the ne)108 628.8 Q(xt)-.15 E F2(%})2.5 E F0(\(re)2.5 E -.05(ga)-.15
G(rdless of ordinary braces inside the action\).).05 E 1.293
(An action consisting solely of a v)108 645.6 R 1.293
(ertical bar \('|'\) means "same as the action for the ne)-.15 F 1.293
(xt rule.")-.15 F(See)6.294 E(belo)108 657.6 Q 2.5(wf)-.25 G
(or an illustration.)-2.5 E .237
(Actions can include arbitrary C code, including)108 674.4 R F2 -.18(re)
2.737 G(tur).18 E(n)-.15 E F0 .237(statements to return a v)2.737 F .237
(alue to whate)-.25 F -.15(ve)-.25 G 2.737(rr).15 G(outine)-2.737 E
(called)108 686.4 Q F2(yylex\(\).)3.724 E F0 1.224(Each time)6.224 F F2
(yylex\(\))3.724 E F0 1.224(is called it continues processing tok)3.724
F 1.224(ens from where it last left of)-.1 F(f)-.25 E
(until it either reaches the end of the \214le or e)108 698.4 Q -.15(xe)
-.15 G(cutes a return.).15 E 1.349(Actions are free to modify)108 715.2
R F2(yytext)3.849 E F0 -.15(ex)3.849 G 1.349
(cept for lengthening it \(adding characters to its end--these will).15
F -.15(ove)108 727.2 S .513
(rwrite later characters in the input stream\).).15 F .514(This ho)5.514
F(we)-.25 E -.15(ve)-.25 G 3.014(rd).15 G .514(oes not apply when using)
-3.014 F F2(%array)3.014 E F0(\(see)3.014 E(abo)108 739.2 Q -.15(ve)-.15
G(\); in that case,).15 E F2(yytext)2.5 E F0
(may be freely modi\214ed in an)2.5 E 2.5(yw)-.15 G(ay)-2.6 E(.)-.65 E
1.763(Actions are free to modify)108 756 R F2(yyleng)4.263 E F0 -.15(ex)
4.263 G 1.763(cept the).15 F 4.263(ys)-.15 G 1.763
(hould not do so if the action also includes use of)-4.263 F F2(yymor)
108 768 Q(e\(\))-.18 E F0(\(see belo)2.5 E(w\).)-.25 E 198.833(8A)72
817.889 S(pril 1995)-198.833 E -1.11(Ve)158.282 G(rsion 2.5)1.11 E 0 Cg
EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R
(There are a number of special directi)108 84 Q -.15(ve)-.25 G 2.5(sw)
.15 G(hich can be included within an action:)-2.5 E(-)108 100.8 Q/F1 10
/Times-Bold@0 SF(ECHO)32.67 E F0(copies yyte)2.5 E(xt to the scanner')
-.15 E 2.5(so)-.55 G(utput.)-2.5 E(-)108 117.6 Q F1(BEGIN)32.67 E F0
(follo)2.527 E .028(wed by the name of a start condition places the sca\
nner in the corresponding start)-.25 F(condition \(see belo)144 129.6 Q
(w\).)-.25 E(-)108 146.4 Q F1(REJECT)32.67 E F0 .319(directs the scanne\
r to proceed on to the "second best" rule which matched the input)2.819
F 2.416(\(or a pre\214x of the input\).)144 158.4 R 2.417
(The rule is chosen as described abo)7.417 F 2.717 -.15(ve i)-.15 H
4.917(n").15 G(Ho)-4.917 E 4.917(wt)-.25 G 2.417(he Input is)-4.917 F
.136(Matched", and)144 170.4 R F1(yytext)2.636 E F0(and)2.636 E F1
(yyleng)2.636 E F0 .136(set up appropriately)2.636 F 5.136(.I)-.65 G
2.636(tm)-5.136 G .135(ay either be one which matched as)-2.636 F 1.692
(much te)144 182.4 R 1.692(xt as the originally chosen rule b)-.15 F
1.692(ut came later in the)-.2 F/F2 10/Times-Italic@0 SF<8d65>4.192 E(x)
-.2 E F0 1.692(input \214le, or one which)4.192 F .51(matched less te)
144 194.4 R 3.01(xt. F)-.15 F .51(or e)-.15 F .51(xample, the follo)-.15
F .51(wing will both count the w)-.25 F .509(ords in the input and call)
-.1 F(the routine special\(\) whene)144 206.4 Q -.15(ve)-.25 G 2.5(r")
.15 G(frob" is seen:)-2.5 E(int w)174 230.4 Q(ord_count = 0;)-.1 E(%%)
154 242.4 Q 17.5(frob special\(\);)154 266.4 R(REJECT)2.5 E(;)-.55 E
([^ \\t\\n]+)154 278.4 Q(++w)7.5 E(ord_count;)-.1 E -.4(Wi)144 302.4 S
1.527(thout the).4 F F1(REJECT)4.027 E(,)-.74 E F0(an)4.027 E 4.027(y")
-.15 G(frob"')-4.027 E 4.027(si)-.55 G 4.027(nt)-4.027 G 1.527
(he input w)-4.027 F 1.527(ould not be counted as w)-.1 F 1.527
(ords, since the)-.1 F .563(scanner normally e)144 314.4 R -.15(xe)-.15
G .563(cutes only one action per tok).15 F 3.063(en. Multiple)-.1 F F1
(REJECT')3.063 E(s)-.37 E F0 .563(are allo)3.063 F .562(wed, each)-.25 F
.325(one \214nding the ne)144 326.4 R .325
(xt best choice to the currently acti)-.15 F .625 -.15(ve r)-.25 H 2.825
(ule. F).15 F .325(or e)-.15 F .325(xample, when the follo)-.15 F(wing)
-.25 E(scanner scans the tok)144 338.4 Q
(en "abcd", it will write "abcdabcaba" to the output:)-.1 E(%%)154 362.4
Q 20(a|)154 374.4 S 15(ab |)154 386.4 R 12.5(abc |)154 398.4 R 10
(abcd ECHO;)154 410.4 R(REJECT)2.5 E(;)-.55 E 10(.|\\n /*)154 422.4 R
(eat up an)2.5 E 2.5(yu)-.15 G(nmatched character */)-2.5 E .481
(\(The \214rst three rules share the fourth')144 446.4 R 2.981(sa)-.55 G
.481(ction since the)-2.981 F 2.981(yu)-.15 G .481
(se the special '|' action.\))-2.981 F F1(REJECT)5.481 E F0 .632
(is a particularly e)144 458.4 R(xpensi)-.15 E .932 -.15(ve f)-.25 H
.632(eature in terms of scanner performance; if it is used in).15 F F2
(any)3.132 E F0 .633(of the)3.132 F(scanner')144 470.4 Q 4.128(sa)-.55 G
1.627(ctions it will slo)-4.128 F 4.127(wd)-.25 G -.25(ow)-4.127 G(n).25
E F2(all)4.127 E F0 1.627(of the scanner')4.127 F 4.127(sm)-.55 G 4.127
(atching. Furthermore,)-4.127 F F1(REJECT)4.127 E F0
(cannot be used with the)144 482.4 Q F2(-Cf)2.5 E F0(or)2.5 E F2(-CF)2.5
E F0(options \(see belo)2.5 E(w\).)-.25 E .872(Note also that unlik)144
499.2 R 3.372(et)-.1 G .872(he other special actions,)-3.372 F F1
(REJECT)3.373 E F0 .873(is a)3.373 F F2(br)3.373 E(anc)-.15 E(h;)-.15 E
F0 .873(code immediately fol-)3.373 F(lo)144 511.2 Q
(wing it in the action will)-.25 E F2(not)2.5 E F0(be e)2.5 E -.15(xe)
-.15 G(cuted.).15 E(-)108 528 Q F1(yymor)32.67 E(e\(\))-.18 E F0 .17
(tells the scanner that the ne)2.67 F .17
(xt time it matches a rule, the corresponding tok)-.15 F .169(en should)
-.1 F(be)144 540 Q F2(appended)2.965 E F0 .465(onto the current v)2.965
F .465(alue of)-.25 F F1(yytext)2.965 E F0 .465
(rather than replacing it.)2.965 F -.15(Fo)5.465 G 2.965(re).15 G .465
(xample, gi)-3.115 F -.15(ve)-.25 G 2.965(nt).15 G(he)-2.965 E
(input "me)144 552 Q -.05(ga)-.15 G(-kludge" the follo).05 E
(wing will write "me)-.25 E -.05(ga)-.15 G(-me).05 E -.05(ga)-.15 G
(-kludge" to the output:).05 E(%%)154 576 Q(me)154 588 Q -.05(ga)-.15 G
10(-E).05 G(CHO; yymore\(\);)-10 E 5(kludge ECHO;)154 600 R .614
(First "me)144 624 R -.05(ga)-.15 G .614
(-" is matched and echoed to the output.).05 F .613
(Then "kludge" is matched, b)5.614 F .613(ut the pre)-.2 F(vi-)-.25 E
.451(ous "me)144 636 R -.05(ga)-.15 G .451
(-" is still hanging around at the be).05 F .452(ginning of)-.15 F F1
(yytext)2.952 E F0 .452(so the)2.952 F F1(ECHO)2.952 E F0 .452
(for the "kludge")2.952 F(rule will actually write "me)144 648 Q -.05
(ga)-.15 G(-kludge".).05 E -1 -.8(Tw o)108 664.8 T .103(notes re)3.403 F
-.05(ga)-.15 G .103(rding use of).05 F F1(yymor)2.603 E(e\(\).)-.18 E F0
(First,)5.103 E F1(yymor)2.603 E(e\(\))-.18 E F0 .103(depends on the v)
2.603 F .103(alue of)-.25 F F2(yyleng)2.603 E F0 .103
(correctly re\215ect-)2.603 F .805(ing the size of the current tok)108
676.8 R .806(en, so you must not modify)-.1 F F2(yyleng)3.306 E F0 .806
(if you are using)3.306 F F1(yymor)3.306 E(e\(\).)-.18 E F0(Second,)
5.806 E .686(the presence of)108 688.8 R F1(yymor)3.186 E(e\(\))-.18 E
F0 .686(in the scanner')3.186 F 3.186(sa)-.55 G .685
(ction entails a minor performance penalty in the scanner')-3.186 F(s)
-.55 E(matching speed.)108 700.8 Q(-)108 717.6 Q F1(yyless\(n\))32.67 E
F0 1.175(returns all b)3.675 F 1.175(ut the \214rst)-.2 F F2(n)3.675 E
F0 1.175(characters of the current tok)3.675 F 1.176
(en back to the input stream,)-.1 F .7(where the)144 729.6 R 3.2(yw)-.15
G .7(ill be rescanned when the scanner looks for the ne)-3.2 F .699
(xt match.)-.15 F F1(yytext)5.699 E F0(and)3.199 E F1(yyleng)3.199 E F0
.929(are adjusted appropriately \(e.g.,)144 741.6 R F1(yyleng)3.429 E F0
.93(will no)3.429 F 3.43(wb)-.25 G 3.43(ee)-3.43 G .93(qual to)-3.43 F
F2(n)3.43 E F0 3.43(\). F)3.43 F .93(or e)-.15 F .93
(xample, on the input)-.15 F("foobar" the follo)144 753.6 Q
(wing will write out "foobarbar":)-.25 E(%%)154 777.6 Q -1.11(Ve)72
817.889 S(rsion 2.5)1.11 E(April 1995)158.283 E(9)198.832 E 0 Cg EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R 7.5
(foobar ECHO;)154 84 R(yyless\(3\);)2.5 E 7.5([a-z]+ ECHO;)154 96 R
1.588(An ar)144 120 R 1.588(gument of 0 to)-.18 F/F1 10/Times-Bold@0 SF
(yyless)4.087 E F0 1.587
(will cause the entire current input string to be scanned ag)4.087 F
(ain.)-.05 E .016(Unless you')144 132 R .316 -.15(ve c)-.5 H .016
(hanged ho).15 F 2.516(wt)-.25 G .017
(he scanner will subsequently process its input \(using)-2.516 F F1
(BEGIN,)2.517 E F0(for)2.517 E -.15(ex)144 144 S
(ample\), this will result in an endless loop.).15 E(Note that)108 160.8
Q F1(yyless)2.5 E F0(is a macro and can only be used in the \215e)2.5 E
2.5(xi)-.15 G(nput \214le, not from other source \214les.)-2.5 E(-)108
177.6 Q F1(unput\(c\))32.67 E F0 2.467(puts the character)4.967 F/F2 10
/Times-Italic@0 SF(c)4.967 E F0 2.466(back onto the input stream.)4.967
F 2.466(It will be the ne)7.466 F 2.466(xt character)-.15 F 4.946
(scanned. The)144 189.6 R(follo)4.946 E 2.446(wing action will tak)-.25
F 4.946(et)-.1 G 2.446(he current tok)-4.946 F 2.446
(en and cause it to be rescanned)-.1 F(enclosed in parentheses.)144
201.6 Q({)154 225.6 Q(int i;)154 237.6 Q(/* Cop)154 249.6 Q 2.5(yy)-.1 G
(yte)-2.5 E(xt because unput\(\) trashes yyte)-.15 E(xt */)-.15 E
(char *yycop)154 261.6 Q 2.5(y=s)-.1 G(trdup\( yyte)-2.5 E(xt \);)-.15 E
(unput\( '\)' \);)154 273.6 Q(for \( i = yyleng - 1; i >= 0; --i \))154
285.6 Q(unput\( yycop)164 297.6 Q(y[i] \);)-.1 E(unput\( '\(' \);)154
309.6 Q(free\( yycop)154 321.6 Q 2.5(y\))-.1 G(;)-2.5 E(})154 333.6 Q
1.991(Note that since each)144 357.6 R F1(unput\(\))4.491 E F0 1.99
(puts the gi)4.491 F -.15(ve)-.25 G 4.49(nc).15 G 1.99
(haracter back at the)-4.49 F F2(be)4.49 E(ginning)-.4 E F0 1.99
(of the input)4.49 F
(stream, pushing back strings must be done back-to-front.)144 369.6 Q
.563(An important potential problem when using)108 386.4 R F1(unput\(\))
3.063 E F0 .564(is that if you are using)3.063 F F1(%pointer)3.064 E F0
.564(\(the def)3.064 F .564(ault\), a)-.1 F .651(call to)108 398.4 R F1
(unput\(\))3.151 E F2(destr)3.151 E(oys)-.45 E F0 .651(the contents of)
3.151 F F2(yyte)3.15 E(xt,)-.2 E F0 .65
(starting with its rightmost character and de)3.15 F -.2(vo)-.25 G .65
(uring one).2 F .241(character to the left with each call.)108 410.4 R
.241(If you need the v)5.241 F .241(alue of yyte)-.25 F .241(xt preserv)
-.15 F .242(ed after a call to)-.15 F F1(unput\(\))2.742 E F0(\(as)2.742
E 1.195(in the abo)108 422.4 R 1.495 -.15(ve ex)-.15 H 1.195
(ample\), you must either \214rst cop).15 F 3.695(yi)-.1 G 3.695(te)
-3.695 G(lse)-3.695 E 1.195(where, or b)-.25 F 1.194
(uild your scanner using)-.2 F F1(%array)3.694 E F0(instead \(see Ho)108
434.4 Q 2.5(wT)-.25 G(he Input Is Matched\).)-2.5 E(Finally)108 451.2 Q
2.5(,n)-.65 G(ote that you cannot put back)-2.5 E F1(EOF)2.5 E F0
(to attempt to mark the input stream with an end-of-\214le.)2.5 E(-)108
468 Q F1(input\(\))32.67 E F0 .194(reads the ne)2.694 F .194
(xt character from the input stream.)-.15 F -.15(Fo)5.194 G 2.694(re).15
G .195(xample, the follo)-2.844 F .195(wing is one w)-.25 F(ay)-.1 E
(to eat up C comments:)144 480 Q(%%)154 504 Q 17.5("/*" {)154 516 R(re)
184 528 Q(gister int c;)-.15 E(for \( ; ; \))184 552 Q({)194 564 Q
(while \( \(c = input\(\)\) != '*' &&)194 576 Q 2.5(c!)214 588 S 2.5(=E)
-2.5 G(OF \))-2.5 E 10(;/)204 600 S 2.5(*e)-10 G(at up te)-2.5 E
(xt of comment */)-.15 E(if \( c == '*' \))194 624 Q({)204 636 Q
(while \( \(c = input\(\)\) == '*' \))204 648 Q(;)214 660 Q
(if \( c == '/' \))204 672 Q 7.5(break; /*)214 684 R(found the end */)
2.5 E(})204 696 Q(if \( c == EOF \))194 720 Q({)204 732 Q
(error\( "EOF in comment" \);)204 744 Q(break;)204 756 Q(})204 768 Q(})
194 780 Q 191.333(10 April)72 817.889 R 155.782(1995 V)2.5 F(ersion 2.5)
-1.11 E 0 Cg EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R(})184 84 Q
.929(\(Note that if the scanner is compiled using)144 108 R/F1 10
/Times-Bold@0 SF(C++,)3.429 E F0(then)3.429 E F1(input\(\))3.429 E F0
.929(is instead referred to as)3.429 F F1(yyin-)3.429 E(put\(\),)144 120
Q F0(in order to a)2.5 E -.2(vo)-.2 G(id a name clash with the).2 E F1
(C++)2.5 E F0(stream by the name of)2.5 E/F2 10/Times-Italic@0 SF
(input.\))2.5 E F0(-)108 136.8 Q F1(YY_FLUSH_B)32.67 E(UFFER)-.1 E F0
.511(\215ushes the scanner')3.011 F 3.011(si)-.55 G .511(nternal b)
-3.011 F(uf)-.2 E .511(fer so that the ne)-.25 F .512
(xt time the scanner)-.15 F .659(attempts to match a tok)144 148.8 R
.658(en, it will \214rst re\214ll the b)-.1 F(uf)-.2 E .658(fer using)
-.25 F F1(YY_INPUT)3.158 E F0 .658(\(see The Generated)3.158 F(Scanner)
144 160.8 Q 2.621(,b)-.4 G(elo)-2.621 E 2.622(w\). This)-.25 F .122
(action is a special case of the more general)2.622 F F1(yy_\215ush_b)
2.622 E(uffer\(\))-.2 E F0(function,)2.622 E(described belo)144 172.8 Q
2.5(wi)-.25 G 2.5(nt)-2.5 G(he section Multiple Input Buf)-2.5 E(fers.)
-.25 E(-)108 189.6 Q F1(yyterminate\(\))32.67 E F0 .273
(can be used in lieu of a return statement in an action.)2.773 F .272
(It terminates the scanner)5.273 F .205(and returns a 0 to the scanner')
144 201.6 R 2.705(sc)-.55 G(aller)-2.705 E 2.705(,i)-.4 G .205
(ndicating "all done".)-2.705 F .205(By def)5.205 F(ault,)-.1 E F1
(yyterminate\(\))2.705 E F0 .205(is also)2.705 F
(called when an end-of-\214le is encountered.)144 213.6 Q
(It is a macro and may be rede\214ned.)5 E/F3 10.95/Times-Bold@0 SF
(THE GENERA)72 230.4 Q(TED SCANNER)-1.04 E F0 .743(The output of)108
242.4 R F2<8d65>3.243 E(x)-.2 E F0 .743(is the \214le)3.243 F F1(lex.yy)
3.243 E(.c,)-.7 E F0 .743(which contains the scanning routine)3.243 F F1
(yylex\(\),)3.242 E F0 3.242(an)3.242 G .742(umber of tables)-3.242 F
.603(used by it for matching tok)108 254.4 R .603
(ens, and a number of auxiliary routines and macros.)-.1 F .604(By def)
5.604 F(ault,)-.1 E F1(yylex\(\))3.104 E F0(is)3.104 E
(declared as follo)108 266.4 Q(ws:)-.25 E(int yyle)118 290.4 Q(x\(\))
-.15 E({)128 302.4 Q(... v)128 314.4 Q
(arious de\214nitions and the actions in here ...)-.25 E(})128 326.4 Q
.674(\(If your en)108 350.4 R .674
(vironment supports function prototypes, then it will be "int yyle)-.4 F
.673(x\( v)-.15 F .673(oid \)".\))-.2 F .673(This de\214nition)5.673 F
(may be changed by de\214ning the "YY_DECL" macro.)108 362.4 Q -.15(Fo)5
G 2.5(re).15 G(xample, you could use:)-2.65 E
(#de\214ne YY_DECL \215oat le)118 386.4 Q(xscan\( a, b \) \215oat a, b;)
-.15 E 1.169(to gi)108 410.4 R 1.469 -.15(ve t)-.25 H 1.169
(he scanning routine the name).15 F F2(le)3.669 E(xscan,)-.2 E F0 1.169
(returning a \215oat, and taking tw)3.669 F 3.669<6f8d>-.1 G 1.169
(oats as ar)-3.669 F(guments.)-.18 E 1.329(Note that if you gi)108 422.4
R 1.629 -.15(ve a)-.25 H -.18(rg).15 G 1.329(uments to the scanning rou\
tine using a K&R-style/non-prototyped function).18 F(declaration, you m\
ust terminate the de\214nition with a semi-colon \(;\).)108 434.4 Q
(Whene)108 451.2 Q -.15(ve)-.25 G(r).15 E F1(yylex\(\))3.045 E F0 .545
(is called, it scans tok)3.045 F .545(ens from the global input \214le)
-.1 F F2(yyin)3.045 E F0 .545(\(which def)3.045 F .545
(aults to stdin\).)-.1 F(It)5.545 E .075(continues until it either reac\
hes an end-of-\214le \(at which point it returns the v)108 463.2 R .075
(alue 0\) or one of its actions)-.25 F -.15(exe)108 475.2 S(cutes a).15
E F2 -.37(re)2.5 G(turn).37 E F0(statement.)2.5 E .909(If the scanner r\
eaches an end-of-\214le, subsequent calls are unde\214ned unless either)
108 492 R F2(yyin)3.409 E F0 .909(is pointed at a)3.409 F(ne)108 504 Q
3.417(wi)-.25 G .917
(nput \214le \(in which case scanning continues from that \214le\), or)
-3.417 F F1(yyr)3.417 E(estart\(\))-.18 E F0 .917(is called.)3.417 F F1
(yyr)5.917 E(estart\(\))-.18 E F0(tak)108 516 Q .695(es one ar)-.1 F
.695(gument, a)-.18 F F1 .695(FILE *)3.195 F F0 .695
(pointer \(which can be nil, if you')3.195 F .996 -.15(ve s)-.5 H .696
(et up).15 F F1(YY_INPUT)3.196 E F0 .696(to scan from a)3.196 F .866
(source other than)108 528 R F2(yyin\),)3.366 E F0 .866(and initializes)
3.366 F F2(yyin)3.366 E F0 .866(for scanning from that \214le.)3.366 F
.866(Essentially there is no dif)5.866 F(fer)-.25 E(-)-.2 E .283
(ence between just assigning)108 540 R F2(yyin)2.783 E F0 .283(to a ne)
2.783 F 2.783(wi)-.25 G .283(nput \214le or using)-2.783 F F1(yyr)2.784
E(estart\(\))-.18 E F0 .284(to do so; the latter is a)2.784 F -.25(va)
-.2 G(ilable).25 E .622(for compatibility with pre)108 552 R .622
(vious v)-.25 F .622(ersions of)-.15 F F2<8d65>3.122 E(x,)-.2 E F0 .622
(and because it can be used to switch input \214les in the)3.122 F .966
(middle of scanning.)108 564 R .966(It can also be used to thro)5.966 F
3.466(wa)-.25 G -.1(wa)-3.616 G 3.466(yt).1 G .966(he current input b)
-3.466 F(uf)-.2 E(fer)-.25 E 3.466(,b)-.4 G 3.466(yc)-3.466 G .966
(alling it with an)-3.466 F(ar)108 576 Q .531(gument of)-.18 F F2(yyin;)
3.031 E F0 -.2(bu)3.031 G 3.031(tb).2 G .53(etter is to use)-3.031 F F1
(YY_FLUSH_B)3.03 E(UFFER)-.1 E F0 .53(\(see abo)3.03 F -.15(ve)-.15 G
3.03(\). Note).15 F(that)3.03 E F1(yyr)3.03 E(estart\(\))-.18 E F0(does)
3.03 E F2(not)108 588 Q F0(reset the start condition to)2.5 E F1
(INITIAL)2.5 E F0(\(see Start Conditions, belo)2.5 E(w\).)-.25 E(If)108
604.8 Q F1(yylex\(\))3.637 E F0 1.138(stops scanning due to e)3.638 F
-.15(xe)-.15 G 1.138(cuting a).15 F F2 -.37(re)3.638 G(turn).37 E F0
1.138(statement in one of the actions, the scanner may)3.638 F
(then be called ag)108 616.8 Q
(ain and it will resume scanning where it left of)-.05 E(f.)-.25 E .325
(By def)108 633.6 R .325(ault \(and for purposes of ef)-.1 F(\214cienc)
-.25 E .325(y\), the scanner uses block-reads rather than simple)-.15 F
F2 -.1(ge)2.825 G(tc\(\)).1 E F0(calls)2.825 E 1.514
(to read characters from)108 645.6 R F2(yyin.)4.014 E F0 1.515
(The nature of ho)6.514 F 4.015(wi)-.25 G 4.015(tg)-4.015 G 1.515
(ets its input can be controlled by de\214ning the)-4.015 F F1(YY_INPUT)
108 657.6 Q F0 3.423(macro. YY_INPUT')3.424 F 3.423(sc)-.55 G .923
(alling sequence is "YY_INPUT\(b)-3.423 F 3.423
(uf,result,max_size\)". Its)-.2 F(action)3.423 E .538(is to place up to)
108 669.6 R F2(max_size)3.038 E F0 .538
(characters in the character array)3.038 F F2 -.2(bu)3.038 G(f).2 E F0
.538(and return in the inte)3.038 F .538(ger v)-.15 F(ariable)-.25 E F2
-.37(re)3.039 G(sult).37 E F0 .645(either the number of characters read\
 or the constant YY_NULL \(0 on Unix systems\) to indicate EOF)108 681.6
R(.)-.8 E(The def)108 693.6 Q
(ault YY_INPUT reads from the global \214le-pointer "yyin".)-.1 E 2.5
(As)108 710.4 S(ample de\214nition of YY_INPUT \(in the de\214nitions s\
ection of the input \214le\):)-2.5 E(%{)118 734.4 Q
(#de\214ne YY_INPUT\(b)118 746.4 Q(uf,result,max_size\) \\)-.2 E 2.5
({\\)128 758.4 S(int c = getchar\(\); \\)128 770.4 Q -1.11(Ve)72 817.889
S(rsion 2.5)1.11 E(April 1995)158.283 E(11)193.832 E 0 Cg EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R
(result = \(c == EOF\) ? YY_NULL : \(b)128 84 Q(uf[0] = c, 1\); \\)-.2 E
(})128 96 Q(%})118 108 Q(This de\214nition will change the input proces\
sing to occur one character at a time.)108 132 Q 1.612
(When the scanner recei)108 148.8 R -.15(ve)-.25 G 4.112(sa).15 G 4.112
(ne)-4.112 G 1.612(nd-of-\214le indication from YY_INPUT)-4.112 F 4.112
(,i)-.74 G 4.112(tt)-4.112 G 1.612(hen checks the)-4.112 F/F1 10
/Times-Bold@0 SF(yywrap\(\))4.112 E F0 3.083(function. If)108 160.8 R F1
(yywrap\(\))3.083 E F0 .583(returns f)3.083 F .583(alse \(zero\), then \
it is assumed that the function has gone ahead and set)-.1 F(up)108
172.8 Q/F2 10/Times-Italic@0 SF(yyin)3.745 E F0 1.245
(to point to another input \214le, and scanning continues.)3.745 F 1.245
(If it returns true \(non-zero\), then the)6.245 F 2.263
(scanner terminates, returning 0 to its caller)108 184.8 R 7.263(.N)-.55
G 2.263(ote that in either case, the start condition remains)-7.263 F
(unchanged; it does)108 196.8 Q F2(not)2.5 E F0(re)2.5 E -.15(ve)-.25 G
(rt to).15 E F1(INITIAL.)2.5 E F0 .498(If you do not supply your o)108
213.6 R .498(wn v)-.25 F .498(ersion of)-.15 F F1(yywrap\(\),)2.999 E F0
.499(then you must either use)2.999 F F1 .499(%option noyywrap)2.999 F
F0(\(in)2.999 E .849(which case the scanner beha)108 225.6 R -.15(ve)-.2
G 3.349(sa).15 G 3.349(st)-3.349 G(hough)-3.349 E F1(yywrap\(\))3.349 E
F0 .848(returned 1\), or you must link with)3.349 F F1<ad6c8d>3.348 E F0
.848(to obtain)3.348 F(the def)108 237.6 Q(ault v)-.1 E
(ersion of the routine, which al)-.15 E -.1(wa)-.1 G(ys returns 1.).1 E
.823(Three routines are a)108 254.4 R -.25(va)-.2 G .823
(ilable for scanning from in-memory b).25 F(uf)-.2 E .823
(fers rather than \214les:)-.25 F F1(yy_scan_string\(\),)3.323 E
(yy_scan_bytes\(\),)108 266.4 Q F0(and)4.161 E F1(yy_scan_b)4.161 E
(uffer\(\).)-.2 E F0 1.66(See the discussion of them belo)6.661 F 4.16
(wi)-.25 G 4.16(nt)-4.16 G 1.66(he section Multiple)-4.16 F(Input Buf)
108 278.4 Q(fers.)-.25 E .721(The scanner writes its)108 295.2 R F1
(ECHO)3.221 E F0 .721(output to the)3.221 F F2(yyout)3.221 E F0 .721
(global \(def)3.221 F .721(ault, stdout\), which may be rede\214ned by)
-.1 F(the user simply by assigning it to some other)108 307.2 Q F1(FILE)
2.5 E F0(pointer)2.5 E(.)-.55 E/F3 10.95/Times-Bold@0 SF(ST)72 324 Q(AR)
-.986 E 2.738(TC)-.438 G(ONDITIONS)-2.738 E F2<8d65>108 336 Q(x)-.2 E F0
(pro)3.321 E .821(vides a mechanism for conditionally acti)-.15 F -.25
(va)-.25 G .82(ting rules.).25 F(An)5.82 E 3.32(yr)-.15 G .82
(ule whose pattern is pre\214x)-3.32 F .82(ed with)-.15 F
("<sc>" will only be acti)108 348 Q .3 -.15(ve w)-.25 H
(hen the scanner is in the start condition named "sc".).15 E -.15(Fo)5 G
2.5(re).15 G(xample,)-2.65 E 17.5(<STRING>[^"]* {)118 372 R
(/* eat up the string body ... */)2.5 E(...)148 384 Q(})148 396 Q
(will be acti)108 420 Q .3 -.15(ve o)-.25 H
(nly when the scanner is in the "STRING" start condition, and).15 E
(<INITIAL,STRING,Q)118 444 Q(UO)-.1 E 17.5(TE>\\. {)-.4 F
(/* handle an escape ... */)2.5 E(...)148 456 Q(})148 468 Q
(will be acti)108 492 Q .3 -.15(ve o)-.25 H(nly when the current start \
condition is either "INITIAL", "STRING", or "Q).15 E(UO)-.1 E(TE".)-.4 E
.456(Start conditions are declared in the de\214nitions \(\214rst\) sec\
tion of the input using unindented lines be)108 508.8 R(gin-)-.15 E .231
(ning with either)108 520.8 R F1(%s)2.731 E F0(or)2.731 E F1(%x)2.731 E
F0(follo)2.73 E .23(wed by a list of names.)-.25 F .23
(The former declares)5.23 F F2(inclusive)2.73 E F0 .23
(start conditions,)2.73 F .789(the latter)108 532.8 R F2 -.2(ex)3.289 G
(clusive).2 E F0 .789(start conditions.)3.289 F 3.289(As)5.789 G .789
(tart condition is acti)-3.289 F -.25(va)-.25 G .789(ted using the).25 F
F1(BEGIN)3.289 E F0 3.289(action. Until)3.289 F(the)3.289 E(ne)108 544.8
Q(xt)-.15 E F1(BEGIN)2.952 E F0 .452(action is e)2.952 F -.15(xe)-.15 G
.452(cuted, rules with the gi).15 F -.15(ve)-.25 G 2.951(ns).15 G .451
(tart condition will be acti)-2.951 F .751 -.15(ve a)-.25 H .451
(nd rules with other).15 F .21(start conditions will be inacti)108 556.8
R -.15(ve)-.25 G 5.21(.I).15 G 2.71(ft)-5.21 G .21
(he start condition is)-2.71 F F2(inclusive)2.71 E(,)-.1 E F0 .211
(then rules with no start conditions at)2.71 F .294
(all will also be acti)108 568.8 R -.15(ve)-.25 G 5.294(.I).15 G 2.794
(fi)-5.294 G 2.794(ti)-2.794 G(s)-2.794 E F2 -.2(ex)2.794 G(clusive).2 E
(,)-.1 E F0(then)2.794 E F2(only)2.794 E F0 .294
(rules quali\214ed with the start condition will be acti)2.794 F -.15
(ve)-.25 G(.).15 E 2.729(As)108 580.8 S .229
(et of rules contingent on the same e)-2.729 F(xclusi)-.15 E .53 -.15
(ve s)-.25 H .23(tart condition describe a scanner which is independent)
.15 F .948(of an)108 592.8 R 3.448(yo)-.15 G 3.447(ft)-3.448 G .947
(he other rules in the)-3.447 F F2<8d65>3.447 E(x)-.2 E F0 3.447
(input. Because)3.447 F .947(of this, e)3.447 F(xclusi)-.15 E 1.247 -.15
(ve s)-.25 H .947(tart conditions mak).15 F 3.447(ei)-.1 G 3.447(te)
-3.447 G .947(asy to)-3.447 F .928(specify "mini-scanners" which scan p\
ortions of the input that are syntactically dif)108 604.8 R .929
(ferent from the rest)-.25 F(\(e.g., comments\).)108 616.8 Q .563
(If the distinction between inclusi)108 633.6 R .863 -.15(ve a)-.25 H
.563(nd e).15 F(xclusi)-.15 E .863 -.15(ve s)-.25 H .563
(tart conditions is still a little v).15 F .562(ague, here')-.25 F 3.062
(sas)-.55 G(imple)-3.062 E -.15(ex)108 645.6 S
(ample illustrating the connection between the tw).15 E 2.5(o. The)-.1 F
(set of rules:)2.5 E(%s e)118 669.6 Q(xample)-.15 E(%%)118 681.6 Q(<e)
118 705.6 Q 5(xample>foo do_something\(\);)-.15 F 27.5
(bar something_else\(\);)118 729.6 R(is equi)108 753.6 Q -.25(va)-.25 G
(lent to).25 E(%x e)118 777.6 Q(xample)-.15 E 191.333(12 April)72
817.889 R 155.782(1995 V)2.5 F(ersion 2.5)-1.11 E 0 Cg EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R(%%)118 84 Q
(<e)118 108 Q 5(xample>foo do_something\(\);)-.15 F(<INITIAL,e)118 132 Q
7.5(xample>bar something_else\(\);)-.15 F -.4(Wi)108 156 S .747
(thout the).4 F/F1 10/Times-Bold@0 SF(<INITIAL,example>)3.247 E F0
(quali\214er)3.247 E 3.247(,t)-.4 G(he)-3.247 E/F2 10/Times-Italic@0 SF
(bar)3.247 E F0 .747(pattern in the second e)3.247 F .748(xample w)-.15
F(ouldn')-.1 E 3.248(tb)-.18 G 3.248(ea)-3.248 G(cti)-3.248 E -.15(ve)
-.25 G 1.625(\(i.e., couldn')108 168 R 4.125(tm)-.18 G 1.625
(atch\) when in start condition)-4.125 F F1(example.)4.125 E F0 1.625
(If we just used)6.625 F F1(<example>)4.125 E F0 1.625(to qualify)4.125
F F2(bar)4.125 E(,)-1.11 E F0 .977(though, then it w)108 180 R .977
(ould only be acti)-.1 F 1.277 -.15(ve i)-.25 H(n).15 E F1(example)3.477
E F0 .978(and not in)3.477 F F1(INITIAL,)3.478 E F0 .978
(while in the \214rst e)3.478 F .978(xample it')-.15 F(s)-.55 E(acti)108
192 Q 1.414 -.15(ve i)-.25 H 3.614(nb).15 G 1.114
(oth, because in the \214rst e)-3.614 F 1.113(xample the)-.15 F F1
(example)3.613 E F0 1.113(startion condition is an)3.613 F F2(inclusive)
3.613 E F1(\(%s\))3.613 E F0(start)3.613 E(condition.)108 204 Q .549
(Also note that the special start-condition speci\214er)108 220.8 R F1
(<*>)3.049 E F0 .549(matches e)3.049 F -.15(ve)-.25 G .549
(ry start condition.).15 F .549(Thus, the abo)5.549 F -.15(ve)-.15 G
-.15(ex)108 232.8 S(ample could also ha).15 E .3 -.15(ve b)-.2 H
(een written;).15 E(%x e)118 256.8 Q(xample)-.15 E(%%)118 268.8 Q(<e)118
292.8 Q 5(xample>foo do_something\(\);)-.15 F 7.5
(<*>bar something_else\(\);)118 316.8 R 1.028(The def)108 345.6 R 1.028
(ault rule \(to)-.1 F F1(ECHO)3.528 E F0(an)3.528 E 3.528(yu)-.15 G
1.028(nmatched character\) remains acti)-3.528 F 1.328 -.15(ve i)-.25 H
3.527(ns).15 G 1.027(tart conditions.)-3.527 F 1.027(It is equi)6.027 F
(v-)-.25 E(alent to:)108 357.6 Q 10(<*>.|\\n ECHO;)118 381.6 R F1
(BEGIN\(0\))108 410.4 Q F0 .948(returns to the original state where onl\
y the rules with no start conditions are acti)3.447 F -.15(ve)-.25 G
5.948(.T).15 G(his)-5.948 E 1.005
(state can also be referred to as the start-condition "INITIAL", so)108
422.4 R F1(BEGIN\(INITIAL\))3.504 E F0 1.004(is equi)3.504 F -.25(va)
-.25 G 1.004(lent to).25 F F1(BEGIN\(0\).)108 434.4 Q F0 .199
(\(The parentheses around the start condition name are not required b)
5.198 F .199(ut are considered good)-.2 F(style.\))108 446.4 Q F1(BEGIN)
108 463.2 Q F0 .397(actions can also be gi)2.897 F -.15(ve)-.25 G 2.896
(na).15 G 2.896(si)-2.896 G .396(ndented code at the be)-2.896 F .396
(ginning of the rules section.)-.15 F -.15(Fo)5.396 G 2.896(re).15 G
(xample,)-3.046 E .318(the follo)108 475.2 R .318(wing will cause the s\
canner to enter the "SPECIAL" start condition whene)-.25 F -.15(ve)-.25
G(r).15 E F1(yylex\(\))2.819 E F0 .319(is called)2.819 F
(and the global v)108 487.2 Q(ariable)-.25 E F2(enter_special)2.5 E F0
(is true:)2.5 E(int enter_special;)138 511.2 Q(%x SPECIAL)118 535.2 Q
(%%)118 547.2 Q(if \( enter_special \))138 559.2 Q(BEGIN\(SPECIAL\);)148
571.2 Q(<SPECIAL>blahblahblah)118 595.2 Q(...more rules follo)118 607.2
Q -.65(w.)-.25 G(..).65 E 2.191 -.8(To i)108 636 T .591
(llustrate the uses of start conditions, here is a scanner which pro).8
F .591(vides tw)-.15 F 3.091(od)-.1 G(if)-3.091 E .591
(ferent interpretations)-.25 F .688(of a string lik)108 648 R 3.188(e")
-.1 G 3.188(123.456". By)-3.188 F(def)3.188 E .688
(ault it will treat it as three tok)-.1 F .688(ens, the inte)-.1 F .689
(ger "123", a dot \('.)-.15 F .689('\), and)-.7 F 1.011(the inte)108 660
R 1.011(ger "456".)-.15 F 1.01
(But if the string is preceded earlier in the line by the string "e)
6.011 F 1.01(xpect-\215oats" it will)-.15 F(treat it as a single tok)108
672 Q(en, the \215oating-point number 123.456:)-.1 E(%{)118 696 Q
(#include <math.h>)118 708 Q(%})118 720 Q(%s e)118 732 Q(xpect)-.15 E
(%%)118 756 Q -.15(ex)118 768 S 17.5(pect-\215oats BEGIN\(e).15 F
(xpect\);)-.15 E -1.11(Ve)72 817.889 S(rsion 2.5)1.11 E(April 1995)
158.283 E(13)193.832 E 0 Cg EP
%%Page: 14 14
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R(<e)118 84 Q
12.5(xpect>[0-9]+"."[0-9]+ {)-.15 F
(printf\( "found a \215oat, = %f\\n",)148 96 Q(atof\( yyte)168 108 Q
(xt \) \);)-.15 E(})148 120 Q(<e)118 132 Q 25(xpect>\\n {)-.15 F
(/* that')148 144 Q 2.5(st)-.55 G(he end of the line, so)-2.5 E 2.5(*w)
150.5 156 S 2.5(en)-2.5 G(eed another "e)-2.5 E(xpect-number")-.15 E 2.5
(*b)150.5 168 S(efore we')-2.5 E(ll recognize an)-.1 E 2.5(ym)-.15 G
(ore)-2.5 E 2.5(*n)150.5 180 S(umbers)-2.5 E(*/)150.5 192 Q
(BEGIN\(INITIAL\);)148 204 Q(})148 216 Q 12.5([0-9]+ {)118 240 R
(printf\( "found an inte)148 252 Q(ger)-.15 E 2.5(,=%)-.4 G(d\\n",)-2.5
E(atoi\( yyte)168 264 Q(xt \) \);)-.15 E(})148 276 Q 20("." printf\()118
300 R("found a dot\\n" \);)2.5 E .765(Here is a scanner which recognize\
s \(and discards\) C comments while maintaining a count of the cur)108
324 R(-)-.2 E(rent input line.)108 336 Q(%x comment)118 360 Q(%%)118 372
Q(int line_num = 1;)138 384 Q 20("/*" BEGIN\(comment\);)118 408 R 17.5
(<comment>[^*\\n]* /*)118 432 R(eat an)2.5 E(ything that')-.15 E 2.5(sn)
-.55 G(ot a '*' */)-2.5 E 5(<comment>"*"+[^*/\\n]* /*)118 444 R
(eat up '*')2.5 E 2.5(sn)-.55 G(ot follo)-2.5 E(wed by '/')-.25 E 2.5
(s*)-.55 G(/)-2.5 E 30(<comment>\\n ++line_num;)118 456 R 17.5
(<comment>"*"+"/" BEGIN\(INITIAL\);)118 468 R .094
(This scanner goes to a bit of trouble to match as much te)108 492 R
.094(xt as possible with each rule.)-.15 F .094(In general, when)5.094 F
(attempting to write a high-speed scanner try to match as much possible\
 in each rule, as it')108 504 Q 2.5(sab)-.55 G(ig win.)-2.5 E .812
(Note that start-conditions names are really inte)108 520.8 R .813
(ger v)-.15 F .813(alues and can be stored as such.)-.25 F .813
(Thus, the abo)5.813 F -.15(ve)-.15 G(could be e)108 532.8 Q
(xtended in the follo)-.15 E(wing f)-.25 E(ashion:)-.1 E(%x comment foo)
118 556.8 Q(%%)118 568.8 Q(int line_num = 1;)138 580.8 Q
(int comment_caller;)138 592.8 Q 20("/*" {)118 616.8 R
(comment_caller = INITIAL;)150.5 628.8 Q(BEGIN\(comment\);)150.5 640.8 Q
(})150.5 652.8 Q(...)118 676.8 Q 7.5(<foo>"/*" {)118 700.8 R
(comment_caller = foo;)150.5 712.8 Q(BEGIN\(comment\);)150.5 724.8 Q(})
150.5 736.8 Q 17.5(<comment>[^*\\n]* /*)118 760.8 R(eat an)2.5 E
(ything that')-.15 E 2.5(sn)-.55 G(ot a '*' */)-2.5 E 5
(<comment>"*"+[^*/\\n]* /*)118 772.8 R(eat up '*')2.5 E 2.5(sn)-.55 G
(ot follo)-2.5 E(wed by '/')-.25 E 2.5(s*)-.55 G(/)-2.5 E 191.333
(14 April)72 817.889 R 155.782(1995 V)2.5 F(ersion 2.5)-1.11 E 0 Cg EP
%%Page: 15 15
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R 30
(<comment>\\n ++line_num;)118 84 R 17.5
(<comment>"*"+"/" BEGIN\(comment_caller\);)118 96 R 1.067
(Furthermore, you can access the current start condition using the inte)
108 120 R(ger)-.15 E(-v)-.2 E(alued)-.25 E/F1 10/Times-Bold@0 SF(YY_ST)
3.567 E(AR)-.9 E(T)-.4 E F0(macro.)3.567 E -.15(Fo)108 132 S 2.5(re).15
G(xample, the abo)-2.65 E .3 -.15(ve a)-.15 H(ssignments to).15 E/F2 10
/Times-Italic@0 SF(comment_caller)2.5 E F0(could instead be written)2.5
E(comment_caller = YY_ST)118 156 Q(AR)-.93 E -.55(T;)-.6 G(Fle)108 180 Q
2.5(xp)-.15 G(ro)-2.5 E(vides)-.15 E F1(YYST)2.5 E -.95(AT)-.9 G(E).95 E
F0(as an alias for)2.5 E F1(YY_ST)2.5 E(AR)-.9 E(T)-.4 E F0
(\(since that is what')2.5 E 2.5(su)-.55 G(sed by A)-2.5 E(T&T)-1.11 E
F2(le)2.5 E(x\).)-.2 E F0 .268(Note that start conditions do not ha)108
196.8 R .568 -.15(ve t)-.2 H .268(heir o).15 F .268(wn name-space; %s')
-.25 F 2.768(sa)-.55 G .268(nd %x')-2.768 F 2.768(sd)-.55 G .268
(eclare names in the same)-2.768 F -.1(fa)108 208.8 S
(shion as #de\214ne').1 E(s.)-.55 E(Finally)108 225.6 Q 4.104(,h)-.65 G
(ere')-4.104 E 4.104(sa)-.55 G 4.104(ne)-4.104 G 1.604(xample of ho)
-4.254 F 4.104(wt)-.25 G 4.104(om)-4.104 G 1.604
(atch C-style quoted strings using e)-4.104 F(xclusi)-.15 E 1.904 -.15
(ve s)-.25 H 1.603(tart conditions,).15 F(including e)108 237.6 Q
(xpanded escape sequences \(b)-.15 E
(ut not including checking for a string that')-.2 E 2.5(st)-.55 G
(oo long\):)-2.5 E(%x str)118 261.6 Q(%%)118 285.6 Q(char string_b)138
297.6 Q(uf[MAX_STR_CONST];)-.2 E(char *string_b)138 309.6 Q(uf_ptr;)-.2
E 12.5(\\" string_b)118 345.6 R(uf_ptr = string_b)-.2 E
(uf; BEGIN\(str\);)-.2 E 17.5(<str>\\" {)118 369.6 R(/* sa)2.5 E 2.5(wc)
-.15 G(losing quote - all done */)-2.5 E(BEGIN\(INITIAL\);)138 381.6 Q
(*string_b)138 393.6 Q(uf_ptr = '\\0';)-.2 E
(/* return string constant tok)138 405.6 Q(en type and)-.1 E 2.5(*v)
140.5 417.6 S(alue to parser)-2.75 E(*/)140.5 429.6 Q(})138 441.6 Q 17.5
(<str>\\n {)118 465.6 R(/* error - unterminated string constant */)138
477.6 Q(/* generate error message */)138 489.6 Q(})138 501.6 Q
(<str>\\\\[0-7]{1,3} {)118 525.6 Q(/* octal escape sequence */)138 537.6
Q(int result;)138 549.6 Q(\(v)138 573.6 Q(oid\) sscanf\( yyte)-.2 E
(xt + 1, "%o", &result \);)-.15 E(if \( result > 0xf)138 597.6 Q 2.5
(f\))-.25 G(/* error)158 609.6 Q 2.5(,c)-.4 G
(onstant is out-of-bounds */)-2.5 E(*string_b)138 633.6 Q
(uf_ptr++ = result;)-.2 E(})138 645.6 Q(<str>\\\\[0-9]+ {)118 669.6 Q
(/* generate error - bad escape sequence; something)138 681.6 Q 2.5(*l)
140.5 693.6 S(ik)-2.5 E 2.5(e')-.1 G(\\48' or '\\0777777')-2.5 E(*/)
140.5 705.6 Q(})138 717.6 Q 2.5(<str>\\\\n *string_b)118 741.6 R
(uf_ptr++ = '\\n';)-.2 E 2.5(<str>\\\\t *string_b)118 753.6 R
(uf_ptr++ = '\\t';)-.2 E 2.5(<str>\\\\r *string_b)118 765.6 R
(uf_ptr++ = '\\r';)-.2 E 2.5(<str>\\\\b *string_b)118 777.6 R
(uf_ptr++ = '\\b';)-.2 E -1.11(Ve)72 817.889 S(rsion 2.5)1.11 E
(April 1995)158.283 E(15)193.832 E 0 Cg EP
%%Page: 16 16
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R 2.5
(<str>\\\\f *string_b)118 84 R(uf_ptr++ = '\\f)-.2 E(';).55 E 2.5
(<str>\\\\\(.|\\n\) *string_b)118 108 R(uf_ptr++ = yyte)-.2 E(xt[1];)
-.15 E 17.5(<str>[^\\\\\\n\\"]+ {)118 132 R(char *yptr = yyte)138 144 Q
(xt;)-.15 E(while \( *yptr \))138 168 Q(*string_b)158 180 Q
(uf_ptr++ = *yptr++;)-.2 E(})138 192 Q .096
(Often, such as in some of the e)108 220.8 R .096(xamples abo)-.15 F
-.15(ve)-.15 G 2.597(,y).15 G .097(ou wind up writing a whole b)-2.597 F
.097(unch of rules all preceded)-.2 F 1.064
(by the same start condition\(s\).)108 232.8 R(Fle)6.063 E 3.563(xm)-.15
G(ak)-3.563 E 1.063
(es this a little easier and cleaner by introducing a notion of)-.1 F
(start condition)108 244.8 Q/F1 10/Times-Italic@0 SF(scope)2.5 E(.)-.15
E F0 2.5(As)5 G(tart condition scope is be)-2.5 E(gun with:)-.15 E
(<SCs>{)118 268.8 Q(where)108 292.8 Q F1(SCs)2.586 E F0 .087
(is a list of one or more start conditions.)2.587 F .087
(Inside the start condition scope, e)5.087 F -.15(ve)-.25 G .087
(ry rule automat-).15 F(ically has the pre\214x)108 304.8 Q F1(<SCs>)2.5
E F0(applied to it, until a)2.5 E F1('}')2.5 E F0
(which matches the initial)2.5 E F1('{'.)2.5 E F0(So, for e)5 E(xample,)
-.15 E(<ESC>{)118 328.8 Q 5("\\\\n" return)128 340.8 R('\\n';)2.5 E 5
("\\\\r" return)128 352.8 R('\\r';)2.5 E 5("\\\\f" return)128 364.8 R
-1.95('\\f ';)2.5 F 5("\\\\0" return)128 376.8 R('\\0';)2.5 E(})118
388.8 Q(is equi)108 412.8 Q -.25(va)-.25 G(lent to:).25 E 2.5
(<ESC>"\\\\n" return)118 436.8 R('\\n';)2.5 E 2.5(<ESC>"\\\\r" return)
118 448.8 R('\\r';)2.5 E 2.5(<ESC>"\\\\f" return)118 460.8 R -1.95
('\\f ';)2.5 F 2.5(<ESC>"\\\\0" return)118 472.8 R('\\0';)2.5 E
(Start condition scopes may be nested.)108 496.8 Q(Three routines are a)
108 513.6 Q -.25(va)-.2 G
(ilable for manipulating stacks of start conditions:).25 E/F2 10
/Times-Bold@0 SF -.1(vo)108 530.4 S(id yy_push_state\(int new_state\)).1
E F0 1.565(pushes the current start condition onto the top of the start\
 condition stack and switches to)144 542.4 R F1(ne)144 554.4 Q(w_state)
-.15 E F0 1.177(as though you had used)3.677 F F2 1.177(BEGIN new_state)
3.677 F F0 1.178(\(recall that start condition names are)3.677 F
(also inte)144 566.4 Q(gers\).)-.15 E F2 -.1(vo)108 583.2 S
(id yy_pop_state\(\)).1 E F0
(pops the top of the stack and switches to it via)144 595.2 Q F2(BEGIN.)
2.5 E(int yy_top_state\(\))108 612 Q F0
(returns the top of the stack without altering the stack')144 624 Q 2.5
(sc)-.55 G(ontents.)-2.5 E 2.069(The start condition stack gro)108 640.8
R 2.068(ws dynamically and so has no b)-.25 F 2.068
(uilt-in size limitation.)-.2 F 2.068(If memory is)7.068 F -.15(ex)108
652.8 S(hausted, program e).15 E -.15(xe)-.15 G(cution aborts.).15 E
3.791 -.8(To u)108 669.6 T 2.192
(se start condition stacks, your scanner must include a).8 F F2 2.192
(%option stack)4.692 F F0(directi)4.692 E 2.492 -.15(ve \()-.25 H 2.192
(see Options).15 F(belo)108 681.6 Q(w\).)-.25 E/F3 10.95/Times-Bold@0 SF
(MUL)72 698.4 Q(TIPLE INPUT B)-1.007 E(UFFERS)-.11 E F0 .046(Some scann\
ers \(such as those which support "include" \214les\) require reading f\
rom se)108 710.4 R -.15(ve)-.25 G .046(ral input streams.).15 F(As)108
722.4 Q F1<8d65>3.238 E(x)-.2 E F0 .738(scanners do a lar)3.238 F .738
(ge amount of b)-.18 F(uf)-.2 E .739
(fering, one cannot control where the ne)-.25 F .739
(xt input will be read)-.15 F .445(from by simply writing a)108 734.4 R
F2(YY_INPUT)2.945 E F0 .445(which is sensiti)2.945 F .745 -.15(ve t)-.25
H 2.945(ot).15 G .445(he scanning conte)-2.945 F(xt.)-.15 E F2(YY_INPUT)
5.445 E F0 .445(is only)2.945 F .416
(called when the scanner reaches the end of its b)108 746.4 R(uf)-.2 E
(fer)-.25 E 2.916(,w)-.4 G .416
(hich may be a long time after scanning a state-)-2.916 F
(ment such as an "include" which requires switching the input source.)
108 758.4 Q 2.849 -.8(To n)108 775.2 T -.15(eg).8 G 1.249
(otiate these sorts of problems,).15 F F1<8d65>3.749 E(x)-.2 E F0(pro)
3.749 E 1.249(vides a mechanism for creating and switching between)-.15
F 191.333(16 April)72 817.889 R 155.782(1995 V)2.5 F(ersion 2.5)-1.11 E
0 Cg EP
%%Page: 17 17
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R
(multiple input b)108 84 Q(uf)-.2 E 2.5(fers. An)-.25 F(input b)2.5 E
(uf)-.2 E(fer is created by using:)-.25 E(YY_B)118 108 Q(UFFER_ST)-.1 E
-1.11(AT)-.93 G 2.5(Ey)1.11 G(y_create_b)-2.5 E(uf)-.2 E
(fer\( FILE *\214le, int size \))-.25 E 1.472(which tak)108 132 R 1.472
(es a)-.1 F/F1 10/Times-Italic@0 SF(FILE)3.972 E F0 1.472
(pointer and a size and creates a b)3.972 F(uf)-.2 E 1.473
(fer associated with the gi)-.25 F -.15(ve)-.25 G 3.973<6e8c>.15 G 1.473
(le and lar)-3.973 F(ge)-.18 E 2.844(enough to hold)108 144 R F1(size)
5.344 E F0 2.844(characters \(when in doubt, use)5.344 F/F2 10
/Times-Bold@0 SF(YY_B)5.344 E(UF_SIZE)-.1 E F0 2.843(for the size\).)
5.344 F 2.843(It returns a)7.843 F F2(YY_B)108 156 Q(UFFER_ST)-.1 E -.95
(AT)-.9 G(E).95 E F0 3.428
(handle, which may then be passed to other routines \(see belo)5.927 F
5.928(w\). The)-.25 F F2(YY_B)108 168 Q(UFFER_ST)-.1 E -.95(AT)-.9 G(E)
.95 E F0 1.131(type is a pointer to an opaque)3.631 F F2 1.13
(struct yy_b)3.63 F(uffer_state)-.2 E F0 1.13(structure, so you may)3.63
F .674(safely initialize YY_B)108 180 R(UFFER_ST)-.1 E -1.11(AT)-.93 G
3.174(Ev)1.11 G .674(ariables to)-3.424 F F2(\(\(YY_B)3.174 E(UFFER_ST)
-.1 E -.95(AT)-.9 G .674(E\) 0\)).95 F F0 .674(if you wish, and also)
3.174 F .355
(refer to the opaque structure in order to correctly declare input b)108
192 R(uf)-.2 E .354(fers in source \214les other than that of)-.25 F
.733(your scanner)108 204 R 5.733(.N)-.55 G .733(ote that the)-5.733 F
F1(FILE)3.233 E F0 .733(pointer in the call to)3.233 F F2(yy_cr)3.233 E
(eate_b)-.18 E(uffer)-.2 E F0 .733(is only used as the v)3.233 F .734
(alue of)-.25 F F1(yyin)108 216 Q F0 .881(seen by)3.381 F F2(YY_INPUT)
3.381 E(;)-.74 E F0 .881(if you rede\214ne)3.381 F F2(YY_INPUT)3.381 E
F0 .881(so it no longer uses)3.381 F F1(yyin,)3.381 E F0 .88
(then you can safely)3.381 F(pass a nil)108 228 Q F1(FILE)2.5 E F0
(pointer to)2.5 E F2(yy_cr)2.5 E(eate_b)-.18 E(uffer)-.2 E(.)-1 E F0
-1.1(Yo)5 G 2.5(us)1.1 G(elect a particular b)-2.5 E(uf)-.2 E
(fer to scan from using:)-.25 E -.2(vo)118 252 S(id yy_switch_to_b).2 E
(uf)-.2 E(fer\( YY_B)-.25 E(UFFER_ST)-.1 E -1.11(AT)-.93 G 2.5(En)1.11 G
-.25(ew)-2.5 G(_b).25 E(uf)-.2 E(fer \))-.25 E 2.735
(switches the scanner')108 276 R 5.235(si)-.55 G 2.736(nput b)-5.235 F
(uf)-.2 E 2.736(fer so subsequent tok)-.25 F 2.736(ens will come from)
-.1 F F1(ne)5.236 E(w_b)-.15 E(uf)-.2 E(fer)-.18 E(.)-1.11 E F0 2.736
(Note that)7.736 F F2(yy_switch_to_b)108 288 Q(uffer\(\))-.2 E F0 1.13(\
may be used by yywrap\(\) to set things up for continued scanning, inst\
ead of)3.63 F 3.264(opening a ne)108 300 R 5.764<778c>-.25 G 3.264
(le and pointing)-5.764 F F1(yyin)5.764 E F0 3.264(at it.)5.764 F 3.264
(Note also that switching input sources via either)8.264 F F2
(yy_switch_to_b)108 312 Q(uffer\(\))-.2 E F0(or)2.5 E F2(yywrap\(\))2.5
E F0(does)2.5 E F1(not)2.5 E F0(change the start condition.)2.5 E -.2
(vo)118 336 S(id yy_delete_b).2 E(uf)-.2 E(fer\( YY_B)-.25 E(UFFER_ST)
-.1 E -1.11(AT)-.93 G 2.5(Eb)1.11 G(uf)-2.7 E(fer \))-.25 E .843
(is used to reclaim the storage associated with a b)108 360 R(uf)-.2 E
(fer)-.25 E 5.842(.\()-.55 G F2 -.2(bu)-2.5 G(ffer).2 E F0 .842
(can be nil, in which case the routine)3.342 F(does nothing.\))108 372 Q
-1.1(Yo)5 G 2.5(uc)1.1 G(an also clear the current contents of a b)-2.5
E(uf)-.2 E(fer using:)-.25 E -.2(vo)118 396 S(id yy_\215ush_b).2 E(uf)
-.2 E(fer\( YY_B)-.25 E(UFFER_ST)-.1 E -1.11(AT)-.93 G 2.5(Eb)1.11 G(uf)
-2.7 E(fer \))-.25 E 1.331(This function discards the b)108 420 R(uf)-.2
E(fer')-.25 E 3.831(sc)-.55 G 1.331(ontents, so the ne)-3.831 F 1.332
(xt time the scanner attempts to match a tok)-.15 F(en)-.1 E(from the b)
108 432 Q(uf)-.2 E(fer)-.25 E 2.5(,i)-.4 G 2.5(tw)-2.5 G
(ill \214rst \214ll the b)-2.5 E(uf)-.2 E(fer ane)-.25 E 2.5(wu)-.25 G
(sing)-2.5 E F2(YY_INPUT)2.5 E(.)-.9 E(yy_new_b)108 448.8 Q(uffer\(\))
-.2 E F0 1.138(is an alias for)3.639 F F2(yy_cr)3.638 E(eate_b)-.18 E
(uffer\(\),)-.2 E F0(pro)3.638 E 1.138
(vided for compatibility with the C++ use of)-.15 F F1(ne)108 460.8 Q(w)
-.15 E F0(and)2.5 E F1(delete)2.5 E F0(for creating and destro)2.5 E
(ying dynamic objects.)-.1 E(Finally)108 477.6 Q 3.162(,t)-.65 G(he)
-3.162 E F2(YY_CURRENT_B)3.162 E(UFFER)-.1 E F0 .662(macro returns a)
3.162 F F2(YY_B)3.163 E(UFFER_ST)-.1 E -.95(AT)-.9 G(E).95 E F0 .663
(handle to the current)3.163 F -.2(bu)108 489.6 S -.25(ff).2 G(er).25 E
(.)-.55 E 1.848(Here is an e)108 506.4 R 1.847
(xample of using these features for writing a scanner which e)-.15 F
1.847(xpands include \214les \(the)-.15 F F2(<<EOF>>)108 518.4 Q F0
(feature is discussed belo)2.5 E(w\):)-.25 E
(/* the "incl" state is used for picking up the name)118 542.4 Q 2.5(*o)
120.5 554.4 S 2.5(fa)-2.5 G 2.5(ni)-2.5 G(nclude \214le)-2.5 E(*/)120.5
566.4 Q(%x incl)118 578.4 Q(%{)118 602.4 Q
(#de\214ne MAX_INCLUDE_DEPTH 10)118 614.4 Q(YY_B)118 626.4 Q(UFFER_ST)
-.1 E -1.11(AT)-.93 G 2.5(Ei)1.11 G(nclude_stack[MAX_INCLUDE_DEPTH];)
-2.5 E(int include_stack_ptr = 0;)118 638.4 Q(%})118 650.4 Q(%%)118
674.4 Q 30(include BEGIN\(incl\);)118 686.4 R 32.5([a-z]+ ECHO;)118
710.4 R 17.5([^a-z\\n]*\\n? ECHO;)118 722.4 R(<incl>[ \\t]*)118 746.4 Q
(/* eat the whitespace */)15 E(<incl>[^ \\t\\n]+)118 758.4 Q 2.5({/)7.5
G 2.5(*g)-2.5 G(ot the include \214le name */)-2.5 E
(if \( include_stack_ptr >= MAX_INCLUDE_DEPTH \))138 770.4 Q -1.11(Ve)72
817.889 S(rsion 2.5)1.11 E(April 1995)158.283 E(17)193.832 E 0 Cg EP
%%Page: 18 18
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R({)148 84 Q
(fprintf\( stderr)148 96 Q 2.5(,")-.4 G(Includes nested too deeply" \);)
-2.5 E -.15(ex)148 108 S(it\( 1 \);).15 E(})148 120 Q
(include_stack[include_stack_ptr++] =)138 144 Q(YY_CURRENT_B)148 156 Q
(UFFER;)-.1 E(yyin = fopen\( yyte)138 180 Q(xt, "r" \);)-.15 E
(if \( ! yyin \))138 204 Q(error\( ... \);)148 216 Q(yy_switch_to_b)138
240 Q(uf)-.2 E(fer\()-.25 E(yy_create_b)148 252 Q(uf)-.2 E
(fer\( yyin, YY_B)-.25 E(UF_SIZE \) \);)-.1 E(BEGIN\(INITIAL\);)138 276
Q(})138 288 Q(<<EOF>> {)118 312 Q(if \( --include_stack_ptr < 0 \))138
324 Q({)148 336 Q(yyterminate\(\);)148 348 Q(})148 360 Q(else)138 384 Q
({)148 396 Q(yy_delete_b)148 408 Q(uf)-.2 E(fer\( YY_CURRENT_B)-.25 E
(UFFER \);)-.1 E(yy_switch_to_b)148 420 Q(uf)-.2 E(fer\()-.25 E
(include_stack[include_stack_ptr] \);)160.5 432 Q(})148 444 Q(})138 456
Q .231(Three routines are a)108 480 R -.25(va)-.2 G .231
(ilable for setting up input b).25 F(uf)-.2 E .231
(fers for scanning in-memory strings instead of \214les.)-.25 F 4.182
(All of them create a ne)108 492 R 6.682(wi)-.25 G 4.182(nput b)-6.682 F
(uf)-.2 E 4.181(fer for scanning the string, and return a corresponding)
-.25 F/F1 10/Times-Bold@0 SF(YY_B)108 504 Q(UFFER_ST)-.1 E -.95(AT)-.9 G
(E).95 E F0 .578(handle \(which you should delete with)3.077 F F1
(yy_delete_b)3.078 E(uffer\(\))-.2 E F0 .578(when done with it\).)3.078
F(The)108 516 Q 3.273(ya)-.15 G .773(lso switch to the ne)-3.273 F 3.273
(wb)-.25 G(uf)-3.473 E .773(fer using)-.25 F F1(yy_switch_to_b)3.273 E
(uffer\(\),)-.2 E F0 .773(so the ne)3.273 F .773(xt call to)-.15 F F1
(yylex\(\))3.272 E F0 .772(will start)3.272 F(scanning the string.)108
528 Q F1(yy_scan_string\(const char *str\))108 544.8 Q F0
(scans a NUL-terminated string.)144 556.8 Q F1
(yy_scan_bytes\(const char *bytes, int len\))108 573.6 Q F0(scans)144
585.6 Q/F2 10/Times-Italic@0 SF(len)2.5 E F0
(bytes \(including possibly NUL)2.5 E -.55('s)-.92 G 2.5(\)s).55 G
(tarting at location)-2.5 E F2(bytes.)2.5 E F0 .311
(Note that both of these functions create and scan a)108 602.4 R F2
(copy)2.811 E F0 .311(of the string or bytes.)2.811 F .312
(\(This may be desirable,)5.312 F(since)108 614.4 Q F1(yylex\(\))2.5 E
F0(modi\214es the contents of the b)2.5 E(uf)-.2 E
(fer it is scanning.\))-.25 E -1.1(Yo)5 G 2.5(uc)1.1 G(an a)-2.5 E -.2
(vo)-.2 G(id the cop).2 E 2.5(yb)-.1 G 2.5(yu)-2.5 G(sing:)-2.5 E F1
(yy_scan_b)108 631.2 Q(uffer\(char *base, yy_size_t size\))-.2 E F0 .571
(which scans in place the b)144 643.2 R(uf)-.2 E .57(fer starting at)
-.25 F F2(base)3.07 E(,)-.1 E F0 .57(consisting of)3.07 F F2(size)3.07 E
F0 .57(bytes, the last tw)3.07 F 3.07(ob)-.1 G .57(ytes of)-3.07 F
(which)144 655.2 Q F2(must)2.785 E F0(be)2.785 E F1(YY_END_OF_B)2.785 E
(UFFER_CHAR)-.1 E F0 .285(\(ASCII NUL\).)2.785 F .285(These last tw)
5.285 F 2.785(ob)-.1 G .285(ytes are not)-2.785 F
(scanned; thus, scanning consists of)144 667.2 Q F1(base[0])2.5 E F0
(through)2.5 E F1(base[size-2],)2.5 E F0(inclusi)2.5 E -.15(ve)-.25 G(.)
.15 E 8.807(If you f)144 684 R 8.807(ail to set up)-.1 F F2(base)11.307
E F0 8.807(in this manner \(i.e., for)11.307 F 8.806(get the \214nal tw)
-.18 F(o)-.1 E F1(YY_END_OF_B)144 696 Q(UFFER_CHAR)-.1 E F0 .612
(bytes\), then)3.111 F F1(yy_scan_b)3.112 E(uffer\(\))-.2 E F0 .612
(returns a nil pointer instead)3.112 F(of creating a ne)144 708 Q 2.5
(wi)-.25 G(nput b)-2.5 E(uf)-.2 E(fer)-.25 E(.)-.55 E .82(The type)144
724.8 R F1(yy_size_t)3.32 E F0 .82(is an inte)3.32 F .82
(gral type to which you can cast an inte)-.15 F .819(ger e)-.15 F .819
(xpression re\215ecting)-.15 F(the size of the b)144 736.8 Q(uf)-.2 E
(fer)-.25 E(.)-.55 E/F3 10.95/Times-Bold@0 SF(END-OF-FILE R)72 753.6 Q
(ULES)-.329 E F0 .075
(The special rule "<<EOF>>" indicates actions which are to be tak)108
765.6 R .076(en when an end-of-\214le is encountered)-.1 F 1.209(and yy\
wrap\(\) returns non-zero \(i.e., indicates no further \214les to proce\
ss\).)108 777.6 R 1.208(The action must \214nish by)6.208 F 191.333
(18 April)72 817.889 R 155.782(1995 V)2.5 F(ersion 2.5)-1.11 E 0 Cg EP
%%Page: 19 19
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R
(doing one of four things:)108 84 Q 32.67(-a)108 100.8 S(ssigning)-32.67
E/F1 10/Times-Italic@0 SF(yyin)2.836 E F0 .336(to a ne)2.836 F 2.836(wi)
-.25 G .336(nput \214le \(in pre)-2.836 F .337(vious v)-.25 F .337
(ersions of \215e)-.15 F .337(x, after doing the assignment you)-.15 F
(had to call the special action)144 112.8 Q/F2 10/Times-Bold@0 SF
(YY_NEW_FILE;)2.5 E F0(this is no longer necessary\);)2.5 E 32.67(-e)108
129.6 S -.15(xe)-32.82 G(cuting a).15 E F1 -.37(re)2.5 G(turn).37 E F0
(statement;)2.5 E 32.67(-e)108 146.4 S -.15(xe)-32.82 G
(cuting the special).15 E F2(yyterminate\(\))2.5 E F0(action;)2.5 E
32.67(-o)108 163.2 S .8 -.4(r, s)-32.67 H(witching to a ne).4 E 2.5(wb)
-.25 G(uf)-2.7 E(fer using)-.25 E F2(yy_switch_to_b)2.5 E(uffer\(\))-.2
E F0(as sho)2.5 E(wn in the e)-.25 E(xample abo)-.15 E -.15(ve)-.15 G(.)
.15 E .109(<<EOF>> rules may not be used with other patterns; the)108
180 R 2.609(ym)-.15 G .108
(ay only be quali\214ed with a list of start con-)-2.609 F 2.716
(ditions. If)108 192 R .217(an unquali\214ed <<EOF>> rule is gi)2.716 F
-.15(ve)-.25 G .217(n, it applies to).15 F F1(all)2.717 E F0 .217
(start conditions which do not already)2.717 F(ha)108 204 Q .3 -.15
(ve <)-.2 H(<EOF>> actions.).15 E 1.6 -.8(To s)5 H
(pecify an <<EOF>> rule for only the initial start condition, use).8 E
(<INITIAL><<EOF>>)118 228 Q
(These rules are useful for catching things lik)108 256.8 Q 2.5(eu)-.1 G
(nclosed comments.)-2.5 E(An e)5 E(xample:)-.15 E(%x quote)118 280.8 Q
(%%)118 292.8 Q(...other rules for dealing with quotes...)118 316.8 Q 5
(<quote><<EOF>> {)118 340.8 R(error\( "unterminated quote" \);)140.5
352.8 Q(yyterminate\(\);)140.5 364.8 Q(})140.5 376.8 Q 2.5(<<EOF>> {)118
388.8 R(if \( *++\214lelist \))140.5 400.8 Q
(yyin = fopen\( *\214lelist, "r" \);)150.5 412.8 Q(else)140.5 424.8 Q
(yyterminate\(\);)148 436.8 Q(})140.5 448.8 Q/F3 10.95/Times-Bold@0 SF
(MISCELLANEOUS MA)72 477.6 Q(CR)-.602 E(OS)-.329 E F0 .048(The macro)108
489.6 R F2(YY_USER_A)2.548 E(CTION)-.55 E F0 .048
(can be de\214ned to pro)2.548 F .048(vide an action which is al)-.15 F
-.1(wa)-.1 G .047(ys e).1 F -.15(xe)-.15 G .047(cuted prior to).15 F
1.512(the matched rule')108 501.6 R 4.012(sa)-.55 G 4.012(ction. F)
-4.012 F 1.512(or e)-.15 F 1.513(xample, it could be #de\214ne')-.15 F
4.013(dt)-.5 G 4.013(oc)-4.013 G 1.513(all a routine to con)-4.013 F
-.15(ve)-.4 G 1.513(rt yyte).15 F 1.513(xt to)-.15 F(lo)108 513.6 Q(wer)
-.25 E 4.832(-case. When)-.2 F F2(YY_USER_A)4.832 E(CTION)-.55 E F0
2.331(is in)4.832 F -.2(vo)-.4 G -.1(ke).2 G 2.331(d, the v).1 F
(ariable)-.25 E F1(yy_act)4.831 E F0(gi)4.831 E -.15(ve)-.25 G 4.831(st)
.15 G 2.331(he number of the)-4.831 F .155
(matched rule \(rules are numbered starting with 1\).)108 525.6 R .156
(Suppose you w)5.156 F .156(ant to pro\214le ho)-.1 F 2.656(wo)-.25 G
.156(ften each of your)-2.656 F(rules is matched.)108 537.6 Q(The follo)
5 E(wing w)-.25 E(ould do the trick:)-.1 E(#de\214ne YY_USER_A)118 561.6
Q(CTION ++ctr[yy_act])-.4 E(where)108 585.6 Q F1(ctr)2.57 E F0 .07
(is an array to hold the counts for the dif)2.57 F .07(ferent rules.)
-.25 F .069(Note that the macro)5.069 F F2(YY_NUM_R)2.569 E(ULES)-.3 E
F0(gi)108 597.6 Q -.15(ve)-.25 G 2.963(st).15 G .463
(he total number of rules \(including the def)-2.963 F .463
(ault rule, e)-.1 F -.15(ve)-.25 G 2.963(ni).15 G 2.963(fy)-2.963 G .463
(ou use)-2.963 F F2(\255s\),)2.963 E F0 .463(so a correct declaration)
2.963 F(for)108 609.6 Q F1(ctr)2.5 E F0(is:)2.5 E(int ctr[YY_NUM_R)118
633.6 Q(ULES];)-.4 E .308(The macro)108 662.4 R F2(YY_USER_INIT)2.808 E
F0 .308(may be de\214ned to pro)2.808 F .308(vide an action which is al)
-.15 F -.1(wa)-.1 G .307(ys e).1 F -.15(xe)-.15 G .307(cuted before the)
.15 F .682(\214rst scan \(and before the scanner')108 674.4 R 3.183(si)
-.55 G .683(nternal initializations are done\).)-3.183 F -.15(Fo)5.683 G
3.183(re).15 G .683(xample, it could be used to)-3.333 F
(call a routine to read in a data table or open a logging \214le.)108
686.4 Q .203(The macro)108 703.2 R F2(yy_set_interacti)2.703 E -.1(ve)
-.1 G(\(is_interacti).1 E -.1(ve)-.1 G(\)).1 E F0 .203
(can be used to control whether the current b)2.703 F(uf)-.2 E .202
(fer is con-)-.25 F(sidered)108 715.2 Q F1(inter)3.414 E(active)-.15 E
(.)-.15 E F0 .914(An interacti)5.914 F 1.214 -.15(ve b)-.25 H(uf)-.05 E
.914(fer is processed more slo)-.25 F(wly)-.25 E 3.414(,b)-.65 G .915
(ut must be used when the scan-)-3.614 F(ner')108 727.2 Q 3.04(si)-.55 G
.54(nput source is indeed interacti)-3.04 F .84 -.15(ve t)-.25 H 3.04
(oa).15 G -.2(vo)-3.24 G .54(id problems due to w).2 F .539
(aiting to \214ll b)-.1 F(uf)-.2 E .539(fers \(see the discus-)-.25 F
.413(sion of the)108 739.2 R F2<ad49>2.913 E F0 .413(\215ag belo)2.913 F
2.913(w\). A)-.25 F .414(non-zero v)2.913 F .414(alue in the macro in)
-.25 F -.2(vo)-.4 G .414(cation marks the b).2 F(uf)-.2 E .414
(fer as interacti)-.25 F -.15(ve)-.25 G 2.914(,a).15 G 1.163(zero v)108
751.2 R 1.163(alue as non-interacti)-.25 F -.15(ve)-.25 G 6.163(.N).15 G
1.163(ote that use of this macro o)-6.163 F -.15(ve)-.15 G(rrides).15 E
F2 1.162(%option always-interacti)3.662 F -.1(ve)-.1 G F0(or)3.762 E F2
.148(%option ne)108 763.2 R -.1(ve)-.15 G -.37(r-).1 G(interacti).37 E
-.1(ve)-.1 G F0 .148(\(see Options belo)2.748 F(w\).)-.25 E F2
(yy_set_interacti)5.149 E -.1(ve)-.1 G(\(\)).1 E F0 .149(must be in)
2.649 F -.2(vo)-.4 G -.1(ke).2 G 2.649(dp).1 G .149(rior to be)-2.649 F
(gin-)-.15 E(ning to scan the b)108 775.2 Q(uf)-.2 E
(fer that is \(or is not\) to be considered interacti)-.25 E -.15(ve)
-.25 G(.).15 E -1.11(Ve)72 817.889 S(rsion 2.5)1.11 E(April 1995)158.283
E(19)193.832 E 0 Cg EP
%%Page: 20 20
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R .268
(The macro)108 84 R/F1 10/Times-Bold@0 SF(yy_set_bol\(at_bol\))2.768 E
F0 .268(can be used to control whether the current b)2.768 F(uf)-.2 E
(fer')-.25 E 2.767(ss)-.55 G .267(canning conte)-2.767 F .267(xt for)
-.15 F .519(the ne)108 96 R .519(xt tok)-.15 F .52
(en match is done as though at the be)-.1 F .52(ginning of a line.)-.15
F 3.02(An)5.52 G .52(on-zero macro ar)-3.02 F .52(gument mak)-.18 F(es)
-.1 E(rules anchored with)108 108 Q .531(The macro)108 124.8 R F1(YY_A)
3.031 E(T_BOL\(\))-.95 E F0 .531(returns true if the ne)3.031 F .53
(xt tok)-.15 F .53(en scanned from the current b)-.1 F(uf)-.2 E .53
(fer will ha)-.25 F .83 -.15(ve ')-.2 H(^').15 E(rules acti)108 136.8 Q
-.15(ve)-.25 G 2.5(,f).15 G(alse otherwise.)-2.6 E .358
(In the generated scanner)108 153.6 R 2.858(,t)-.4 G .358
(he actions are all g)-2.858 F .359(athered in one lar)-.05 F .359
(ge switch statement and separated using)-.18 F F1(YY_BREAK,)108 165.6 Q
F0 .021(which may be rede\214ned.)2.521 F .021(By def)5.021 F .021
(ault, it is simply a "break", to separate each rule')-.1 F 2.52(sa)-.55
G(ction)-2.52 E 3.074(from the follo)108 177.6 R 3.074(wing rule')-.25 F
5.574(s. Rede\214ning)-.55 F F1(YY_BREAK)5.574 E F0(allo)5.575 E 3.075
(ws, for e)-.25 F 3.075(xample, C++ users to #de\214ne)-.15 F .189
(YY_BREAK to do nothing \(while being v)108 189.6 R .189
(ery careful that e)-.15 F -.15(ve)-.25 G .188
(ry rule ends with a "break" or a "return"!\)).15 F 2.415(to a)108 201.6
R -.2(vo)-.2 G 2.415(id suf).2 F 2.415
(fering from unreachable statement w)-.25 F 2.415
(arnings where because a rule')-.1 F 4.915(sa)-.55 G 2.415
(ction ends with)-4.915 F("return", the)108 213.6 Q F1(YY_BREAK)2.5 E F0
(is inaccessible.)2.5 E/F2 10.95/Times-Bold@0 SF -1.478(VA)72 230.4 S
(LUES A)1.478 E -1.478(VA)-1.588 G(ILABLE T)1.478 E 2.738(OT)-.197 G
(HE USER)-2.738 E F0(This section summarizes the v)108 242.4 Q(arious v)
-.25 E(alues a)-.25 E -.25(va)-.2 G
(ilable to the user in the rule actions.).25 E(-)108 259.2 Q F1 .507
(char *yytext)32.67 F F0 .507(holds the te)3.007 F .507
(xt of the current tok)-.15 F 3.007(en. It)-.1 F .506
(may be modi\214ed b)3.006 F .506(ut not lengthened \(you)-.2 F
(cannot append characters to the end\).)144 271.2 Q 1.391
(If the special directi)144 288 R -.15(ve)-.25 G F1(%array)4.041 E F0
1.391(appears in the \214rst section of the scanner description, then)
3.891 F F1(yytext)144 300 Q F0 1.205(is instead declared)3.705 F F1
1.205(char yytext[YYLMAX],)3.705 F F0(where)3.705 E F1(YYLMAX)3.705 E F0
1.205(is a macro de\214nition)3.705 F .987
(that you can rede\214ne in the \214rst section if you don')144 312 R
3.487(tl)-.18 G(ik)-3.487 E 3.487(et)-.1 G .987(he def)-3.487 F .988
(ault v)-.1 F .988(alue \(generally 8KB\).)-.25 F(Using)144 324 Q F1
(%array)2.736 E F0 .236(results in some)2.736 F .236(what slo)-.25 F
.236(wer scanners, b)-.25 F .236(ut the v)-.2 F .236(alue of)-.25 F F1
(yytext)2.735 E F0 .235(becomes immune)2.735 F .757(to calls to)144 336
R/F3 10/Times-Italic@0 SF(input\(\))3.257 E F0(and)3.257 E F3
(unput\(\),)3.257 E F0 .757(which potentially destro)3.257 F 3.257(yi)
-.1 G .757(ts v)-3.257 F .757(alue when)-.25 F F1(yytext)3.257 E F0 .757
(is a character)3.257 F(pointer)144 348 Q 5(.T)-.55 G(he opposite of)-5
E F1(%array)2.5 E F0(is)2.5 E F1(%pointer)2.5 E(,)-.92 E F0
(which is the def)2.5 E(ault.)-.1 E -1.1(Yo)144 364.8 S 2.5(uc)1.1 G
(annot use)-2.5 E F1(%array)2.5 E F0
(when generating C++ scanner classes \(the)2.5 E F1<ad2b>2.5 E F0
(\215ag\).)2.5 E(-)108 381.6 Q F1(int yyleng)32.67 E F0
(holds the length of the current tok)2.5 E(en.)-.1 E(-)108 398.4 Q F1
.144(FILE *yyin)32.67 F F0 .144(is the \214le which by def)2.644 F(ault)
-.1 E F3<8d65>2.644 E(x)-.2 E F0 .144(reads from.)2.644 F .143
(It may be rede\214ned b)5.144 F .143(ut doing so only)-.2 F(mak)144
410.4 Q .14(es sense before scanning be)-.1 F .14
(gins or after an EOF has been encountered.)-.15 F .141
(Changing it in the)5.141 F 1.655(midst of scanning will ha)144 422.4 R
1.954 -.15(ve u)-.2 H(ne).15 E 1.654(xpected results since)-.15 F F3
<8d65>4.154 E(x)-.2 E F0 -.2(bu)4.154 G -.25(ff).2 G 1.654
(ers its input; use).25 F F1(yyr)4.154 E(estart\(\))-.18 E F0 3.178
(instead. Once)144 434.4 R .678(scanning terminates because an end-of-\
\214le has been seen, you can assign)3.178 F F3(yyin)3.179 E F0
(at the ne)144 446.4 Q 2.5(wi)-.25 G
(nput \214le and then call the scanner ag)-2.5 E
(ain to continue scanning.)-.05 E(-)108 463.2 Q F1 -.1(vo)32.67 G 1.692
(id yyr).1 F 1.692(estart\( FILE *new_\214le \))-.18 F F0 1.692
(may be called to point)4.192 F F3(yyin)4.191 E F0 1.691(at the ne)4.191
F 4.191(wi)-.25 G 1.691(nput \214le.)-4.191 F(The)6.691 E(switch-o)144
475.2 Q -.15(ve)-.15 G 3.106(rt).15 G 3.106(ot)-3.106 G .606(he ne)
-3.106 F 3.107<778c>-.25 G .607(le is immediate \(an)-3.107 F 3.107(yp)
-.15 G(re)-3.107 E .607(viously b)-.25 F(uf)-.2 E .607
(fered-up input is lost\).)-.25 F .607(Note that)5.607 F(calling)144
487.2 Q F1(yyr)3.779 E(estart\(\))-.18 E F0(with)3.779 E F3(yyin)3.779 E
F0 1.278(as an ar)3.778 F 1.278(gument thus thro)-.18 F 1.278(ws a)-.25
F -.1(wa)-.15 G 3.778(yt).1 G 1.278(he current input b)-3.778 F(uf)-.2 E
1.278(fer and)-.25 F(continues scanning the same input \214le.)144 499.2
Q(-)108 516 Q F1(FILE *yy)32.67 E(out)-.25 E F0(is the \214le to which)
2.5 E F1(ECHO)2.5 E F0(actions are done.)2.5 E
(It can be reassigned by the user)5 E(.)-.55 E(-)108 532.8 Q F1
(YY_CURRENT_B)32.67 E(UFFER)-.1 E F0(returns a)2.5 E F1(YY_B)2.5 E
(UFFER_ST)-.1 E -.95(AT)-.9 G(E).95 E F0(handle to the current b)2.5 E
(uf)-.2 E(fer)-.25 E(.)-.55 E(-)108 549.6 Q F1(YY_ST)32.67 E(AR)-.9 E(T)
-.4 E F0 1.335(returns an inte)3.835 F 1.335(ger v)-.15 F 1.335
(alue corresponding to the current start condition.)-.25 F -1.1(Yo)6.336
G 3.836(uc)1.1 G(an)-3.836 E(subsequently use this v)144 561.6 Q
(alue with)-.25 E F1(BEGIN)2.5 E F0(to return to that start condition.)
2.5 E F2(INTERF)72 578.4 Q -.602(AC)-.986 G(ING WITH Y).602 E -.602(AC)
-1.205 G(C).602 E F0 .24(One of the main uses of)108 590.4 R F3<8d65>
2.74 E(x)-.2 E F0 .24(is as a companion to the)2.74 F F3(yacc)2.74 E F0
(parser)2.74 E(-generator)-.2 E(.)-.55 E F3(yacc)5.239 E F0 .239
(parsers e)2.739 F .239(xpect to call)-.15 F 3.012(ar)108 602.4 S .512
(outine named)-3.012 F F1(yylex\(\))3.012 E F0 .512(to \214nd the ne)
3.012 F .512(xt input tok)-.15 F 3.012(en. The)-.1 F .513
(routine is supposed to return the type of the)3.012 F(ne)108 614.4 Q
.14(xt tok)-.15 F .14(en as well as putting an)-.1 F 2.639(ya)-.15 G
.139(ssociated v)-2.639 F .139(alue in the global)-.25 F F1(yylv)2.639 E
(al.)-.1 E F0 1.739 -.8(To u)5.139 H(se).8 E F3<8d65>2.639 E(x)-.2 E F0
(with)2.639 E F3(yacc,)2.639 E F0 .139(one spec-)2.639 F 1.395
(i\214es the)108 626.4 R F1<ad64>3.895 E F0 1.396(option to)3.895 F F3
(yacc)3.896 E F0 1.396(to instruct it to generate the \214le)3.896 F F1
-.7(y.)3.896 G(tab).7 E(.h)-.4 E F0 1.396
(containing de\214nitions of all the)3.896 F F1(%tok)108 638.4 Q(ens)-.1
E F0 .067(appearing in the)2.567 F F3(yacc)2.567 E F0 2.567(input. This)
2.567 F .067(\214le is then included in the)2.567 F F3<8d65>2.567 E(x)
-.2 E F0(scanner)2.567 E 5.067(.F)-.55 G .067(or e)-5.217 F .067
(xample, if one)-.15 F(of the tok)108 650.4 Q(ens is "T)-.1 E
(OK_NUMBER", part of the scanner might look lik)-.18 E(e:)-.1 E(%{)118
674.4 Q(#include "y)118 686.4 Q(.tab)-.65 E(.h")-.4 E(%})118 698.4 Q(%%)
118 722.4 Q 17.5([0-9]+ yylv)118 746.4 R(al = atoi\( yyte)-.25 E
(xt \); return T)-.15 E(OK_NUMBER;)-.18 E 191.333(20 April)72 817.889 R
155.782(1995 V)2.5 F(ersion 2.5)-1.11 E 0 Cg EP
%%Page: 21 21
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R/F1 10.95
/Times-Bold@0 SF(OPTIONS)72 84 Q/F2 10/Times-Italic@0 SF<8d65>108 96 Q
(x)-.2 E F0(has the follo)2.5 E(wing options:)-.25 E/F3 10/Times-Bold@0
SF<ad62>108 112.8 Q F0 .622(Generate backing-up information to)24.74 F
F2(le)3.122 E(x.bac)-.2 E(kup.)-.2 E F0 .622
(This is a list of scanner states which require)5.622 F 1.133
(backing up and the input characters on which the)144 124.8 R 3.633(yd)
-.15 G 3.633(os)-3.633 G 3.633(o. By)-3.633 F 1.132
(adding rules one can remo)3.633 F -.15(ve)-.15 G .506
(backing-up states.)144 136.8 R(If)5.506 E F2(all)3.006 E F0 .506
(backing-up states are eliminated and)3.006 F F3(\255Cf)3.006 E F0(or)
3.006 E F3(\255CF)3.007 E F0 .507(is used, the gener)3.007 F(-)-.2 E
.172(ated scanner will run f)144 148.8 R .172(aster \(see the)-.1 F F3
<ad70>2.672 E F0 2.672(\215ag\). Only)2.672 F .172
(users who wish to squeeze e)2.672 F -.15(ve)-.25 G .172(ry last c).15 F
(ycle)-.15 E .133(out of their scanners need w)144 160.8 R .133
(orry about this option.)-.1 F .134
(\(See the section on Performance Consider)5.133 F(-)-.2 E(ations belo)
144 172.8 Q -.65(w.)-.25 G(\)).65 E F3<ad63>108 189.6 Q F0
(is a do-nothing, deprecated option included for POSIX compliance.)25.86
E F3<ad64>108 206.4 Q F0(mak)24.74 E 1.038
(es the generated scanner run in)-.1 F F2(deb)3.538 E(ug)-.2 E F0 3.537
(mode. Whene)3.538 F -.15(ve)-.25 G 3.537(rap).15 G 1.037
(attern is recognized and the)-3.537 F(global)144 218.4 Q F3
(yy_\215ex_deb)2.733 E(ug)-.2 E F0 .233(is non-zero \(which is the def)
2.733 F .234(ault\), the scanner will write to)-.1 F F2(stderr)2.734 E
F0 2.734(al)2.734 G(ine)-2.734 E(of the form:)144 230.4 Q
(--accepting rule at line 53 \("the matched te)154 254.4 Q(xt"\))-.15 E
.596(The line number refers to the location of the rule in the \214le d\
e\214ning the scanner \(i.e., the \214le)144 278.4 R 1.345(that w)144
290.4 R 1.345(as fed to \215e)-.1 F 3.845(x\). Messages)-.15 F 1.346
(are also generated when the scanner backs up, accepts the)3.846 F(def)
144 302.4 Q 1.029(ault rule, reaches the end of its input b)-.1 F(uf)-.2
E 1.029(fer \(or encounters a NUL; at this point, the tw)-.25 F(o)-.1 E
(look the same as f)144 314.4 Q(ar as the scanner')-.1 E 2.5(sc)-.55 G
(oncerned\), or reaches an end-of-\214le.)-2.5 E F3<ad66>108 331.2 Q F0
(speci\214es)26.97 E F2 .169(fast scanner)2.669 F(.)-1.11 E F0 .17
(No table compression is done and stdio is bypassed.)5.169 F .17
(The result is lar)5.17 F(ge)-.18 E -.2(bu)144 343.2 S 2.5(tf).2 G 2.5
(ast. This)-2.6 F(option is equi)2.5 E -.25(va)-.25 G(lent to).25 E F3
(\255Cfr)2.5 E F0(\(see belo)2.5 E(w\).)-.25 E F3<ad68>108 360 Q F0 .11
(generates a "help" summary of)24.74 F F2<8d65>2.61 E(x')-.2 E(s)-.4 E
F0 .11(options to)2.61 F F2(stdout)2.61 E F0 .11(and then e)2.61 F
(xits.)-.15 E F3<ad3f>5.109 E F0(and)5.109 E F3(\255\255help)2.609 E F0
.109(are syn-)2.609 F(on)144 372 Q(yms for)-.15 E F3(\255h.)2.5 E<ad69>
108 388.8 Q F0(instructs)27.52 E F2<8d65>3.047 E(x)-.2 E F0 .547
(to generate a)3.047 F F2(case-insensitive)3.047 E F0(scanner)3.048 E
5.548(.T)-.55 G .548(he case of letters gi)-5.548 F -.15(ve)-.25 G 3.048
(ni).15 G 3.048(nt)-3.048 G(he)-3.048 E F2<8d65>3.048 E(x)-.2 E F0
(input)3.048 E 1.717(patterns will be ignored, and tok)144 400.8 R 1.716
(ens in the input will be matched re)-.1 F -.05(ga)-.15 G 1.716
(rdless of case.).05 F(The)6.716 E(matched te)144 412.8 Q(xt gi)-.15 E
-.15(ve)-.25 G 2.5(ni).15 G(n)-2.5 E F2(yyte)2.5 E(xt)-.2 E F0(will ha)
2.5 E .3 -.15(ve t)-.2 H(he preserv).15 E
(ed case \(i.e., it will not be folded\).)-.15 E F3<ad6c>108 429.6 Q F0
.835(turns on maximum compatibility with the original A)27.52 F(T&T)
-1.11 E F2(le)3.336 E(x)-.2 E F0 3.336(implementation. Note)3.336 F .836
(that this)3.336 F 1.123(does not mean)144 441.6 R F2(full)3.623 E F0
(compatibility)3.623 E 6.123(.U)-.65 G 1.122
(se of this option costs a considerable amount of perfor)-6.123 F(-)-.2
E .343(mance, and it cannot be used with the)144 453.6 R F3 .343
(\255+, -f)2.843 F 2.843(,-)-.15 G 2.183 -.92(F, -)-2.843 H(Cf).92 E(,)
-.15 E F0(or)2.844 E F3(-CF)2.844 E F0 2.844(options. F)2.844 F .344
(or details on the com-)-.15 F .668(patibilities it pro)144 465.6 R .667
(vides, see the section "Incompatibilities W)-.15 F .667(ith Le)-.4 F
3.167(xA)-.15 G .667(nd POSIX" belo)-3.167 F 4.467 -.65(w. T)-.25 H(his)
.65 E .414(option also results in the name)144 477.6 R F3
(YY_FLEX_LEX_COMP)2.914 E -.95(AT)-.74 G F0 .414(being #de\214ne')3.864
F 2.914(di)-.5 G 2.914(nt)-2.914 G .415(he generated)-2.914 F(scanner)
144 489.6 Q(.)-.55 E F3<ad6e>108 506.4 Q F0(is another do-nothing, depr\
ecated option included only for POSIX compliance.)24.74 E F3<ad70>108
523.2 Q F0 .613(generates a performance report to stderr)24.74 F 5.613
(.T)-.55 G .613(he report consists of comments re)-5.613 F -.05(ga)-.15
G .612(rding features).05 F .185(of the)144 535.2 R F2<8d65>2.685 E(x)
-.2 E F0 .186(input \214le which will cause a serious loss of performan\
ce in the resulting scanner)2.685 F 5.186(.I)-.55 G(f)-5.186 E .443
(you gi)144 547.2 R .743 -.15(ve t)-.25 H .442
(he \215ag twice, you will also get comments re).15 F -.05(ga)-.15 G
.442(rding features that lead to minor per).05 F(-)-.2 E
(formance losses.)144 559.2 Q .389(Note that the use of)144 576 R F3
(REJECT)2.889 E 2.889(,%)-.74 G .389(option yylineno,)-2.889 F F0 .389
(and v)2.889 F .389(ariable trailing conte)-.25 F .389
(xt \(see the De\214-)-.15 F .098(ciencies / Bugs section belo)144 588 R
.097(w\) entails a substantial performance penalty; use of)-.25 F F2
(yymor)2.597 E(e\(\),)-.37 E F0(the)2.597 E F3(^)2.597 E F0(operator)144
600 Q 2.5(,a)-.4 G(nd the)-2.5 E F3<ad49>2.5 E F0
(\215ag entail minor performance penalties.)2.5 E F3<ad73>108 616.8 Q F0
.196(causes the)26.41 F F2 .196(default rule)2.696 F F0 .196
(\(that unmatched scanner input is echoed to)2.696 F F2(stdout\))2.697 E
F0 .197(to be suppressed.)2.697 F(If)5.197 E .394
(the scanner encounters input that does not match an)144 628.8 R 2.894
(yo)-.15 G 2.894(fi)-2.894 G .394(ts rules, it aborts with an error)
-2.894 F 5.393(.T)-.55 G(his)-5.393 E
(option is useful for \214nding holes in a scanner')144 640.8 Q 2.5(sr)
-.55 G(ule set.)-2.5 E F3<ad74>108 657.6 Q F0(instructs)26.97 E F2<8d65>
2.5 E(x)-.2 E F0
(to write the scanner it generates to standard output instead of)2.5 E
F3(lex.yy)2.5 E(.c.)-.7 E<ad76>108 674.4 Q F0 .236(speci\214es that)25.3
F F2<8d65>2.736 E(x)-.2 E F0 .236(should write to)2.736 F F2(stderr)
2.736 E F0 2.736(as)2.736 G .236(ummary of statistics re)-2.736 F -.05
(ga)-.15 G .237(rding the scanner it gener).05 F(-)-.2 E 3.254
(ates. Most)144 686.4 R .754
(of the statistics are meaningless to the casual)3.254 F F2<8d65>3.253 E
(x)-.2 E F0(user)3.253 E 3.253(,b)-.4 G .753
(ut the \214rst line identi\214es)-3.453 F .407(the v)144 698.4 R .408
(ersion of)-.15 F F2<8d65>2.908 E(x)-.2 E F0 .408(\(same as reported by)
2.908 F F3(\255V\),)2.908 E F0 .408(and the ne)2.908 F .408
(xt line the \215ags used when generating)-.15 F(the scanner)144 710.4 Q
2.5(,i)-.4 G(ncluding those that are on by def)-2.5 E(ault.)-.1 E F3
<ad77>108 727.2 Q F0(suppresses w)23.08 E(arning messages.)-.1 E F3
<ad42>108 744 Q F0(instructs)23.63 E F2<8d65>2.926 E(x)-.2 E F0 .426
(to generate a)2.926 F F2(batc)2.926 E(h)-.15 E F0(scanner)2.925 E 2.925
(,t)-.4 G .425(he opposite of)-2.925 F F2(inter)2.925 E(active)-.15 E F0
.425(scanners generated by)2.925 F F3<ad49>2.925 E F0 .057(\(see belo)
144 756 R 2.558(w\). In)-.25 F .058(general, you use)2.558 F F3<ad42>
2.558 E F0 .058(when you are)2.558 F F2(certain)2.558 E F0 .058
(that your scanner will ne)2.558 F -.15(ve)-.25 G 2.558(rb).15 G 2.558
(eu)-2.558 G(sed)-2.558 E(interacti)144 768 Q -.15(ve)-.25 G(ly).15 E
4.076(,a)-.65 G 1.576(nd you w)-4.076 F 1.576(ant to squeeze a)-.1 F F2
(little)4.076 E F0 1.576(more performance out of it.)4.076 F 1.576
(If your goal is)6.576 F .599(instead to squeeze out a)144 780 R F2(lot)
3.099 E F0 .6(more performance, you should)3.1 F .6(be using the)5.6 F
F3(\255Cf)3.1 E F0(or)3.1 E F3(\255CF)3.1 E F0(options)3.1 E -1.11(Ve)72
817.889 S(rsion 2.5)1.11 E(April 1995)158.283 E(21)193.832 E 0 Cg EP
%%Page: 22 22
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R
(\(discussed belo)144 84 Q(w\), which turn on)-.25 E/F1 10/Times-Bold@0
SF<ad42>2.5 E F0(automatically an)2.5 E(yw)-.15 E(ay)-.1 E(.)-.65 E F1
<ad46>108 100.8 Q F0 .739(speci\214es that the)24.19 F/F2 10
/Times-Italic@0 SF(fast)3.239 E F0 .739
(scanner table representation should be used \(and stdio bypassed\).)
3.239 F(This)5.738 E .157(representation is about as f)144 112.8 R .157
(ast as the full table representation)-.1 F F1(\(-f\),)2.657 E F0 .158
(and for some sets of patterns)2.657 F 1.436
(will be considerably smaller \(and for others, lar)144 124.8 R 3.935
(ger\). In)-.18 F 1.435(general, if the pattern set contains)3.935 F
(both "k)144 136.8 Q -.15(ey)-.1 G -.1(wo).15 G
(rds" and a catch-all, "identi\214er" rule, such as in the set:).1 E 7.5
("case" return)154 160.8 R -.18(TO)2.5 G(K_CASE;).18 E 2.5
("switch" return)154 172.8 R -.18(TO)2.5 G(K_SWITCH;).18 E(...)154 184.8
Q("def)154 196.8 Q(ault" return T)-.1 E(OK_DEF)-.18 E -.55(AU)-.74 G
-1.21 -.92(LT ;).55 H 7.5([a-z]+ return)154 208.8 R -.18(TO)2.5 G(K_ID;)
.18 E .258(then you')144 232.8 R .258(re better of)-.5 F 2.758(fu)-.25 G
.258(sing the full table representation.)-2.758 F .259
(If only the "identi\214er" rule is present)5.258 F
(and you then use a hash table or some such to detect the k)144 244.8 Q
-.15(ey)-.1 G -.1(wo).15 G(rds, you').1 E(re better of)-.5 E 2.5(fu)-.25
G(sing)-2.5 E F1(-F)2.5 E(.)-1.1 E F0(This option is equi)144 261.6 Q
-.25(va)-.25 G(lent to).25 E F1(\255CFr)2.5 E F0(\(see belo)2.5 E 2.5
(w\). It)-.25 F(cannot be used with)2.5 E F1(\255+.)2.5 E<ad49>108 278.4
Q F0(instructs)26.41 E F2<8d65>3.063 E(x)-.2 E F0 .563(to generate an)
3.063 F F2(inter)3.063 E(active)-.15 E F0(scanner)3.063 E 5.563(.A)-.55
G 3.062(ni)-5.563 G(nteracti)-3.062 E .862 -.15(ve s)-.25 H .562
(canner is one that only looks).15 F .983(ahead to decide what tok)144
290.4 R .983(en has been matched if it absolutely must.)-.1 F .984
(It turns out that al)5.984 F -.1(wa)-.1 G(ys).1 E .487(looking one e)
144 302.4 R .487(xtra character ahead, e)-.15 F -.15(ve)-.25 G 2.987(ni)
.15 G 2.987(ft)-2.987 G .487(he scanner has already seen enough te)
-2.987 F .487(xt to disam-)-.15 F .05(biguate the current tok)144 314.4
R .05(en, is a bit f)-.1 F .05
(aster than only looking ahead when necessary)-.1 F 5.051(.B)-.65 G .051
(ut scanners)-5.051 F .469(that al)144 326.4 R -.1(wa)-.1 G .468
(ys look ahead gi).1 F .768 -.15(ve d)-.25 H .468(readful interacti).15
F .768 -.15(ve p)-.25 H .468(erformance; for e).15 F .468
(xample, when a user types)-.15 F 3.101(an)144 338.4 S -.25(ew)-3.101 G
.601(line, it is not recognized as a ne).25 F .602(wline tok)-.25 F .602
(en until the)-.1 F 3.102(ye)-.15 G(nter)-3.102 E F2(another)3.102 E F0
(tok)3.102 E .602(en, which often)-.1 F
(means typing in another whole line.)144 350.4 Q F2(Fle)144 367.2 Q(x)
-.2 E F0 .368(scanners def)2.868 F .368(ault to)-.1 F F2(inter)2.868 E
(active)-.15 E F0 .367(unless you use the)2.867 F F1(\255Cf)2.867 E F0
(or)2.867 E F1(\255CF)2.867 E F0 .367(table-compression options)2.867 F
.67(\(see belo)144 379.2 R 3.17(w\). That')-.25 F 3.17(sb)-.55 G .67
(ecause if you')-3.17 F .671
(re looking for high-performance you should be using one)-.5 F .579
(of these options, so if you didn')144 391.2 R(t,)-.18 E F2<8d65>3.079 E
(x)-.2 E F0 .579(assumes you')3.079 F 3.079(dr)-.5 G .579
(ather trade of)-3.079 F 3.079(fab)-.25 G .579(it of run-time perfor)
-3.079 F(-)-.2 E .289(mance for intuiti)144 403.2 R .589 -.15(ve i)-.25
H(nteracti).15 E .589 -.15(ve b)-.25 H(eha).15 E(vior)-.2 E 5.289(.N)
-.55 G .29(ote also that you)-5.289 F F2(cannot)2.79 E F0(use)2.79 E F1
<ad49>2.79 E F0 .29(in conjunction with)2.79 F F1(\255Cf)144 415.2 Q F0
(or)3.389 E F1(\255CF)3.389 E(.)-1.1 E F0 .889
(Thus, this option is not really needed; it is on by def)5.889 F .888
(ault for all those cases in)-.1 F(which it is allo)144 427.2 Q(wed.)
-.25 E -1.1(Yo)144 444 S 2.5(uc)1.1 G(an force a scanner to)-2.5 E F2
(not)2.5 E F0(be interacti)2.5 E .3 -.15(ve b)-.25 H 2.5(yu).15 G(sing)
-2.5 E F1<ad42>2.5 E F0(\(see abo)2.5 E -.15(ve)-.15 G(\).).15 E F1
<ad4c>108 460.8 Q F0(instructs)23.63 E F2<8d65>3.267 E(x)-.2 E F0 .767
(not to generate)3.267 F F1(#line)3.267 E F0(directi)3.267 E -.15(ve)
-.25 G 3.267(s. W).15 F .767(ithout this option,)-.4 F F2<8d65>3.268 E
(x)-.2 E F0 .768(peppers the generated)3.268 F 1.133
(scanner with #line directi)144 472.8 R -.15(ve)-.25 G 3.633(ss).15 G
3.633(oe)-3.633 G 1.132
(rror messages in the actions will be correctly located with)-3.633 F
.882(respect to either the original)144 484.8 R F2<8d65>3.382 E(x)-.2 E
F0 .883
(input \214le \(if the errors are due to code in the input \214le\), or)
3.382 F F1(lex.yy)144 496.8 Q(.c)-.7 E F0 1.434(\(if the errors are)
3.934 F F2<8d65>3.934 E(x')-.2 E(s)-.4 E F0 -.1(fa)3.934 G 1.434
(ult -- you should report these sorts of errors to the email).1 F
(address gi)144 508.8 Q -.15(ve)-.25 G 2.5(nb).15 G(elo)-2.5 E(w\).)-.25
E F1<ad54>108 525.6 Q F0(mak)23.63 E(es)-.1 E F2<8d65>2.765 E(x)-.2 E F0
.265(run in)2.765 F F2(tr)2.765 E(ace)-.15 E F0 2.765(mode. It)2.765 F
.266(will generate a lot of messages to)2.765 F F2(stderr)2.766 E F0
.266(concerning the form)2.766 F .358(of the input and the resultant no\
n-deterministic and deterministic \214nite automata.)144 537.6 R .357
(This option)5.358 F(is mostly for use in maintaining)144 549.6 Q F2
<8d65>2.5 E(x.)-.2 E F1<ad56>108 566.4 Q F0(prints the v)23.08 E
(ersion number to)-.15 E F2(stdout)2.5 E F0(and e)2.5 E(xits.)-.15 E F1
<adad76>5 E(ersion)-.1 E F0(is a synon)2.5 E(ym for)-.15 E F1<ad56>2.5 E
(.)-1.45 E<ad37>108 583.2 Q F0(instructs)25.3 E F2<8d65>2.517 E(x)-.2 E
F0 .017(to generate a 7-bit scanner)2.517 F 2.517(,i)-.4 G .017
(.e., one which can only recognized 7-bit characters in)-2.517 F .687
(its input.)144 595.2 R .687(The adv)5.687 F .687(antage of using)-.25 F
F1<ad37>3.187 E F0 .687(is that the scanner')3.187 F 3.187(st)-.55 G
.686(ables can be up to half the size of)-3.187 F .216
(those generated using the)144 607.2 R F1<ad38>2.717 E F0 .217
(option \(see belo)2.717 F 2.717(w\). The)-.25 F(disadv)2.717 E .217
(antage is that such scanners often)-.25 F
(hang or crash if their input contains an 8-bit character)144 619.2 Q(.)
-.55 E .088(Note, ho)144 636 R(we)-.25 E -.15(ve)-.25 G .888 -.4(r, t)
.15 H .088(hat unless you generate your scanner using the).4 F F1
(\255Cf)2.587 E F0(or)2.587 E F1(\255CF)2.587 E F0 .087
(table compression)2.587 F .616(options, use of)144 648 R F1<ad37>3.116
E F0 .616(will sa)3.116 F .916 -.15(ve o)-.2 H .616
(nly a small amount of table space, and mak).15 F 3.117(ey)-.1 G .617
(our scanner con-)-3.117 F .534(siderably less portable.)144 660 R F2
(Fle)5.534 E(x')-.2 E(s)-.4 E F0(def)3.034 E .534(ault beha)-.1 F .534
(vior is to generate an 8-bit scanner unless you use)-.2 F(the)144 672 Q
F1(\255Cf)3.2 E F0(or)3.201 E F1(\255CF)3.201 E(,)-.92 E F0 .701
(in which case)3.201 F F2<8d65>3.201 E(x)-.2 E F0(def)3.201 E .701
(aults to generating 7-bit scanners unless your site w)-.1 F(as)-.1 E
(al)144 684 Q -.1(wa)-.1 G .9(ys con\214gured to generate 8-bit scanner\
s \(as will often be the case with non-USA sites\).).1 F -1.1(Yo)144 696
S 2.78(uc)1.1 G .28(an tell whether \215e)-2.78 F 2.78(xg)-.15 G .28
(enerated a 7-bit or an 8-bit scanner by inspecting the \215ag summary)
-2.78 F(in the)144 708 Q F1<ad76>2.5 E F0(output as described abo)2.5 E
-.15(ve)-.15 G(.).15 E 1.241(Note that if you use)144 724.8 R F1
(\255Cfe)3.741 E F0(or)3.741 E F1(\255CF)3.741 E(e)-.25 E F0 1.241
(\(those table compression options, b)3.741 F 1.241(ut also using equi)
-.2 F(v-)-.25 E .613(alence classes as discussed see belo)144 736.8 R
.613(w\), \215e)-.25 F 3.113(xs)-.15 G .613(till def)-3.113 F .613
(aults to generating an 8-bit scanner)-.1 F 3.114(,s)-.4 G(ince)-3.114 E
1.464(usually with these compression options full 8-bit tables are not \
much more e)144 748.8 R(xpensi)-.15 E 1.763 -.15(ve t)-.25 H(han).15 E
(7-bit tables.)144 760.8 Q 191.333(22 April)72 817.889 R 155.782(1995 V)
2.5 F(ersion 2.5)-1.11 E 0 Cg EP
%%Page: 23 23
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R/F1 10
/Times-Bold@0 SF<ad38>108 84 Q F0(instructs)25.3 E/F2 10/Times-Italic@0
SF<8d65>2.895 E(x)-.2 E F0 .395(to generate an 8-bit scanner)2.895 F
2.895(,i)-.4 G .396(.e., one which can recognize 8-bit characters.)
-2.895 F(This)5.396 E .032
(\215ag is only needed for scanners generated using)144 96 R F1(\255Cf)
2.532 E F0(or)2.532 E F1(\255CF)2.532 E(,)-.92 E F0 .032
(as otherwise \215e)2.532 F 2.532(xd)-.15 G(ef)-2.532 E .032
(aults to gen-)-.1 F(erating an 8-bit scanner an)144 108 Q(yw)-.15 E(ay)
-.1 E(.)-.65 E .439(See the discussion of)144 124.8 R F1<ad37>2.939 E F0
(abo)2.939 E .74 -.15(ve f)-.15 H .44(or \215e).15 F(x')-.15 E 2.94(sd)
-.55 G(ef)-2.94 E .44(ault beha)-.1 F .44(vior and the tradeof)-.2 F .44
(fs between 7-bit and)-.25 F(8-bit scanners.)144 136.8 Q F1<ad2b>108
153.6 Q F0 .981(speci\214es that you w)24.6 F .981(ant \215e)-.1 F 3.481
(xt)-.15 G 3.48(og)-3.481 G .98(enerate a C++ scanner class.)-3.48 F .98
(See the section on Generating)5.98 F(C++ Scanners belo)144 165.6 Q 2.5
(wf)-.25 G(or details.)-2.5 E F1(\255C[aefFmr])108 182.4 Q F0 .729
(controls the de)144 194.4 R .729
(gree of table compression and, more generally)-.15 F 3.23(,t)-.65 G
(rade-of)-3.23 E .73(fs between small scan-)-.25 F(ners and f)144 206.4
Q(ast scanners.)-.1 E F1(\255Ca)144 223.2 Q F0 .261
(\("align"\) instructs \215e)2.761 F 2.761(xt)-.15 G 2.761(ot)-2.761 G
.26(rade of)-2.761 F 2.76(fl)-.25 G(ar)-2.76 E .26
(ger tables in the generated scanner for f)-.18 F .26(aster perfor)-.1 F
(-)-.2 E .551(mance because the elements of the tables are better align\
ed for memory access and computa-)144 235.2 R 2.542(tion. On)144 247.2 R
.041(some RISC architectures, fetching and manipulating longw)2.542 F
.041(ords is more ef)-.1 F .041(\214cient than)-.25 F .067(with smaller)
144 259.2 R .067(-sized units such as shortw)-.2 F 2.567(ords. This)-.1
F .067(option can double the size of the tables used)2.567 F
(by your scanner)144 271.2 Q(.)-.55 E F1(\255Ce)144 288 Q F0(directs)
3.274 E F2<8d65>3.274 E(x)-.2 E F0 .774(to construct)3.274 F F2 .774
(equivalence classes,)3.274 F F0 .773(i.e., sets of characters which ha)
3.273 F 1.073 -.15(ve i)-.2 H(dentical).15 E(le)144 300 Q .362
(xical properties \(for e)-.15 F .363
(xample, if the only appearance of digits in the)-.15 F F2<8d65>2.863 E
(x)-.2 E F0 .363(input is in the char)2.863 F(-)-.2 E .264(acter class \
"[0-9]" then the digits '0', '1', ..., '9' will all be put in the same \
equi)144 312 R -.25(va)-.25 G .263(lence class\).).25 F(Equi)144 324 Q
-.25(va)-.25 G .944(lence classes usually gi).25 F 1.244 -.15(ve d)-.25
H .945
(ramatic reductions in the \214nal table/object \214le sizes \(typi-).15
F .562(cally a f)144 336 R .562(actor of 2-5\) and are pretty cheap per\
formance-wise \(one array look-up per character)-.1 F(scanned\).)144 348
Q F1(\255Cf)144 364.8 Q F0 1.015(speci\214es that the)3.515 F F2(full)
3.515 E F0 1.015(scanner tables should be generated -)3.515 F F2<8d65>
3.515 E(x)-.2 E F0 1.015(should not compress the)3.515 F
(tables by taking adv)144 376.8 Q
(antages of similar transition functions for dif)-.25 E(ferent states.)
-.25 E F1(\255CF)144 393.6 Q F0 1.717(speci\214es that the alternate f)
4.217 F 1.716(ast scanner representation \(described abo)-.1 F 2.016
-.15(ve u)-.15 H 1.716(nder the).15 F F1<ad46>4.216 E F0
(\215ag\) should be used.)144 405.6 Q(This option cannot be used with)5
E F1(\255+.)2.5 E(\255Cm)144 422.4 Q F0(directs)3.072 E F2<8d65>3.073 E
(x)-.2 E F0 .573(to construct)3.073 F F2 .573(meta-equivalence classes,)
3.073 F F0 .573(which are sets of equi)3.073 F -.25(va)-.25 G .573
(lence classes).25 F 1.465(\(or characters, if equi)144 434.4 R -.25(va)
-.25 G 1.464
(lence classes are not being used\) that are commonly used together).25
F(.)-.55 E(Meta-equi)144 446.4 Q -.25(va)-.25 G .814
(lence classes are often a big win when using compressed tables, b).25 F
.814(ut the)-.2 F 3.314(yh)-.15 G -2.25 -.2(av e)-3.314 H(a)3.514 E
2.218(moderate performance impact \(one or tw)144 458.4 R 4.717(o")-.1 G
2.217(if" tests and one array look-up per character)-4.717 F(scanned\).)
144 470.4 Q F1(\255Cr)144 487.2 Q F0 .873
(causes the generated scanner to)3.373 F F2(bypass)3.374 E F0 .874
(use of the standard I/O library \(stdio\) for input.)3.374 F .573
(Instead of calling)144 499.2 R F1(fr)3.073 E(ead\(\))-.18 E F0(or)3.073
E F1(getc\(\),)3.073 E F0 .573(the scanner will use the)3.073 F F1 -.18
(re)3.073 G(ad\(\)).18 E F0 .572(system call, resulting in a)3.073 F
1.066(performance g)144 511.2 R 1.066(ain which v)-.05 F 1.066
(aries from system to system, b)-.25 F 1.067
(ut in general is probably ne)-.2 F(gligible)-.15 E .267
(unless you are also using)144 523.2 R F1(\255Cf)2.767 E F0(or)2.767 E
F1(\255CF)2.767 E(.)-1.1 E F0(Using)5.267 E F1(\255Cr)2.767 E F0 .266
(can cause strange beha)2.766 F .266(vior if, for e)-.2 F(xample,)-.15 E
1.567(you read from)144 535.2 R F2(yyin)4.067 E F0 1.567(using stdio pr\
ior to calling the scanner \(because the scanner will miss)4.067 F
(whate)144 547.2 Q -.15(ve)-.25 G 2.5(rt).15 G -.15(ex)-2.5 G 2.5(ty).15
G(our pre)-2.5 E(vious reads left in the stdio input b)-.25 E(uf)-.2 E
(fer\).)-.25 E F1(\255Cr)144 564 Q F0(has no ef)2.5 E
(fect if you de\214ne)-.25 E F1(YY_INPUT)2.5 E F0
(\(see The Generated Scanner abo)2.5 E -.15(ve)-.15 G(\).).15 E 4.266
(Al)144 580.8 S(one)-4.266 E F1<ad43>4.266 E F0 1.766
(speci\214es that the scanner tables should be compressed b)4.266 F
1.765(ut neither equi)-.2 F -.25(va)-.25 G(lence).25 E
(classes nor meta-equi)144 592.8 Q -.25(va)-.25 G
(lence classes should be used.).25 E .905(The options)144 609.6 R F1
(\255Cf)3.405 E F0(or)3.405 E F1(\255CF)3.405 E F0(and)3.405 E F1
(\255Cm)3.405 E F0 .905(do not mak)3.405 F 3.405(es)-.1 G .905
(ense together - there is no opportunity for)-3.405 F(meta-equi)144
621.6 Q -.25(va)-.25 G .608
(lence classes if the table is not being compressed.).25 F .607
(Otherwise the options may be)5.607 F(freely mix)144 633.6 Q
(ed, and are cumulati)-.15 E -.15(ve)-.25 G(.).15 E .342(The def)144
650.4 R .342(ault setting is)-.1 F F1(\255Cem,)2.842 E F0 .343
(which speci\214es that)2.843 F F2<8d65>2.843 E(x)-.2 E F0 .343
(should generate equi)2.843 F -.25(va)-.25 G .343(lence classes and).25
F(meta-equi)144 662.4 Q -.25(va)-.25 G .29(lence classes.).25 F .29
(This setting pro)5.29 F .29(vides the highest de)-.15 F .289
(gree of table compression.)-.15 F -1.1(Yo)5.289 G(u)1.1 E .324
(can trade of)144 674.4 R 2.824(ff)-.25 G(aster)-2.924 E(-e)-.2 E -.15
(xe)-.15 G .325(cuting scanners at the cost of lar).15 F .325
(ger tables with the follo)-.18 F .325(wing generally)-.25 F
(being true:)144 686.4 Q(slo)154 710.4 Q(west & smallest)-.25 E(-Cem)169
722.4 Q(-Cm)169 734.4 Q(-Ce)169 746.4 Q(-C)169 758.4 Q(-C{f,F}e)169
770.4 Q -1.11(Ve)72 817.889 S(rsion 2.5)1.11 E(April 1995)158.283 E(23)
193.832 E 0 Cg EP
%%Page: 24 24
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R(-C{f,F})169
84 Q(-C{f,F}a)169 96 Q -.1(fa)154 108 S(stest & lar).1 E(gest)-.18 E
.059(Note that scanners with the smallest tables are usually generated \
and compiled the quick)144 132 R .058(est, so)-.1 F(during de)144 144 Q
-.15(ve)-.25 G(lopment you will usually w).15 E(ant to use the def)-.1 E
(ault, maximal compression.)-.1 E/F1 10/Times-Bold@0 SF(\255Cfe)144
160.8 Q F0(is often a good compromise between speed and size for produc\
tion scanners.)2.5 E F1(\255ooutput)108 177.6 Q F0 .344(directs \215e)
144 189.6 R 2.844(xt)-.15 G 2.844(ow)-2.844 G .344
(rite the scanner to the \214le)-2.844 F F1(output)2.844 E F0 .345
(instead of)2.844 F F1(lex.yy)2.845 E(.c.)-.7 E F0 .345(If you combine)
5.345 F F1<ad6f>2.845 E F0(with)2.845 E(the)144 201.6 Q F1<ad74>3.261 E
F0 .761(option, then the scanner is written to)3.261 F/F2 10
/Times-Italic@0 SF(stdout)3.261 E F0 -.2(bu)3.261 G 3.261(ti).2 G(ts)
-3.261 E F1(#line)3.261 E F0(directi)3.261 E -.15(ve)-.25 G 3.261(s\()
.15 G .761(see the)-3.261 F F1<ad4c>3.26 E F0(option)3.26 E(abo)144
213.6 Q -.15(ve)-.15 G 2.5(\)r).15 G(efer to the \214le)-2.5 E F1
(output.)2.5 E(\255Ppr)108 230.4 Q(e\214x)-.18 E F0 .588
(changes the def)144 242.4 R(ault)-.1 E F2(yy)3.088 E F0 .588
(pre\214x used by)3.088 F F2<8d65>3.088 E(x)-.2 E F0 .588
(for all globally-visible v)3.088 F .589(ariable and function names)-.25
F 1.951(to instead be)144 254.4 R F2(pr)4.451 E(e\214x.)-.37 E F0 -.15
(Fo)6.951 G 4.451(re).15 G(xample,)-4.601 E F1(\255Pf)4.451 E(oo)-.25 E
F0 1.951(changes the name of)4.451 F F1(yytext)4.451 E F0(to)4.451 E F1
-.25(fo)4.451 G(otext.).25 E F0 1.951(It also)6.951 F 1.657
(changes the name of the def)144 266.4 R 1.657(ault output \214le from)
-.1 F F1(lex.yy)4.157 E(.c)-.7 E F0(to)4.157 E F1(lex.f)4.157 E(oo.c.)
-.25 E F0 1.658(Here are all of the)6.657 F(names af)144 278.4 Q
(fected:)-.25 E(yy_create_b)154 302.4 Q(uf)-.2 E(fer)-.25 E(yy_delete_b)
154 314.4 Q(uf)-.2 E(fer)-.25 E(yy_\215e)154 326.4 Q(x_deb)-.15 E(ug)-.2
E(yy_init_b)154 338.4 Q(uf)-.2 E(fer)-.25 E(yy_\215ush_b)154 350.4 Q(uf)
-.2 E(fer)-.25 E(yy_load_b)154 362.4 Q(uf)-.2 E(fer_state)-.25 E
(yy_switch_to_b)154 374.4 Q(uf)-.2 E(fer)-.25 E(yyin)154 386.4 Q(yyleng)
154 398.4 Q(yyle)154 410.4 Q(x)-.15 E(yylineno)154 422.4 Q(yyout)154
434.4 Q(yyrestart)154 446.4 Q(yyte)154 458.4 Q(xt)-.15 E(yywrap)154
470.4 Q 1.109(\(If you are using a C++ scanner)144 494.4 R 3.609(,t)-.4
G 1.109(hen only)-3.609 F F1(yywrap)3.609 E F0(and)3.609 E F1
(yyFlexLexer)3.609 E F0 1.109(are af)3.609 F 3.608(fected.\) W)-.25 F
(ithin)-.4 E .093
(your scanner itself, you can still refer to the global v)144 506.4 R
.094(ariables and functions using either v)-.25 F(ersion)-.15 E
(of their name; b)144 518.4 Q(ut e)-.2 E(xternally)-.15 E 2.5(,t)-.65 G
(he)-2.5 E 2.5(yh)-.15 G -2.25 -.2(av e)-2.5 H(the modi\214ed name.)2.7
E 1.908(This option lets you easily link together multiple)144 535.2 R
F2<8d65>4.408 E(x)-.2 E F0 1.908(programs into the same e)4.408 F -.15
(xe)-.15 G(cutable.).15 E .832
(Note, though, that using this option also renames)144 547.2 R F1
(yywrap\(\),)3.332 E F0 .832(so you no)3.332 F(w)-.25 E F2(must)3.332 E
F0 .832(either pro)3.332 F(vide)-.15 E 2.027(your o)144 559.2 R 2.027
(wn \(appropriately-named\) v)-.25 F 2.026
(ersion of the routine for your scanner)-.15 F 4.526(,o)-.4 G 4.526(ru)
-4.526 G(se)-4.526 E F1(%option)4.526 E(noyywrap,)144 571.2 Q F0
(as linking with)2.5 E F1<ad6c8d>2.5 E F0(no longer pro)2.5 E
(vides one for you by def)-.15 E(ault.)-.1 E F1(\255Ssk)108 588 Q
(eleton_\214le)-.1 E F0 -.15(ove)144 600 S .875(rrides the def).15 F
.875(ault sk)-.1 F .875(eleton \214le from which)-.1 F F2<8d65>3.375 E
(x)-.2 E F0 .875(constructs its scanners.)3.375 F -1.1(Yo)5.875 G(u')1.1
E .875(ll ne)-.1 F -.15(ve)-.25 G 3.375(rn).15 G(eed)-3.375 E
(this option unless you are doing)144 612 Q F2<8d65>2.5 E(x)-.2 E F0
(maintenance or de)2.5 E -.15(ve)-.25 G(lopment.).15 E F2<8d65>108 628.8
Q(x)-.2 E F0 1.463(also pro)3.963 F 1.463(vides a mechanism for control\
ling options within the scanner speci\214cation itself, rather)-.15 F
.573(than from the \215e)108 640.8 R 3.073(xc)-.15 G 3.073
(ommand-line. This)-3.073 F .573(is done by including)3.073 F F1
(%option)3.074 E F0(directi)3.074 E -.15(ve)-.25 G 3.074(si).15 G 3.074
(nt)-3.074 G .574(he \214rst section of)-3.074 F .07
(the scanner speci\214cation.)108 652.8 R -1.1(Yo)5.07 G 2.57(uc)1.1 G
.07(an specify multiple options with a single)-2.57 F F1(%option)2.569 E
F0(directi)2.569 E -.15(ve)-.25 G 2.569(,a).15 G .069(nd multi-)-2.569 F
(ple directi)108 664.8 Q -.15(ve)-.25 G 2.5(si).15 G 2.5(nt)-2.5 G
(he \214rst section of your \215e)-2.5 E 2.5(xi)-.15 G(nput \214le.)-2.5
E 1.075(Most options are gi)108 681.6 R -.15(ve)-.25 G 3.575(ns).15 G
1.076(imply as names, optionally preceded by the w)-3.575 F 1.076
(ord "no" \(with no interv)-.1 F(ening)-.15 E(whitespace\) to ne)108
693.6 Q -.05(ga)-.15 G(te their meaning.).05 E 2.5(An)5 G
(umber are equi)-2.5 E -.25(va)-.25 G(lent to \215e).25 E 2.5<788d>-.15
G(ags or their ne)-2.5 E -.05(ga)-.15 G(tion:).05 E 27.5(7bit -7)118
717.6 R(option)2.5 E 27.5(8bit -8)118 729.6 R(option)2.5 E 25(align -Ca)
118 741.6 R(option)2.5 E 22.5(backup -b)118 753.6 R(option)2.5 E 25
(batch -B)118 765.6 R(option)2.5 E 30(c++ -+)118 777.6 R(option)2.5 E
191.333(24 April)72 817.889 R 155.782(1995 V)2.5 F(ersion 2.5)-1.11 E 0
Cg EP
%%Page: 25 25
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R(caseful or)
118 84 Q(case-sensiti)118 96 Q 2.8 -.15(ve o)-.25 H(pposite of -i \(def)
.15 E(ault\))-.1 E(case-insensiti)118 120 Q .3 -.15(ve o)-.25 H(r).15 E
17.5(caseless -i)118 132 R(option)2.5 E(deb)118 156 Q 25(ug -d)-.2 F
(option)2.5 E(def)118 168 Q 20(ault opposite)-.1 F(of -s option)2.5 E 30
(ecs -Ce)118 180 R(option)2.5 E -.1(fa)118 192 S 27.5(st -F).1 F(option)
2.5 E 27.5(full -f)118 204 R(option)2.5 E(interacti)118 216 Q 10.3 -.15
(ve -)-.25 H 2.5(Io).15 G(ption)-2.5 E(le)118 228 Q 12.5(x-compat -l)
-.15 F(option)2.5 E 17.5(meta-ecs -Cm)118 240 R(option)2.5 E 10
(perf-report -p)118 252 R(option)2.5 E 27.5(read -Cr)118 264 R(option)
2.5 E 22.5(stdout -t)118 276 R(option)2.5 E -.15(ve)118 288 S 20
(rbose -v).15 F(option)2.5 E -.1(wa)118 300 S 27.5(rn opposite).1 F
(of -w option)2.5 E(\(use "%option no)158 312 Q -.1(wa)-.25 G
(rn" for -w\)).1 E 25(array equi)118 336 R -.25(va)-.25 G
(lent to "%array").25 E 20(pointer equi)118 348 R -.25(va)-.25 G
(lent to "%pointer" \(def).25 E(ault\))-.1 E(Some)108 372 Q/F1 10
/Times-Bold@0 SF(%option')2.5 E(s)-.37 E F0(pro)2.5 E
(vide features otherwise not a)-.15 E -.25(va)-.2 G(ilable:).25 E F1
(always-interacti)108 388.8 Q -.1(ve)-.1 G F0 .748(instructs \215e)144
400.8 R 3.247(xt)-.15 G 3.247(og)-3.247 G .747
(enerate a scanner which al)-3.247 F -.1(wa)-.1 G .747
(ys considers its input "interacti).1 F -.15(ve)-.25 G 3.247
(". Normally).15 F(,)-.65 E .6(on each ne)144 412.8 R 3.1(wi)-.25 G .6
(nput \214le the scanner calls)-3.1 F F1(isatty\(\))3.1 E F0 .601
(in an attempt to determine whether the scan-)3.1 F(ner')144 424.8 Q
4.151(si)-.55 G 1.651(nput source is interacti)-4.151 F 1.951 -.15(ve a)
-.25 H 1.651(nd thus should be read a character at a time.).15 F 1.65
(When this)6.651 F(option is used, ho)144 436.8 Q(we)-.25 E -.15(ve)-.25
G .8 -.4(r, t).15 H(hen no such call is made.).4 E F1(main)108 453.6 Q
F0 .883(directs \215e)14.33 F 3.383(xt)-.15 G 3.383(op)-3.383 G(ro)
-3.383 E .883(vide a def)-.15 F(ault)-.1 E F1(main\(\))3.383 E F0 .883
(program for the scanner)3.383 F 3.383(,w)-.4 G .884(hich simply calls)
-3.383 F F1(yylex\(\).)3.384 E F0(This option implies)144 465.6 Q F1
(noyywrap)2.5 E F0(\(see belo)2.5 E(w\).)-.25 E F1(ne)108 482.4 Q -.1
(ve)-.15 G -.37(r-).1 G(interacti).37 E -.1(ve)-.1 G F0 .217
(instructs \215e)144 494.4 R 2.716(xt)-.15 G 2.716(og)-2.716 G .216
(enerate a scanner which ne)-2.716 F -.15(ve)-.25 G 2.716(rc).15 G .216
(onsiders its input "interacti)-2.716 F -.15(ve)-.25 G 2.716("\().15 G
(ag)-2.716 E .216(ain, no call)-.05 F(made to)144 506.4 Q F1
(isatty\(\)\).)2.5 E F0(This is the opposite of)5 E F1(always-interacti)
2.5 E -.1(ve)-.1 G(.).1 E(stack)108 523.2 Q F0
(enables the use of start condition stacks \(see Start Conditions abo)
13.78 E -.15(ve)-.15 G(\).).15 E F1(stdinit)108 540 Q F0 1.971
(if set \(i.e.,)8.77 F F1 1.971(%option stdinit\))4.471 F F0
(initializes)4.471 E/F2 10/Times-Italic@0 SF(yyin)4.471 E F0(and)4.471 E
F2(yyout)4.471 E F0(to)4.471 E F2(stdin)4.471 E F0(and)4.471 E F2
(stdout,)4.471 E F0 1.971(instead of the)4.471 F(def)144 552 Q .135
(ault of)-.1 F F2(nil.)2.634 E F0 .134(Some e)5.134 F(xisting)-.15 E F2
(le)2.634 E(x)-.2 E F0 .134(programs depend on this beha)2.634 F(vior)
-.2 E 2.634(,e)-.4 G -.15(ve)-2.884 G 2.634(nt).15 G .134
(hough it is not com-)-2.634 F
(pliant with ANSI C, which does not require)144 564 Q F2(stdin)2.5 E F0
(and)2.5 E F2(stdout)2.5 E F0(to be compile-time constant.)2.5 E F1
(yylineno)108 580.8 Q F0(directs)144 592.8 Q F2<8d65>3.479 E(x)-.2 E F0
.98(to generate a scanner that maintains the number of the current line\
 read from its)3.479 F(input in the global v)144 604.8 Q(ariable)-.25 E
F1(yylineno.)2.5 E F0(This option is implied by)5 E F1
(%option lex-compat.)2.5 E(yywrap)108 621.6 Q F0 .555(if unset \(i.e.,)
144 633.6 R F1 .554(%option noyywrap\),)3.055 F F0(mak)3.054 E .554
(es the scanner not call)-.1 F F1(yywrap\(\))3.054 E F0 .554
(upon an end-of-\214le,)3.054 F -.2(bu)144 645.6 S 3.028(ts).2 G .529(i\
mply assume that there are no more \214les to scan \(until the user poi\
nts)-3.028 F F2(yyin)3.029 E F0 .529(at a ne)3.029 F 3.029<778c>-.25 G
(le)-3.029 E(and calls)144 657.6 Q F1(yylex\(\))2.5 E F0(ag)2.5 E
(ain\).)-.05 E F2<8d65>108 674.4 Q(x)-.2 E F0 1.402
(scans your rule actions to determine whether you use the)3.902 F F1
(REJECT)3.901 E F0(or)3.901 E F1(yymor)3.901 E(e\(\))-.18 E F0 3.901
(features. The)3.901 F F1 -.18(re)108 686.4 S(ject).18 E F0(and)3.928 E
F1(yymor)3.928 E(e)-.18 E F0 1.428(options are a)3.928 F -.25(va)-.2 G
1.428(ilable to o).25 F -.15(ve)-.15 G 1.429
(rride its decision as to whether you use the options,).15 F .112
(either by setting them \(e.g.,)108 698.4 R F1 .112(%option r)2.612 F
(eject\))-.18 E F0 .112
(to indicate the feature is indeed used, or unsetting them to)2.612 F
(indicate it actually is not used \(e.g.,)108 710.4 Q F1
(%option noyymor)2.5 E(e\).)-.18 E F0(Three options tak)108 727.2 Q 2.5
(es)-.1 G(tring-delimited v)-2.5 E(alues, of)-.25 E(fset with '=':)-.25
E(%option out\214le="ABC")118 751.2 Q(is equi)108 775.2 Q -.25(va)-.25 G
(lent to).25 E F1(-oABC,)2.5 E F0(and)2.5 E -1.11(Ve)72 817.889 S
(rsion 2.5)1.11 E(April 1995)158.283 E(25)193.832 E 0 Cg EP
%%Page: 26 26
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R
(%option pre\214x="XYZ")118 84 Q(is equi)108 108 Q -.25(va)-.25 G
(lent to).25 E/F1 10/Times-Bold@0 SF(-PXYZ.)2.5 E F0(Finally)5 E(,)-.65
E(%option yyclass="foo")118 132 Q .072
(only applies when generating a C++ scanner \()108 156 R F1<ad2b>2.572 E
F0 2.572(option\). It)2.572 F(informs)2.572 E/F2 10/Times-Italic@0 SF
<8d65>2.572 E(x)-.2 E F0 .073(that you ha)2.573 F .373 -.15(ve d)-.2 H
(eri).15 E -.15(ve)-.25 G(d).15 E F1 -.25(fo)2.573 G(o).25 E F0 .073
(as a)2.573 F .263(subclass of)108 168 R F1(yyFlexLexer)2.763 E(,)-.92 E
F0(so)2.763 E F2<8d65>2.763 E(x)-.2 E F0 .263
(will place your actions in the member function)2.763 F F1 -.25(fo)2.763
G(o::yylex\(\)).25 E F0 .263(instead of)2.763 F F1
(yyFlexLexer::yylex\(\).)108 180 Q F0 1.524(It also generates a)6.524 F
F1(yyFlexLexer::yylex\(\))4.024 E F0 1.524
(member function that emits a run-)4.024 F .551(time error \(by in)108
192 R -.2(vo)-.4 G(king).2 E F1(yyFlexLexer::LexerErr)3.051 E(or\(\)\))
-.18 E F0 .55(if called.)3.051 F .55(See Generating C++ Scanners, belo)
5.55 F -.65(w,)-.25 G(for additional information.)108 204 Q 3.598(An)108
220.8 S 1.098(umber of options are a)-3.598 F -.25(va)-.2 G 1.098
(ilable for lint purists who w).25 F 1.099
(ant to suppress the appearance of unneeded)-.1 F .434
(routines in the generated scanner)108 232.8 R 5.434(.E)-.55 G .434
(ach of the follo)-5.434 F .434(wing, if unset \(e.g.,)-.25 F F1 .434
(%option nounput)2.934 F F0 .434(\), results in)2.934 F
(the corresponding routine not appearing in the generated scanner:)108
244.8 Q(input, unput)118 268.8 Q
(yy_push_state, yy_pop_state, yy_top_state)118 280.8 Q(yy_scan_b)118
292.8 Q(uf)-.2 E(fer)-.25 E 2.5(,y)-.4 G(y_scan_bytes, yy_scan_string)
-2.5 E(\(though)108 316.8 Q F1(yy_push_state\(\))2.5 E F0(and friends w)
2.5 E(on')-.1 E 2.5(ta)-.18 G(ppear an)-2.5 E(yw)-.15 E
(ay unless you use)-.1 E F1(%option stack\).)2.5 E/F3 10.95/Times-Bold@0
SF(PERFORMANCE CONSIDERA)72 333.6 Q(TIONS)-1.04 E F0 .764
(The main design goal of)108 345.6 R F2<8d65>3.264 E(x)-.2 E F0 .765
(is that it generate high-performance scanners.)3.265 F .765
(It has been optimized for)5.765 F .325(dealing well with lar)108 357.6
R .325(ge sets of rules.)-.18 F .324(Aside from the ef)5.325 F .324
(fects on scanner speed of the table compression)-.25 F F1<ad43>108
369.6 Q F0 .778(options outlined abo)3.278 F -.15(ve)-.15 G 3.278(,t).15
G .778(here are a number of options/actions which de)-3.278 F .778
(grade performance.)-.15 F(These)5.779 E(are, from most e)108 381.6 Q
(xpensi)-.15 E .3 -.15(ve t)-.25 H 2.5(ol).15 G(east:)-2.5 E(REJECT)118
405.6 Q(%option yylineno)118 417.6 Q(arbitrary trailing conte)118 429.6
Q(xt)-.15 E(pattern sets that require backing up)118 453.6 Q(%array)118
465.6 Q(%option interacti)118 477.6 Q -.15(ve)-.25 G(%option al)118
489.6 Q -.1(wa)-.1 G(ys-interacti).1 E -.15(ve)-.25 G('^' be)118 513.6 Q
(ginning-of-line operator)-.15 E(yymore\(\))118 525.6 Q .239
(with the \214rst three all being quite e)108 549.6 R(xpensi)-.15 E .539
-.15(ve a)-.25 H .239(nd the last tw).15 F 2.738(ob)-.1 G .238
(eing quite cheap.)-2.738 F .238(Note also that)5.238 F F1(unput\(\))
2.738 E F0 .101(is implemented as a routine call that potentially does \
quite a bit of w)108 561.6 R .101(ork, while)-.1 F F1(yyless\(\))2.601 E
F0 .101(is a quite-cheap)2.601 F(macro; so if just putting back some e)
108 573.6 Q(xcess te)-.15 E(xt you scanned, use)-.15 E F1(yyless\(\).)
2.5 E(REJECT)108 590.4 Q F0 .549(should be a)3.049 F -.2(vo)-.2 G .548
(ided at all costs when performance is important.).2 F .548
(It is a particularly e)5.548 F(xpensi)-.15 E -.15(ve)-.25 G(option.)108
602.4 Q .734(Getting rid of backing up is messy and often may be an eno\
rmous amount of w)108 619.2 R .735(ork for a complicated)-.1 F(scanner)
108 631.2 Q 5.846(.I)-.55 G 3.346(np)-5.846 G .846(rincipal, one be)
-3.346 F .846(gins by using the)-.15 F F1<ad62>3.346 E F0 .845
(\215ag to generate a)3.346 F F2(le)3.345 E(x.bac)-.2 E(kup)-.2 E F0
3.345(\214le. F)3.345 F .845(or e)-.15 F .845(xample, on)-.15 F
(the input)108 643.2 Q(%%)118 667.2 Q 17.5(foo return)118 679.2 R -.18
(TO)2.5 G(K_KEYW).18 E(ORD;)-.1 E 10(foobar return)118 691.2 R -.18(TO)
2.5 G(K_KEYW).18 E(ORD;)-.1 E(the \214le looks lik)108 715.2 Q(e:)-.1 E
(State #6 is non-accepting -)118 739.2 Q(associated rule line numbers:)
120.5 751.2 Q 17.5(23)135.5 763.2 S(out-transitions: [ o ])120.5 775.2 Q
191.333(26 April)72 817.889 R 155.782(1995 V)2.5 F(ersion 2.5)-1.11 E 0
Cg EP
%%Page: 27 27
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R
(jam-transitions: EOF [ \\001-n)120.5 84 Q(p-\\177 ])5 E
(State #8 is non-accepting -)118 108 Q(associated rule line numbers:)
120.5 120 Q(3)135.5 132 Q(out-transitions: [ a ])120.5 144 Q
(jam-transitions: EOF [ \\001-`)120.5 156 Q(b-\\177 ])5 E
(State #9 is non-accepting -)118 180 Q(associated rule line numbers:)
120.5 192 Q(3)135.5 204 Q(out-transitions: [ r ])120.5 216 Q
(jam-transitions: EOF [ \\001-q)120.5 228 Q(s-\\177 ])5 E
(Compressed tables al)118 252 Q -.1(wa)-.1 G(ys back up.).1 E .317
(The \214rst fe)108 276 R 2.818(wl)-.25 G .318(ines tell us that there')
-2.818 F 2.818(sas)-.55 G .318(canner state in which it can mak)-2.818 F
2.818(eat)-.1 G .318(ransition on an 'o' b)-2.818 F .318(ut not)-.2 F
.824(on an)108 288 R 3.324(yo)-.15 G .824(ther character)-3.324 F 3.324
(,a)-.4 G .824(nd that in that state the currently scanned te)-3.324 F
.823(xt does not match an)-.15 F 3.323(yr)-.15 G 3.323(ule. The)-3.323 F
.469(state occurs when trying to match the rules found at lines 2 and 3\
 in the input \214le.)108 300 R .47(If the scanner is in)5.47 F 1.09
(that state and then reads something other than an 'o', it will ha)108
312 R 1.39 -.15(ve t)-.2 H 3.59(ob).15 G 1.09
(ack up to \214nd a rule which is)-3.59 F 3.258(matched. W)108 324 R
.759(ith a bit of headscratching one can see that this must be the stat\
e it')-.4 F 3.259(si)-.55 G 3.259(nw)-3.259 G .759(hen it has seen)
-3.259 F 2.805("fo". When)108 336 R .304(this has happened, if an)2.805
F .304(ything other than another 'o' is seen, the scanner will ha)-.15 F
.604 -.15(ve t)-.2 H 2.804(ob).15 G(ack)-2.804 E
(up to simply match the 'f)108 348 Q 2.5('\().55 G(by the def)-2.5 E
(ault rule\).)-.1 E .866(The comment re)108 364.8 R -.05(ga)-.15 G .866
(rding State #8 indicates there').05 F 3.366(sap)-.55 G .866
(roblem when "foob" has been scanned.)-3.366 F(Indeed,)5.867 E .046
(on an)108 376.8 R 2.546(yc)-.15 G .046
(haracter other than an 'a', the scanner will ha)-2.546 F .345 -.15
(ve t)-.2 H 2.545(ob).15 G .045(ack up to accept "foo".)-2.545 F
(Similarly)5.045 E 2.545(,t)-.65 G .045(he com-)-2.545 F
(ment for State #9 concerns when "fooba" has been scanned and an ')108
388.8 Q(r' does not follo)-.5 E -.65(w.)-.25 G 1.153
(The \214nal comment reminds us that there')108 405.6 R 3.654(sn)-.55 G
3.654(op)-3.654 G 1.154(oint going to all the trouble of remo)-3.654 F
1.154(ving backing up)-.15 F .744(from the rules unless we')108 417.6 R
.744(re using)-.5 F/F1 10/Times-Bold@0 SF(\255Cf)3.244 E F0(or)3.244 E
F1(\255CF)3.244 E(,)-.92 E F0 .744(since there')3.244 F 3.244(sn)-.55 G
3.244(op)-3.244 G .744(erformance g)-3.244 F .743
(ain doing so with com-)-.05 F(pressed scanners.)108 429.6 Q(The w)108
446.4 Q(ay to remo)-.1 E .3 -.15(ve t)-.15 H
(he backing up is to add "error" rules:).15 E(%%)118 470.4 Q 20
(foo return)118 482.4 R -.18(TO)2.5 G(K_KEYW).18 E(ORD;)-.1 E 12.5
(foobar return)118 494.4 R -.18(TO)2.5 G(K_KEYW).18 E(ORD;)-.1 E 15
(fooba |)118 518.4 R 17.5(foob |)118 530.4 R 22.5(fo {)118 542.4 R(/* f)
148 554.4 Q(alse alarm, not really a k)-.1 E -.15(ey)-.1 G -.1(wo).15 G
(rd */).1 E(return T)148 566.4 Q(OK_ID;)-.18 E(})148 578.4 Q
(Eliminating backing up among a list of k)108 607.2 Q -.15(ey)-.1 G -.1
(wo).15 G(rds can also be done using a "catch-all" rule:).1 E(%%)118
631.2 Q 20(foo return)118 643.2 R -.18(TO)2.5 G(K_KEYW).18 E(ORD;)-.1 E
12.5(foobar return)118 655.2 R -.18(TO)2.5 G(K_KEYW).18 E(ORD;)-.1 E
12.5([a-z]+ return)118 679.2 R -.18(TO)2.5 G(K_ID;).18 E
(This is usually the best solution when appropriate.)108 703.2 Q .614
(Backing up messages tend to cascade.)108 720 R -.4(Wi)5.614 G .614
(th a complicated set of rules it').4 F 3.115(sn)-.55 G .615
(ot uncommon to get hun-)-3.115 F .623(dreds of messages.)108 732 R .623
(If one can decipher them, though, it often only tak)5.623 F .623
(es a dozen or so rules to elimi-)-.1 F 1.069
(nate the backing up \(though it')108 744 R 3.569(se)-.55 G 1.069
(asy to mak)-3.569 F 3.569(eam)-.1 G(istak)-3.569 E 3.569(ea)-.1 G 1.069
(nd ha)-3.569 F 1.369 -.15(ve a)-.2 H 3.569(ne).15 G 1.07
(rror rule accidentally match a)-3.569 F -.25(va)108 756 S(lid tok).25 E
2.5(en. A)-.1 F(possible future)2.5 E/F2 10/Times-Italic@0 SF<8d65>2.5 E
(x)-.2 E F0
(feature will be to automatically add rules to eliminate backing up\).)
2.5 E(It')108 772.8 Q 2.586(si)-.55 G .086(mportant to k)-2.586 F .086
(eep in mind that you g)-.1 F .086
(ain the bene\214ts of eliminating backing up only if you eliminate)-.05
F -1.11(Ve)72 817.889 S(rsion 2.5)1.11 E(April 1995)158.283 E(27)193.832
E 0 Cg EP
%%Page: 28 28
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R/F1 10
/Times-Italic@0 SF -.15(ev)108 84 S(ery).15 E F0
(instance of backing up.)2.5 E(Lea)5 E(ving just one means you g)-.2 E
(ain nothing.)-.05 E F1 -1.11(Va)108 100.8 S(riable)1.11 E F0 .824
(trailing conte)3.324 F .825
(xt \(where both the leading and trailing parts do not ha)-.15 F 1.125
-.15(ve a \214)-.2 H -.15(xe).15 G 3.325(dl).15 G .825(ength\) entails)
-3.325 F(almost the same performance loss as)108 112.8 Q/F2 10
/Times-Bold@0 SF(REJECT)2.5 E F0(\(i.e., substantial\).)2.5 E
(So when possible a rule lik)5 E(e:)-.1 E(%%)118 136.8 Q 5
(mouse|rat/\(cat|dog\) run\(\);)118 148.8 R(is better written:)108 172.8
Q(%%)118 196.8 Q 20(mouse/cat|dog run\(\);)118 208.8 R 25
(rat/cat|dog run\(\);)118 220.8 R(or as)108 244.8 Q(%%)118 268.8 Q 20
(mouse|rat/cat run\(\);)118 280.8 R 20(mouse|rat/dog run\(\);)118 292.8
R .264(Note that here the special '|' action does)108 316.8 R F1(not)
2.764 E F0(pro)2.764 E .264(vide an)-.15 F 2.764(ys)-.15 G -.2(av)-2.764
G .263(ings, and can e).2 F -.15(ve)-.25 G 2.763(nm).15 G(ak)-2.763 E
2.763(et)-.1 G .263(hings w)-2.763 F .263(orse \(see)-.1 F
(De\214ciencies / Bugs belo)108 328.8 Q(w\).)-.25 E .342
(Another area where the user can increase a scanner')108 345.6 R 2.842
(sp)-.55 G .343(erformance \(and one that')-2.842 F 2.843(se)-.55 G .343
(asier to implement\))-2.843 F .361(arises from the f)108 357.6 R .361
(act that the longer the tok)-.1 F .361(ens matched, the f)-.1 F .361
(aster the scanner will run.)-.1 F .36(This is because)5.36 F .328
(with long tok)108 369.6 R .328
(ens the processing of most input characters tak)-.1 F .329
(es place in the \(short\) inner scanning loop,)-.1 F .2
(and does not often ha)108 381.6 R .5 -.15(ve t)-.2 H 2.7(og).15 G 2.7
(ot)-2.7 G .2(hrough the additional w)-2.7 F .199
(ork of setting up the scanning en)-.1 F .199(vironment \(e.g.,)-.4 F F2
(yytext\))108 393.6 Q F0(for the action.)2.5 E
(Recall the scanner for C comments:)5 E(%x comment)118 417.6 Q(%%)118
429.6 Q(int line_num = 1;)138 441.6 Q 20("/*" BEGIN\(comment\);)118
465.6 R(<comment>[^*\\n]*)118 489.6 Q(<comment>"*"+[^*/\\n]*)118 501.6 Q
30(<comment>\\n ++line_num;)118 513.6 R 17.5
(<comment>"*"+"/" BEGIN\(INITIAL\);)118 525.6 R
(This could be sped up by writing it as:)108 549.6 Q(%x comment)118
573.6 Q(%%)118 585.6 Q(int line_num = 1;)138 597.6 Q 20
("/*" BEGIN\(comment\);)118 621.6 R(<comment>[^*\\n]*)118 645.6 Q 12.5
(<comment>[^*\\n]*\\n ++line_num;)118 657.6 R(<comment>"*"+[^*/\\n]*)118
669.6 Q(<comment>"*"+[^*/\\n]*\\n ++line_num;)118 681.6 Q 17.5
(<comment>"*"+"/" BEGIN\(INITIAL\);)118 693.6 R(No)108 717.6 Q 3.67(wi)
-.25 G 1.17(nstead of each ne)-3.67 F 1.17
(wline requiring the processing of another action, recognizing the ne)
-.25 F 1.171(wlines is)-.25 F("distrib)108 729.6 Q .645(uted" o)-.2 F
-.15(ve)-.15 G 3.145(rt).15 G .645(he other rules to k)-3.145 F .645
(eep the matched te)-.1 F .645(xt as long as possible.)-.15 F .645
(Note that)5.645 F F1(adding)3.145 E F0(rules)3.145 E(does)108 741.6 Q
F1(not)3.489 E F0(slo)3.489 E 3.489(wd)-.25 G -.25(ow)-3.489 G 3.489(nt)
.25 G .989(he scanner!)-3.489 F .989
(The speed of the scanner is independent of the number of rules or)5.989
F .723(\(modulo the considerations gi)108 753.6 R -.15(ve)-.25 G 3.223
(na).15 G 3.223(tt)-3.223 G .723(he be)-3.223 F .723
(ginning of this section\) ho)-.15 F 3.223(wc)-.25 G .723
(omplicated the rules are with)-3.223 F(re)108 765.6 Q -.05(ga)-.15 G
(rd to operators such as '*' and '|'.).05 E 191.333(28 April)72 817.889
R 155.782(1995 V)2.5 F(ersion 2.5)-1.11 E 0 Cg EP
%%Page: 29 29
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R 2.517<418c>
108 84 S .017(nal e)-2.517 F .017
(xample in speeding up a scanner: suppose you w)-.15 F .018
(ant to scan through a \214le containing identi\214ers)-.1 F .147(and k)
108 96 R -.15(ey)-.1 G -.1(wo).15 G .147
(rds, one per line and with no other e).1 F .146
(xtraneous characters, and recognize all the k)-.15 F -.15(ey)-.1 G -.1
(wo).15 G 2.646(rds. A).1 F(natural \214rst approach is:)108 108 Q(%%)
118 132 Q 12.5(asm |)118 144 R 10(auto |)118 156 R 7.5(break |)118 168 R
(... etc ...)118 180 Q -.2(vo)118 192 S(latile |).2 E 7.5(while /*)118
204 R(it')2.5 E 2.5(sak)-.55 G -.15(ey)-2.6 G -.1(wo).15 G(rd */).1 E 10
(.|\\n /*)118 228 R(it')2.5 E 2.5(sn)-.55 G(ot a k)-2.5 E -.15(ey)-.1 G
-.1(wo).15 G(rd */).1 E 1.6 -.8(To e)108 252 T
(liminate the back-tracking, introduce a catch-all rule:).8 E(%%)118 276
Q 12.5(asm |)118 288 R 10(auto |)118 300 R 7.5(break |)118 312 R
(... etc ...)118 324 Q -.2(vo)118 336 S(latile |).2 E 7.5(while /*)118
348 R(it')2.5 E 2.5(sak)-.55 G -.15(ey)-2.6 G -.1(wo).15 G(rd */).1 E 5
([a-z]+ |)118 372 R 10(.|\\n /*)118 384 R(it')2.5 E 2.5(sn)-.55 G
(ot a k)-2.5 E -.15(ey)-.1 G -.1(wo).15 G(rd */).1 E(No)108 408 Q 2.032
-.65(w, i)-.25 H 3.232(fi).65 G(t')-3.232 E 3.232(sg)-.55 G .732
(uaranteed that there')-3.232 F 3.232(se)-.55 G .732(xactly one w)-3.382
F .733(ord per line, then we can reduce the total number of)-.1 F
(matches by a half by mer)108 420 Q(ging in the recognition of ne)-.18 E
(wlines with that of the other tok)-.25 E(ens:)-.1 E(%%)118 444 Q 7.5
(asm\\n |)118 456 R 5(auto\\n |)118 468 R 2.5(break\\n |)118 480 R
(... etc ...)118 492 Q -.2(vo)118 504 S(latile\\n |).2 E 2.5
(while\\n /*)118 516 R(it')2.5 E 2.5(sak)-.55 G -.15(ey)-2.6 G -.1(wo)
.15 G(rd */).1 E([a-z]+\\n |)118 540 Q 10(.|\\n /*)118 552 R(it')2.5 E
2.5(sn)-.55 G(ot a k)-2.5 E -.15(ey)-.1 G -.1(wo).15 G(rd */).1 E 1.111
(One has to be careful here, as we ha)108 576 R 1.411 -.15(ve n)-.2 H
1.611 -.25(ow r).15 H 1.111(eintroduced backing up into the scanner).25
F 6.11(.I)-.55 G 3.61(np)-6.11 G(articular)-3.61 E(,)-.4 E(while)108 588
Q/F1 10/Times-Italic@0 SF(we)2.655 E F0(kno)2.655 E 2.655(wt)-.25 G .155
(hat there will ne)-2.655 F -.15(ve)-.25 G 2.655(rb).15 G 2.655(ea)
-2.655 G .455 -.15(ny c)-2.655 H .156
(haracters in the input stream other than letters or ne).15 F(wlines,)
-.25 E F1<8d65>108 600 Q(x)-.2 E F0(can')3.166 E 3.166<748c>-.18 G .665
(gure this out, and it will plan for possibly needing to back up when i\
t has scanned a tok)-3.166 F(en)-.1 E(lik)108 612 Q 4.093(e")-.1 G 1.593
(auto" and then the ne)-4.093 F 1.593
(xt character is something other than a ne)-.15 F 1.594
(wline or a letter)-.25 F 6.594(.P)-.55 G(re)-6.594 E 1.594(viously it)
-.25 F -.1(wo)108 624 S .5
(uld then just match the "auto" rule and be done, b).1 F .5(ut no)-.2 F
3(wi)-.25 G 3(th)-3 G .499(as no "auto" rule, only a "auto\\n" rule.)-3
F 2.721 -.8(To e)108 636 T 1.121(liminate the possibility of backing up\
, we could either duplicate all rules b).8 F 1.122
(ut without \214nal ne)-.2 F(w-)-.25 E .789(lines, or)108 648 R 3.289
(,s)-.4 G .789(ince we ne)-3.289 F -.15(ve)-.25 G 3.289(re).15 G .789
(xpect to encounter such an input and therefore don')-3.439 F 3.288(th)
-.18 G 1.288 -.25(ow i)-3.288 H(t').25 E 3.288(sc)-.55 G .788
(lassi\214ed, we)-3.288 F
(can introduce one more catch-all rule, this one which doesn')108 660 Q
2.5(ti)-.18 G(nclude a ne)-2.5 E(wline:)-.25 E(%%)118 684 Q 7.5
(asm\\n |)118 696 R 5(auto\\n |)118 708 R 2.5(break\\n |)118 720 R
(... etc ...)118 732 Q -.2(vo)118 744 S(latile\\n |).2 E 2.5
(while\\n /*)118 756 R(it')2.5 E 2.5(sak)-.55 G -.15(ey)-2.6 G -.1(wo)
.15 G(rd */).1 E([a-z]+\\n |)118 780 Q -1.11(Ve)72 817.889 S(rsion 2.5)
1.11 E(April 1995)158.283 E(29)193.832 E 0 Cg EP
%%Page: 30 30
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R 5([a-z]+ |)
118 84 R 10(.|\\n /*)118 96 R(it')2.5 E 2.5(sn)-.55 G(ot a k)-2.5 E -.15
(ey)-.1 G -.1(wo).15 G(rd */).1 E(Compiled with)108 120 Q/F1 10
/Times-Bold@0 SF(\255Cf)2.5 E(,)-.15 E F0(this is about as f)2.5 E
(ast as one can get a)-.1 E/F2 10/Times-Italic@0 SF<8d65>2.5 E(x)-.2 E
F0(scanner to go for this particular problem.)2.5 E 3.587<418c>108 136.8
S 1.087(nal note:)-3.587 F F2<8d65>3.587 E(x)-.2 E F0 1.087(is slo)3.587
F 3.588(ww)-.25 G 1.088(hen matching NUL)-3.588 F -.55('s)-.92 G 3.588
(,p).55 G 1.088(articularly when a tok)-3.588 F 1.088
(en contains multiple NUL)-.1 F -.55('s)-.92 G(.).55 E(It')108 148.8 Q
3.984(sb)-.55 G 1.484(est to write rules which match)-3.984 F F2(short)
3.984 E F0 1.484(amounts of te)3.984 F 1.484(xt if it')-.15 F 3.983(sa)
-.55 G 1.483(nticipated that the te)-3.983 F 1.483(xt will often)-.15 F
(include NUL)108 160.8 Q -.55('s)-.92 G(.).55 E 2.816
(Another \214nal note re)108 177.6 R -.05(ga)-.15 G 2.816
(rding performance: as mentioned abo).05 F 3.116 -.15(ve i)-.15 H 5.316
(nt).15 G 2.816(he section Ho)-5.316 F 5.316(wt)-.25 G 2.816
(he Input is)-5.316 F 2.49(Matched, dynamically resizing)108 189.6 R F1
(yytext)4.99 E F0 2.49(to accommodate huge tok)4.99 F 2.489
(ens is a slo)-.1 F 4.989(wp)-.25 G 2.489(rocess because it)-4.989 F
.263(presently requires that the \(huge\) tok)108 201.6 R .263
(en be rescanned from the be)-.1 F 2.763(ginning. Thus)-.15 F .263
(if performance is vital,)2.763 F 1.948
(you should attempt to match "lar)108 213.6 R 1.948
(ge" quantities of te)-.18 F 1.948(xt b)-.15 F 1.947
(ut not "huge" quantities, where the cutof)-.2 F(f)-.25 E
(between the tw)108 225.6 Q 2.5(oi)-.1 G 2.5(sa)-2.5 G 2.5(ta)-2.5 G
(bout 8K characters/tok)-2.5 E(en.)-.1 E/F3 10.95/Times-Bold@0 SF
(GENERA)72 242.4 Q(TING C++ SCANNERS)-1.04 E F2<8d65>108 254.4 Q(x)-.2 E
F0(pro)2.559 E .059(vides tw)-.15 F 2.559(od)-.1 G(if)-2.559 E .059
(ferent w)-.25 F .06(ays to generate scanners for use with C++.)-.1 F
.06(The \214rst w)5.06 F .06(ay is to simply com-)-.1 F 2.194
(pile a scanner generated by)108 266.4 R F2<8d65>4.694 E(x)-.2 E F0
2.194(using a C++ compiler instead of a C compiler)4.694 F 7.193(.Y)-.55
G 2.193(ou should not)-8.293 F .447(encounter an)108 278.4 R 2.947(yc)
-.15 G .447(ompilations errors \(please report an)-2.947 F 2.947(yy)-.15
G .447(ou \214nd to the email address gi)-2.947 F -.15(ve)-.25 G 2.948
(ni).15 G 2.948(nt)-2.948 G .448(he Author)-2.948 F 1.566(section belo)
108 290.4 R 4.066(w\). Y)-.25 F 1.566
(ou can then use C++ code in your rule actions instead of C code.)-1.1 F
1.565(Note that the)6.565 F(def)108 302.4 Q .587
(ault input source for your scanner remains)-.1 F F2(yyin,)3.087 E F0
.587(and def)3.087 F .588(ault echoing is still done to)-.1 F F2(yyout.)
3.088 E F0 .588(Both of)5.588 F(these remain)108 314.4 Q F2(FILE *)2.5 E
F0 -.25(va)2.5 G(riables and not C++).25 E F2(str)2.5 E(eams.)-.37 E F0
-1.1(Yo)108 331.2 S 3.118(uc)1.1 G .618(an also use)-3.118 F F2<8d65>
3.118 E(x)-.2 E F0 .618(to generate a C++ scanner class, using the)3.118
F F1<ad2b>3.118 E F0 .618(option \(or)3.118 F 3.118(,e)-.4 G(qui)-3.118
E -.25(va)-.25 G(lently).25 E(,)-.65 E F1(%option)3.117 E(c++\),)108
343.2 Q F0 .442
(which is automatically speci\214ed if the name of the \215e)2.942 F
2.943(xe)-.15 G -.15(xe)-3.093 G .443(cutable ends in a '+', such as).15
F F2<8d65>2.943 E(x++.)-.2 E F0 .61(When using this option, \215e)108
355.2 R 3.11(xd)-.15 G(ef)-3.11 E .61
(aults to generating the scanner to the \214le)-.1 F F1(lex.yy)3.109 E
(.cc)-.7 E F0 .609(instead of)3.109 F F1(lex.yy)3.109 E(.c.)-.7 E F0
1.486(The generated scanner includes the header \214le)108 367.2 R F2
(Fle)3.986 E(xLe)-.2 E(xer)-.2 E(.h,)-1.11 E F0 1.486
(which de\214nes the interf)3.986 F 1.486(ace to tw)-.1 F 3.987(oC)-.1 G
(++)-3.987 E(classes.)108 379.2 Q .607(The \214rst class,)108 396 R F1
(FlexLexer)3.107 E(,)-.92 E F0(pro)3.107 E .607(vides an abstract base \
class de\214ning the general scanner class interf)-.15 F(ace.)-.1 E
(It pro)108 408 Q(vides the follo)-.15 E(wing member functions:)-.25 E
F1(const char* YYT)108 424.8 Q(ext\(\))-.92 E F0(returns the te)144
436.8 Q(xt of the most recently matched tok)-.15 E(en, the equi)-.1 E
-.25(va)-.25 G(lent of).25 E F1(yytext.)2.5 E(int YYLeng\(\))108 453.6 Q
F0(returns the length of the most recently matched tok)144 465.6 Q
(en, the equi)-.1 E -.25(va)-.25 G(lent of).25 E F1(yyleng)2.5 E(.)-.15
E(int lineno\(\) const)108 482.4 Q F0 .452
(returns the current input line number \(see)144 494.4 R F1 .453
(%option yylineno\),)2.952 F F0(or)2.953 E F1(1)2.953 E F0(if)2.953 E F1
.453(%option yylineno)2.953 F F0 -.1(wa)2.953 G(s).1 E(not used.)144
506.4 Q F1 -.1(vo)108 523.2 S(id set_deb).1 E(ug\( int \215ag \))-.2 E
F0 1.714(sets the deb)144 535.2 R 1.714(ugging \215ag for the scanner)
-.2 F 4.213(,e)-.4 G(qui)-4.213 E -.25(va)-.25 G 1.713
(lent to assigning to).25 F F1(yy_\215ex_deb)4.213 E(ug)-.2 E F0 1.713
(\(see the)4.213 F 2.327(Options section abo)144 547.2 R -.15(ve)-.15 G
4.827(\). Note).15 F 2.327(that you must b)4.827 F 2.327
(uild the scanner using)-.2 F F1 2.328(%option deb)4.828 F(ug)-.2 E F0
(to)4.828 E(include deb)144 559.2 Q(ugging information in it.)-.2 E F1
(int deb)108 576 Q(ug\(\) const)-.2 E F0
(returns the current setting of the deb)144 588 Q(ugging \215ag.)-.2 E
.115(Also pro)108 604.8 R .115(vided are member functions equi)-.15 F
-.25(va)-.25 G .115(lent to).25 F F1(yy_switch_to_b)2.615 E .115
(uffer\(\), yy_cr)-.2 F(eate_b)-.18 E(uffer\(\))-.2 E F0(\(though)2.615
E 5.997(the \214rst ar)108 616.8 R 5.998(gument is an)-.18 F F1(istr)
8.498 E(eam*)-.18 E F0 5.998(object pointer and not a)8.498 F F1 5.998
(FILE*\), yy_\215ush_b)8.498 F(uffer\(\),)-.2 E(yy_delete_b)108 628.8 Q
(uffer\(\),)-.2 E F0(and)2.5 E F1(yyr)2.5 E(estart\(\))-.18 E F0(\(ag)
2.5 E(ain, the \214rst ar)-.05 E(gument is a)-.18 E F1(istr)2.5 E(eam*)
-.18 E F0(object pointer\).)2.5 E .736(The second class de\214ned in)108
645.6 R F2(Fle)3.236 E(xLe)-.2 E(xer)-.2 E(.h)-1.11 E F0(is)3.235 E F1
(yyFlexLexer)3.235 E(,)-.92 E F0 .735(which is deri)3.235 F -.15(ve)-.25
G 3.235(df).15 G(rom)-3.235 E F1(FlexLexer)3.235 E(.)-1 E F0 .735
(It de\214nes)5.735 F(the follo)108 657.6 Q
(wing additional member functions:)-.25 E F1(yyFlexLexer\( istr)108
674.4 Q(eam* ar)-.18 E(g_yyin = 0, ostr)-.1 E(eam* ar)-.18 E(g_yy)-.1 E
(out = 0 \))-.25 E F0 .039(constructs a)144 686.4 R F1(yyFlexLexer)2.539
E F0 .039(object using the gi)2.539 F -.15(ve)-.25 G 2.54(ns).15 G .04
(treams for input and output.)-2.54 F .04(If not speci\214ed,)5.04 F
(the streams def)144 698.4 Q(ault to)-.1 E F1(cin)2.5 E F0(and)2.5 E F1
(cout,)2.5 E F0(respecti)2.5 E -.15(ve)-.25 G(ly).15 E(.)-.65 E F1
(virtual int yylex\(\))108 715.2 Q F0 1.115(performs the same role is)
144 727.2 R F1(yylex\(\))3.615 E F0 1.114(does for ordinary \215e)3.614
F 3.614(xs)-.15 G 1.114(canners: it scans the input stream,)-3.614 F
2.153(consuming tok)144 739.2 R 2.153(ens, until a rule')-.1 F 4.653(sa)
-.55 G 2.153(ction returns a v)-4.653 F 4.653(alue. If)-.25 F 2.153
(you deri)4.653 F 2.453 -.15(ve a s)-.25 H(ubclass).15 E F1(S)4.653 E F0
(from)4.653 E F1(yyFlexLexer)144 751.2 Q F0 .356(and w)2.856 F .355
(ant to access the member functions and v)-.1 F .355(ariables of)-.25 F
F1(S)2.855 E F0(inside)2.855 E F1(yylex\(\),)2.855 E F0(then)2.855 E
1.567(you need to use)144 763.2 R F1 1.567(%option yyclass="S")4.067 F
F0 1.568(to inform)4.068 F F2<8d65>4.068 E(x)-.2 E F0 1.568
(that you will be using that subclass)4.068 F 3.002(instead of)144 775.2
R F1(yyFlexLexer)5.502 E(.)-1 E F0 3.001
(In this case, rather than generating)8.002 F F1
(yyFlexLexer::yylex\(\),)5.501 E F2<8d65>5.501 E(x)-.2 E F0 191.333
(30 April)72 817.889 R 155.782(1995 V)2.5 F(ersion 2.5)-1.11 E 0 Cg EP
%%Page: 31 31
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R(generates)
144 84 Q/F1 10/Times-Bold@0 SF(S::yylex\(\))7.953 E F0 5.454
(\(and also generates a dummy)7.954 F F1(yyFlexLexer::yylex\(\))7.954 E
F0 5.454(that calls)7.954 F F1(yyFlexLexer::LexerErr)144 96 Q(or\(\))
-.18 E F0(if called\).)2.5 E F1(virtual v)108 112.8 Q(oid switch_str)-.1
E(eams\(istr)-.18 E(eam* new_in = 0,)-.18 E(ostr)144 124.8 Q .744
(eam* new_out = 0\))-.18 F F0(reassigns)3.244 E F1(yyin)3.244 E F0(to)
3.244 E F1(new_in)3.244 E F0 .744(\(if non-nil\) and)3.244 F F1(yy)3.244
E(out)-.25 E F0(to)3.244 E F1(new_out)3.244 E F0(\(ditto\),)3.243 E
(deleting the pre)144 136.8 Q(vious input b)-.25 E(uf)-.2 E(fer if)-.25
E F1(yyin)2.5 E F0(is reassigned.)2.5 E F1(int yylex\( istr)108 153.6 Q
(eam* new_in, ostr)-.18 E(eam* new_out = 0 \))-.18 E F0 .645
(\214rst switches the input streams via)144 165.6 R F1(switch_str)3.145
E .645(eams\( new_in, new_out \))-.18 F F0 .645(and then returns the)
3.145 F -.25(va)144 177.6 S(lue of).25 E F1(yylex\(\).)2.5 E F0 .985
(In addition,)108 194.4 R F1(yyFlexLexer)3.485 E F0 .985
(de\214nes the follo)3.485 F .985
(wing protected virtual functions which you can rede\214ne in)-.25 F
(deri)108 206.4 Q -.15(ve)-.25 G 2.5(dc).15 G
(lasses to tailor the scanner:)-2.5 E F1
(virtual int LexerInput\( char* b)108 223.2 Q(uf)-.2 E 2.5(,i)-.15 G
(nt max_size \))-2.5 E F0 .561(reads up to)144 235.2 R F1(max_size)3.061
E F0 .561(characters into)3.061 F F1 -.2(bu)3.062 G(f).2 E F0 .562
(and returns the number of characters read.)3.062 F 2.162 -.8(To i)5.562
H(ndi-).8 E 1.555(cate end-of-input, return 0 characters.)144 247.2 R
1.555(Note that "interacti)6.555 F -.15(ve)-.25 G 4.055("s).15 G 1.555
(canners \(see the)-4.055 F F1<ad42>4.055 E F0(and)4.055 E F1<ad49>4.055
E F0 .323(\215ags\) de\214ne the macro)144 259.2 R F1(YY_INTERA)2.823 E
(CTIVE.)-.55 E F0 .323(If you rede\214ne)5.323 F F1(LexerInput\(\))2.823
E F0 .323(and need to tak)2.823 F(e)-.1 E(dif)144 271.2 Q 1.303(ferent \
actions depending on whether or not the scanner might be scanning an in\
teracti)-.25 F -.15(ve)-.25 G
(input source, you can test for the presence of this name via)144 283.2
Q F1(#ifdef)2.5 E(.)-.15 E(virtual v)108 300 Q
(oid LexerOutput\( const char* b)-.1 E(uf)-.2 E 2.5(,i)-.15 G
(nt size \))-2.5 E F0 .011(writes out)144 312 R F1(size)2.512 E F0 .012
(characters from the b)2.512 F(uf)-.2 E(fer)-.25 E F1 -.2(bu)2.512 G
-.15(f,).2 G F0 .012(which, while NUL-terminated, may also contain)2.662
F("internal" NUL)144 324 Q 1.1 -.55('s i)-.92 H 2.5(ft).55 G
(he scanner')-2.5 E 2.5(sr)-.55 G(ules can match te)-2.5 E(xt with NUL)
-.15 E 1.1 -.55('s i)-.92 H 2.5(nt).55 G(hem.)-2.5 E F1(virtual v)108
340.8 Q(oid LexerErr)-.1 E(or\( const char* msg \))-.18 E F0 .962
(reports a f)144 352.8 R .962(atal error message.)-.1 F .962(The def)
5.962 F .962(ault v)-.1 F .961
(ersion of this function writes the message to the)-.15 F(stream)144
364.8 Q F1(cerr)2.5 E F0(and e)2.5 E(xits.)-.15 E 1.085(Note that a)108
381.6 R F1(yyFlexLexer)3.585 E F0 1.085(object contains its)3.585 F/F2
10/Times-Italic@0 SF(entir)3.585 E(e)-.37 E F0 1.085(scanning state.)
3.585 F 1.086(Thus you can use such objects to)6.085 F .925
(create reentrant scanners.)108 393.6 R -1.1(Yo)5.925 G 3.425(uc)1.1 G
.925(an instantiate multiple instances of the same)-3.425 F F1
(yyFlexLexer)3.425 E F0 .925(class, and)3.425 F .486(you can also combi\
ne multiple C++ scanner classes together in the same program using the)
108 405.6 R F1<ad50>2.987 E F0(option)2.987 E(discussed abo)108 417.6 Q
-.15(ve)-.15 G(.).15 E(Finally)108 434.4 Q 3.013(,n)-.65 G .513
(ote that the)-3.013 F F1(%array)3.012 E F0 .512(feature is not a)3.012
F -.25(va)-.2 G .512(ilable to C++ scanner classes; you must use).25 F
F1(%pointer)3.012 E F0(\(the def)108 446.4 Q(ault\).)-.1 E(Here is an e)
108 463.2 Q(xample of a simple C++ scanner:)-.15 E(// An e)128 487.2 Q
(xample of using the \215e)-.15 E 2.5(xC)-.15 G(++ scanner class.)-2.5 E
(%{)118 511.2 Q(int mylineno = 0;)118 523.2 Q(%})118 535.2 Q 2.5
(string \\"[^\\n"]+\\")118 559.2 R 12.5(ws [)118 583.2 R(\\t]+)2.5 E 5
(alpha [A-Za-z])118 607.2 R 10(dig [0-9])118 619.2 R 7.5
(name \({alpha}|{dig}|\\$\)\({alpha}|{dig}|[_.\\-/$]\)*)118 631.2 R 7.5
(num1 [-+]?{dig}+\\.?\([eE][-+]?{dig}+\)?)118 643.2 R 7.5
(num2 [-+]?{dig}*\\.{dig}+\([eE][-+]?{dig}+\)?)118 655.2 R 2.5
(number {num1}|{num2})118 667.2 R(%%)118 691.2 Q 7.5({ws} /*)118 715.2 R
(skip blanks and tabs */)2.5 E 7.5("/*" {)118 739.2 R(int c;)138 751.2 Q
(while\(\(c = yyinput\(\)\) != 0\))138 775.2 Q -1.11(Ve)72 817.889 S
(rsion 2.5)1.11 E(April 1995)158.283 E(31)193.832 E 0 Cg EP
%%Page: 32 32
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R({)148 84 Q
(if\(c == '\\n'\))148 96 Q(++mylineno;)158 108 Q(else if\(c == '*'\))148
132 Q({)158 144 Q(if\(\(c = yyinput\(\)\) == '/'\))158 156 Q(break;)168
168 Q(else)158 180 Q(unput\(c\);)168 192 Q(})158 204 Q(})148 216 Q(})138
228 Q 2.5({number} cout)118 252 R(<< "number " << YYT)2.5 E -.15(ex)-.7
G(t\(\) << '\\n';).15 E 17.5(\\n mylineno++;)118 276 R 7.5({name} cout)
118 300 R(<< "name " << YYT)2.5 E -.15(ex)-.7 G(t\(\) << '\\n';).15 E
2.5({string} cout)118 324 R(<< "string " << YYT)2.5 E -.15(ex)-.7 G
(t\(\) << '\\n';).15 E(%%)118 348 Q(int main\( int /* ar)118 372 Q
(gc */, char** /* ar)-.18 E(gv */ \))-.18 E({)128 384 Q(Fle)128 396 Q
(xLe)-.15 E -.15(xe)-.15 G(r* le).15 E -.15(xe)-.15 G 2.5(r=n).15 G .5
-.25(ew y)-2.5 H(yFle).25 E(xLe)-.15 E -.15(xe)-.15 G(r;).15 E
(while\(le)128 408 Q -.15(xe)-.15 G -.2(r-).15 G(>yyle).2 E
(x\(\) != 0\))-.15 E(;)138 420 Q(return 0;)128 432 Q(})128 444 Q .836
(If you w)108 456 R .836(ant to create multiple \(dif)-.1 F .836
(ferent\) le)-.25 F -.15(xe)-.15 G 3.336(rc).15 G .836
(lasses, you use the)-3.336 F/F1 10/Times-Bold@0 SF<ad50>3.337 E F0 .837
(\215ag \(or the)3.337 F F1(pr)3.337 E(e\214x=)-.18 E F0 .837
(option\) to)3.337 F .8(rename each)108 468 R F1(yyFlexLexer)3.3 E F0 .8
(to some other)3.3 F F1(xxFlexLexer)3.3 E(.)-1 E F0 -1.1(Yo)5.8 G 3.3
(ut)1.1 G .799(hen can include)-3.3 F F1(<FlexLexer)3.299 E(.h>)-1 E F0
.799(in your)3.299 F(other sources once per le)108 480 Q -.15(xe)-.15 G
2.5(rc).15 G(lass, \214rst renaming)-2.5 E F1(yyFlexLexer)2.5 E F0
(as follo)2.5 E(ws:)-.25 E(#undef yyFle)118 504 Q(xLe)-.15 E -.15(xe)
-.15 G(r).15 E(#de\214ne yyFle)118 516 Q(xLe)-.15 E -.15(xe)-.15 G 2.5
(rx).15 G(xFle)-2.5 E(xLe)-.15 E -.15(xe)-.15 G(r).15 E(#include <Fle)
118 528 Q(xLe)-.15 E -.15(xe)-.15 G -.55(r.).15 G(h>).55 E(#undef yyFle)
118 552 Q(xLe)-.15 E -.15(xe)-.15 G(r).15 E(#de\214ne yyFle)118 564 Q
(xLe)-.15 E -.15(xe)-.15 G 2.5(rz).15 G(zFle)-2.5 E(xLe)-.15 E -.15(xe)
-.15 G(r).15 E(#include <Fle)118 576 Q(xLe)-.15 E -.15(xe)-.15 G -.55
(r.).15 G(h>).55 E .873(if, for e)108 600 R .874(xample, you used)-.15 F
F1 .874(%option pr)3.374 F(e\214x="xx")-.18 E F0 .874
(for one of your scanners and)3.374 F F1 .874(%option pr)3.374 F
(e\214x="zz")-.18 E F0(for the other)108 612 Q(.)-.55 E(IMPOR)108 628.8
Q -.93(TA)-.6 G(NT).93 E 3.874(:t)-.5 G 1.374
(he present form of the scanning class is)-3.874 F/F2 10/Times-Italic@0
SF -.2(ex)3.873 G(perimental).2 E F0 1.373(and may change considerably)
3.873 F(between major releases.)108 640.8 Q/F3 10.95/Times-Bold@0 SF
(INCOMP)72 657.6 Q -1.04(AT)-.81 G(IBILITIES WITH LEX AND POSIX)1.04 E
F2<8d65>108 669.6 Q(x)-.2 E F0 .747(is a re)3.247 F .747(write of the A)
-.25 F .747(T&T Unix)-1.11 F F2(le)3.247 E(x)-.2 E F0 .748
(tool \(the tw)3.247 F 3.248(oi)-.1 G .748
(mplementations do not share an)-3.248 F 3.248(yc)-.15 G .748
(ode, though\),)-3.248 F .88(with some e)108 681.6 R .88(xtensions and \
incompatibilities, both of which are of concern to those who wish to wr\
ite)-.15 F .094(scanners acceptable to either implementation.)108 693.6
R(Fle)5.094 E 2.594(xi)-.15 G 2.594(sf)-2.594 G .094
(ully compliant with the POSIX)-2.594 F F2(le)2.595 E(x)-.2 E F0
(speci\214cation,)2.595 E -.15(ex)108 705.6 S .113(cept that when using)
.15 F F1(%pointer)2.612 E F0 .112(\(the def)2.612 F .112
(ault\), a call to)-.1 F F1(unput\(\))2.612 E F0(destro)2.612 E .112
(ys the contents of)-.1 F F1(yytext,)2.612 E F0(which)2.612 E
(is counter to the POSIX speci\214cation.)108 717.6 Q .917
(In this section we discuss all of the kno)108 734.4 R .917
(wn areas of incompatibility between \215e)-.25 F .918(x, A)-.15 F .918
(T&T le)-1.11 F .918(x, and the)-.15 F(POSIX speci\214cation.)108 746.4
Q F2<8d65>108 763.2 Q(x')-.2 E(s)-.4 E F1<ad6c>3.817 E F0 1.317
(option turns on maximum compatibility with the original A)3.817 F(T&T)
-1.11 E F2(le)3.817 E(x)-.2 E F0 1.316(implementation, at the)3.816 F
1.052(cost of a major loss in the generated scanner')108 775.2 R 3.553
(sp)-.55 G 3.553(erformance. W)-3.553 F 3.553(en)-.8 G 1.053(ote belo)
-3.553 F 3.553(ww)-.25 G 1.053(hich incompatibilities)-3.553 F 191.333
(32 April)72 817.889 R 155.782(1995 V)2.5 F(ersion 2.5)-1.11 E 0 Cg EP
%%Page: 33 33
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R(can be o)108
84 Q -.15(ve)-.15 G(rcome using the).15 E/F1 10/Times-Bold@0 SF<ad6c>2.5
E F0(option.)2.5 E/F2 10/Times-Italic@0 SF<8d65>108 100.8 Q(x)-.2 E F0
(is fully compatible with)2.5 E F2(le)2.5 E(x)-.2 E F0(with the follo)
2.5 E(wing e)-.25 E(xceptions:)-.15 E 32.67(-T)108 117.6 S 2.793
(he undocumented)-32.67 F F2(le)5.293 E(x)-.2 E F0 2.793
(scanner internal v)5.293 F(ariable)-.25 E F1(yylineno)5.293 E F0 2.793
(is not supported unless)5.293 F F1<ad6c>5.293 E F0(or)5.292 E F1
(%option yylineno)144 129.6 Q F0(is used.)2.5 E F1(yylineno)144 146.4 Q
F0 .742(should be maintained on a per)3.241 F(-b)-.2 E(uf)-.2 E .742
(fer basis, rather than a per)-.25 F .742(-scanner \(single global)-.2 F
-.25(va)144 158.4 S(riable\) basis.).25 E F1(yylineno)144 175.2 Q F0
(is not part of the POSIX speci\214cation.)2.5 E 32.67(-T)108 192 S(he)
-32.67 E F1(input\(\))3.681 E F0 1.18(routine is not rede\214nable, tho\
ugh it may be called to read characters follo)3.681 F(wing)-.25 E(whate)
144 204 Q -.15(ve)-.25 G 5.408(rh).15 G 2.909
(as been matched by a rule.)-5.408 F(If)7.909 E F1(input\(\))5.409 E F0
2.909(encounters an end-of-\214le the normal)5.409 F F1(yywrap\(\))144
216 Q F0(processing is done.)2.5 E 2.5(A`)5 G(`real')-3.24 E 2.5('e)-.74
G(nd-of-\214le is returned by)-2.5 E F1(input\(\))2.5 E F0(as)2.5 E F2
(EOF)2.5 E(.)-1.35 E F0(Input is instead controlled by de\214ning the)
144 232.8 Q F1(YY_INPUT)2.5 E F0(macro.)2.5 E(The)144 249.6 Q F2<8d65>
2.508 E(x)-.2 E F0 .008(restriction that)2.508 F F1(input\(\))2.508 E F0
.007(cannot be rede\214ned is in accordance with the POSIX speci\214ca-)
2.508 F .748(tion, which simply does not specify an)144 261.6 R 3.248
(yw)-.15 G .748(ay of controlling the scanner')-3.348 F 3.249(si)-.55 G
.749(nput other than by)-3.249 F(making an initial assignment to)144
273.6 Q F2(yyin.)2.5 E F0 32.67(-T)108 290.4 S(he)-32.67 E F1(unput\(\))
2.5 E F0(routine is not rede\214nable.)2.5 E
(This restriction is in accordance with POSIX.)5 E(-)108 307.2 Q F2
<8d65>32.67 E(x)-.2 E F0 .147(scanners are not as reentrant as)2.647 F
F2(le)2.647 E(x)-.2 E F0 2.647(scanners. In)2.647 F(particular)2.646 E
2.646(,i)-.4 G 2.646(fy)-2.646 G .146(ou ha)-2.646 F .446 -.15(ve a)-.2
H 2.646(ni).15 G(nteracti)-2.646 E .446 -.15(ve s)-.25 H(can-).15 E 1.02
(ner and an interrupt handler which long-jumps out of the scanner)144
319.2 R 3.521(,a)-.4 G 1.021(nd the scanner is subse-)-3.521 F
(quently called ag)144 331.2 Q(ain, you may get the follo)-.05 E
(wing message:)-.25 E -.1(fa)154 355.2 S(tal \215e).1 E 2.5(xs)-.15 G
(canner internal error)-2.5 E(--end of b)-.2 E(uf)-.2 E(fer missed)-.25
E 1.6 -.8(To r)144 379.2 T(eenter the scanner).8 E 2.5<2c8c>-.4 G
(rst use)-2.5 E(yyrestart\( yyin \);)154 403.2 Q 1.218
(Note that this call will thro)144 427.2 R 3.717(wa)-.25 G -.1(wa)-3.867
G 3.717(ya).1 G 1.517 -.15(ny b)-3.717 H(uf)-.05 E 1.217
(fered input; usually this isn')-.25 F 3.717(tap)-.18 G 1.217
(roblem with an)-3.717 F(interacti)144 439.2 Q .3 -.15(ve s)-.25 H
(canner).15 E(.)-.55 E .033(Also note that \215e)144 456 R 2.533(xC)-.15
G .033(++ scanner classes)-2.533 F F2(ar)2.533 E(e)-.37 E F0 .034
(reentrant, so if using C++ is an option for you, you)2.534 F
(should use them instead.)144 468 Q(See "Generating C++ Scanners" abo)5
E .3 -.15(ve f)-.15 H(or details.).15 E(-)108 484.8 Q F1(output\(\))
32.67 E F0 1.379(is not supported.)3.879 F 1.378(Output from the)6.378 F
F1(ECHO)3.878 E F0 1.378(macro is done to the \214le-pointer)3.878 F F2
(yyout)3.878 E F0(\(def)144 496.8 Q(ault)-.1 E F2(stdout\).)2.5 E F1
(output\(\))144 513.6 Q F0(is not part of the POSIX speci\214cation.)2.5
E(-)108 530.4 Q F2(le)32.67 E(x)-.2 E F0 .631(does not support e)3.131 F
(xclusi)-.15 E .931 -.15(ve s)-.25 H .631
(tart conditions \(%x\), though the).15 F 3.131(ya)-.15 G .631
(re in the POSIX speci\214ca-)-3.131 F(tion.)144 542.4 Q 32.67(-W)108
559.2 S(hen de\214nitions are e)-32.67 E(xpanded,)-.15 E F2<8d65>2.5 E
(x)-.2 E F0(encloses them in parentheses.)2.5 E -.4(Wi)5 G(th le).4 E
(x, the follo)-.15 E(wing:)-.25 E -.35(NA)154 583.2 S 7.5
(ME [A-Z][A-Z0-9]*).35 F(%%)154 595.2 Q(foo{N)154 607.2 Q 12.5
(AME}? printf\()-.35 F("F)2.5 E(ound it\\n" \);)-.15 E(%%)154 619.2 Q
.704(will not match the string "foo" because when the macro is e)144
643.2 R .704(xpanded the rule is equi)-.15 F -.25(va)-.25 G .704
(lent to).25 F 2.755("foo[A-Z][A-Z0-9]*?" and)144 655.2 R .255
(the precedence is such that the '?' is associated with "[A-Z0-9]*".)
2.755 F -.4(Wi)144 667.2 S(th).4 E F2<8d65>3.703 E(x,)-.2 E F0 1.203
(the rule will be e)3.703 F 1.202
(xpanded to "foo\([A-Z][A-Z0-9]*\)?" and so the string "foo" will)-.15 F
(match.)144 679.2 Q .595(Note that if the de\214nition be)144 696 R .595
(gins with)-.15 F F1(^)3.095 E F0 .595(or ends with)3.095 F F1($)3.095 E
F0 .595(then it is)3.095 F F2(not)3.096 E F0 -.15(ex)3.096 G .596
(panded with parenthe-).15 F 1.398(ses, to allo)144 708 R 3.898(wt)-.25
G 1.397(hese operators to appear in de\214nitions without losing their \
special meanings.)-3.898 F(But the)144 720 Q F1(<s>, /,)2.5 E F0(and)2.5
E F1(<<EOF>>)2.5 E F0(operators cannot be used in a)2.5 E F2<8d65>2.5 E
(x)-.2 E F0(de\214nition.)2.5 E(Using)144 736.8 Q F1<ad6c>2.5 E F0
(results in the)2.5 E F2(le)2.5 E(x)-.2 E F0(beha)2.5 E
(vior of no parentheses around the de\214nition.)-.2 E(The POSIX speci\
\214cation is that the de\214nition be enclosed in parentheses.)144
753.6 Q -1.11(Ve)72 817.889 S(rsion 2.5)1.11 E(April 1995)158.283 E(33)
193.832 E 0 Cg EP
%%Page: 34 34
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R 32.67(-S)108
84 S .224(ome implementations of)-32.67 F/F1 10/Times-Italic@0 SF(le)
2.724 E(x)-.2 E F0(allo)2.724 E 2.724(war)-.25 G(ule')-2.724 E 2.724(sa)
-.55 G .224(ction to be)-2.724 F .225
(gin on a separate line, if the rule')-.15 F 2.725(sp)-.55 G(at-)-2.725
E(tern has trailing whitespace:)144 96 Q(%%)154 120 Q
(foo|bar<space here>)154 132 Q 2.5({f)159 144 S(oobar_action\(\); })-2.5
E F1<8d65>144 168 Q(x)-.2 E F0(does not support this feature.)2.5 E
32.67(-T)108 184.8 S(he)-32.67 E F1(le)3.34 E(x)-.2 E/F2 10/Times-Bold@0
SF(%r)3.34 E F0 .839
(\(generate a Ratfor scanner\) option is not supported.)3.339 F .839
(It is not part of the POSIX)5.839 F(speci\214cation.)144 196.8 Q 32.67
(-A)108 213.6 S .437(fter a call to)-32.67 F F2(unput\(\),)2.937 E F1
(yyte)2.937 E(xt)-.2 E F0 .437(is unde\214ned until the ne)2.937 F .437
(xt tok)-.15 F .438(en is matched, unless the scanner)-.1 F -.1(wa)144
225.6 S 3.808(sb).1 G 1.308(uilt using)-4.008 F F2(%array)3.808 E(.)-.7
E F0 1.307(This is not the case with)6.307 F F1(le)3.807 E(x)-.2 E F0
1.307(or the POSIX speci\214cation.)3.807 F(The)6.307 E F2<ad6c>3.807 E
F0(option does a)144 237.6 Q -.1(wa)-.15 G 2.5(yw).1 G
(ith this incompatibility)-2.5 E(.)-.65 E 32.67(-T)108 254.4 S 1.178
(he precedence of the)-32.67 F F2({})3.678 E F0 1.178
(\(numeric range\) operator is dif)3.678 F(ferent.)-.25 E F1(le)6.178 E
(x)-.2 E F0 1.178(interprets "abc{1,3}" as)3.678 F .683("match one, tw)
144 266.4 R .683(o, or three occurrences of 'abc'", whereas)-.1 F F1
<8d65>3.182 E(x)-.2 E F0 .682(interprets it as "match 'ab' fol-)3.182 F
(lo)144 278.4 Q .942(wed by one, tw)-.25 F .942
(o, or three occurrences of 'c'".)-.1 F .942
(The latter is in agreement with the POSIX)5.942 F(speci\214cation.)144
290.4 Q 32.67(-T)108 307.2 S .171(he precedence of the)-32.67 F F2(^)
2.671 E F0 .17(operator is dif)2.671 F(ferent.)-.25 E F1(le)5.17 E(x)-.2
E F0 .17(interprets "^foo|bar" as "match either 'foo' at)2.67 F .385
(the be)144 319.2 R .385(ginning of a line, or 'bar' an)-.15 F .385
(ywhere", whereas)-.15 F F1<8d65>2.885 E(x)-.2 E F0 .386
(interprets it as "match either 'foo' or)2.885 F .094('bar' if the)144
331.2 R 2.593(yc)-.15 G .093(ome at the be)-2.593 F .093
(ginning of a line".)-.15 F .093
(The latter is in agreement with the POSIX spec-)5.093 F(i\214cation.)
144 343.2 Q 32.67(-T)108 360 S .411
(he special table-size declarations such as)-32.67 F F2(%a)2.911 E F0
.411(supported by)2.911 F F1(le)2.911 E(x)-.2 E F0 .411
(are not required by)2.911 F F1<8d65>2.911 E(x)-.2 E F0(scan-)2.911 E
(ners;)144 372 Q F1<8d65>2.5 E(x)-.2 E F0(ignores them.)2.5 E 32.67(-T)
108 388.8 S .638(he name FLEX_SCANNER is #de\214ne')-32.67 F 3.138(ds)
-.5 G 3.138(os)-3.138 G .637(canners may be written for use with either)
-3.138 F F1<8d65>3.137 E(x)-.2 E F0(or)144 400.8 Q F1(le)20.01 E(x.)-.2
E F0 17.511(Scanners also include)22.511 F F2(YY_FLEX_MAJOR_VERSION)
20.011 E F0(and)20.011 E F2(YY_FLEX_MINOR_VERSION)144 412.8 Q F0 .8
(indicating which v)3.3 F .8(ersion of)-.15 F F1<8d65>3.299 E(x)-.2 E F0
.799(generated the scanner \(for)3.299 F -.15(ex)144 424.8 S
(ample, for the 2.5 release, these de\214nes w).15 E
(ould be 2 and 5 respecti)-.1 E -.15(ve)-.25 G(ly\).).15 E(The follo)108
441.6 Q(wing)-.25 E F1<8d65>2.5 E(x)-.2 E F0
(features are not included in)2.5 E F1(le)2.5 E(x)-.2 E F0
(or the POSIX speci\214cation:)2.5 E(C++ scanners)118 465.6 Q(%option)
118 477.6 Q(start condition scopes)118 489.6 Q(start condition stacks)
118 501.6 Q(interacti)118 513.6 Q -.15(ve)-.25 G(/non-interacti).15 E .3
-.15(ve s)-.25 H(canners).15 E(yy_scan_string\(\) and friends)118 525.6
Q(yyterminate\(\))118 537.6 Q(yy_set_interacti)118 549.6 Q -.15(ve)-.25
G(\(\)).15 E(yy_set_bol\(\))118 561.6 Q(YY_A)118 573.6 Q(T_BOL\(\))-1.11
E(<<EOF>>)118 585.6 Q(<*>)118 597.6 Q(YY_DECL)118 609.6 Q(YY_ST)118
621.6 Q(AR)-.93 E(T)-.6 E(YY_USER_A)118 633.6 Q(CTION)-.4 E
(YY_USER_INIT)118 645.6 Q(#line directi)118 657.6 Q -.15(ve)-.25 G(s).15
E(%{}')118 669.6 Q 2.5(sa)-.55 G(round actions)-2.5 E
(multiple actions on a line)118 681.6 Q .565
(plus almost all of the \215e)108 705.6 R 3.065<788d>-.15 G 3.065
(ags. The)-3.065 F .566(last feature in the list refers to the f)3.066 F
.566(act that with)-.1 F F1<8d65>3.066 E(x)-.2 E F0 .566(you can put)
3.066 F(multiple actions on the same line, separated with semi-colons, \
while with)108 717.6 Q F1(le)2.5 E(x,)-.2 E F0(the follo)2.5 E(wing)-.25
E 7.5(foo handle_foo\(\);)118 741.6 R(++num_foos_seen;)2.5 E
(is \(rather surprisingly\) truncated to)108 765.6 Q 191.333(34 April)72
817.889 R 155.782(1995 V)2.5 F(ersion 2.5)-1.11 E 0 Cg EP
%%Page: 35 35
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R 7.5
(foo handle_foo\(\);)118 84 R/F1 10/Times-Italic@0 SF<8d65>108 108 Q(x)
-.2 E F0 .768(does not truncate the action.)3.268 F .768
(Actions that are not enclosed in braces are simply terminated at the)
5.768 F(end of the line.)108 120 Q/F2 10.95/Times-Bold@0 SF(DIA)72 136.8
Q(GNOSTICS)-.602 E F1(warning)108 148.8 Q 3.73(,r)-.1 G 1.23
(ule cannot be matc)-3.73 F(hed)-.15 E F0 1.23(indicates that the gi)
3.73 F -.15(ve)-.25 G 3.73(nr).15 G 1.231
(ule cannot be matched because it follo)-3.73 F(ws)-.25 E .834
(other rules that will al)108 160.8 R -.1(wa)-.1 G .834
(ys match the same te).1 F .834(xt as it.)-.15 F -.15(Fo)5.834 G 3.333
(re).15 G .833(xample, in the follo)-3.483 F .833(wing "foo" cannot be)
-.25 F(matched because it comes after an identi\214er "catch-all" rule:)
108 172.8 Q 7.5([a-z]+ got_identi\214er\(\);)118 196.8 R 15
(foo got_foo\(\);)118 208.8 R(Using)108 232.8 Q/F3 10/Times-Bold@0 SF
(REJECT)2.5 E F0(in a scanner suppresses this w)2.5 E(arning.)-.1 E F1
(warning)108 249.6 Q(,)-.1 E F3<ad73>3.258 E F1 .758(option given b)
3.258 F .758(ut default rule can be matc)-.2 F(hed)-.15 E F0 .759
(means that it is possible \(perhaps only in a)3.259 F 1.288
(particular start condition\) that the def)108 261.6 R 1.287
(ault rule \(match an)-.1 F 3.787(ys)-.15 G 1.287
(ingle character\) is the only one that will)-3.787 F
(match a particular input.)108 273.6 Q(Since)5 E F3<ad73>2.5 E F0 -.1
(wa)2.5 G 2.5(sg).1 G -2.15 -.25(iv e)-2.5 H
(n, presumably this is not intended.).25 E F1 -.37(re)108 290.4 S
(ject_used_b).37 E 2.239(ut_not_detected unde\214ned)-.2 F F0(or)4.739 E
F1(yymor)4.739 E(e_used_b)-.37 E 2.239(ut_not_detected unde\214ned -)-.2
F F0 2.24(These errors)4.74 F 1.388(can occur at compile time.)108 302.4
R(The)6.387 E 3.887(yi)-.15 G 1.387(ndicate that the scanner uses)-3.887
F F3(REJECT)3.887 E F0(or)3.887 E F3(yymor)3.887 E(e\(\))-.18 E F0 -.2
(bu)3.887 G 3.887(tt).2 G(hat)-3.887 E F1<8d65>3.887 E(x)-.2 E F0 -.1
(fa)108 314.4 S 1.39(iled to notice the f).1 F 1.39(act, meaning that)
-.1 F F1<8d65>3.89 E(x)-.2 E F0 1.39(scanned the \214rst tw)3.89 F 3.891
(os)-.1 G 1.391(ections looking for occurrences of)-3.891 F .333
(these actions and f)108 326.4 R .333(ailed to \214nd an)-.1 F 1.633
-.65(y, b)-.15 H .333(ut someho).45 F 2.833(wy)-.25 G .333
(ou snuck some in \(via a #include \214le, for e)-2.833 F(xample\).)-.15
E(Use)108 338.4 Q F3(%option r)2.5 E(eject)-.18 E F0(or)2.5 E F3
(%option yymor)2.5 E(e)-.18 E F0(to indicate to \215e)2.5 E 2.5(xt)-.15
G(hat you really do use these features.)-2.5 E F1<8d65>108 355.2 Q 4.638
(xs)-.2 G 2.138(canner jammed -)-4.638 F F0 4.638(as)4.638 G 2.138
(canner compiled with)-4.638 F F3<ad73>4.638 E F0 2.139
(has encountered an input string which w)4.638 F(asn')-.1 E(t)-.18 E
(matched by an)108 367.2 Q 2.5(yo)-.15 G 2.5(fi)-2.5 G(ts rules.)-2.5 E
(This error can also occur due to internal problems.)5 E F1(tok)108 384
Q .987(en too lar)-.1 F 1.187 -.1(ge, e)-.37 H .987(xceeds YYLMAX -)-.1
F F0 .987(your scanner uses)3.487 F F3(%array)3.487 E F0 .986
(and one of its rules matched a string)3.487 F .657(longer than the)108
396 R F3(YYLMAX)3.157 E F0 .658(constant \(8K bytes by def)3.157 F 3.158
(ault\). Y)-.1 F .658(ou can increase the v)-1.1 F .658
(alue by #de\214ne'ing)-.25 F F3(YYLMAX)108 408 Q F0
(in the de\214nitions section of your)2.5 E F1<8d65>2.5 E(x)-.2 E F0
(input.)2.5 E F1 .483(scanner r)108 424.8 R(equir)-.37 E .483
(es \2558 \215a)-.37 F 2.983(gt)-.1 G 2.983(ou)-2.983 G .482(se the c)
-2.983 F(har)-.15 E .482(acter 'x' -)-.15 F F0 -1.1(Yo)2.982 G .482
(ur scanner speci\214cation includes recognizing the)1.1 F .314
(8-bit character)108 436.8 R F1('x')2.814 E F0 .315
(and you did not specify the \2558 \215ag, and your scanner def)2.814 F
.315(aulted to 7-bit because you)-.1 F(used the)108 448.8 Q F3(\255Cf)
2.5 E F0(or)2.5 E F3(\255CF)2.5 E F0(table compression options.)2.5 E
(See the discussion of the)5 E F3<ad37>2.5 E F0(\215ag for details.)2.5
E F1<8d65>108 465.6 Q 2.7(xs)-.2 G .2(canner push-bac)-2.7 F 2.699(ko)
-.2 G .199(ver\215ow -)-2.799 F F0 .199(you used)2.699 F F3(unput\(\))
2.699 E F0 .199(to push back so much te)2.699 F .199
(xt that the scanner')-.15 F 2.699(sb)-.55 G(uf)-2.899 E(fer)-.25 E .87
(could not hold both the pushed-back te)108 477.6 R .87
(xt and the current tok)-.15 F .87(en in)-.1 F F3(yytext.)3.371 E F0
.871(Ideally the scanner should)5.871 F(dynamically resize the b)108
489.6 Q(uf)-.2 E(fer in this case, b)-.25 E(ut at present it does not.)
-.2 E F1 .194(input b)108 506.4 R(uf)-.2 E .194(fer o)-.18 F(ver\215ow)
-.1 E 2.694(,c)-.74 G(an')-2.694 E 2.694(te)-.3 G(nlar)-2.694 E .394 -.1
(ge b)-.37 H(uf)-.1 E .194(fer because scanner uses REJECT -)-.18 F F0
.193(the scanner w)2.693 F .193(as w)-.1 F .193(orking on)-.1 F 1.573
(matching an e)108 518.4 R 1.573(xtremely lar)-.15 F 1.573(ge tok)-.18 F
1.573(en and needed to e)-.1 F 1.573(xpand the input b)-.15 F(uf)-.2 E
(fer)-.25 E 6.573(.T)-.55 G 1.573(his doesn')-6.573 F 4.073(tw)-.18 G
1.573(ork with)-4.173 F(scanners that use)108 530.4 Q F3(REJECT)2.5 E(.)
-.9 E F1 .241(fatal \215e)108 547.2 R 2.741(xs)-.2 G .241
(canner internal err)-2.741 F(or)-.45 E .241(--end of b)-.2 F(uf)-.2 E
.24(fer missed -)-.18 F F0 .24
(This can occur in an scanner which is reentered)2.74 F .467
(after a long-jump has jumped out \(or o)108 559.2 R -.15(ve)-.15 G .468
(r\) the scanner').15 F 2.968(sa)-.55 G(cti)-2.968 E -.25(va)-.25 G .468
(tion frame.).25 F .468(Before reentering the scan-)5.468 F(ner)108
571.2 Q 2.5(,u)-.4 G(se:)-2.5 E(yyrestart\( yyin \);)118 595.2 Q(or)108
619.2 Q 2.5(,a)-.4 G 2.5(sn)-2.5 G(oted abo)-2.5 E -.15(ve)-.15 G 2.5
(,s).15 G(witch to using the C++ scanner class.)-2.5 E F1 1.158
(too many start conditions in <> construct! -)108 636 R F0 1.157
(you listed more start conditions in a <> construct than)3.657 F -.15
(ex)108 648 S(ist \(so you must ha).15 E .3 -.15(ve l)-.2 H
(isted at least one of them twice\).).15 E F2(FILES)72 664.8 Q F3
<ad6c8d>108 676.8 Q F0(library with which scanners must be link)21.96 E
(ed.)-.1 E F1(le)108 693.6 Q(x.yy)-.2 E(.c)-.55 E F0
(generated scanner \(called)6.77 E F1(le)2.5 E(xyy)-.2 E(.c)-.55 E F0
(on some systems\).)2.5 E F1(le)108 710.4 Q(x.yy)-.2 E(.cc)-.55 E F0
(generated C++ scanner class, when using)144 722.4 Q F3(-+.)2.5 E F1
(<Fle)108 739.2 Q(xLe)-.2 E(xer)-.2 E(.h>)-1.11 E F0 4.694
(header \214le de\214ning the C++ scanner base class,)144 751.2 R F3
(FlexLexer)7.194 E(,)-.92 E F0 4.694(and its deri)7.194 F -.15(ve)-.25 G
7.194(dc).15 G(lass,)-7.194 E F3(yyFlexLexer)144 763.2 Q(.)-1 E F0 -1.11
(Ve)72 817.889 S(rsion 2.5)1.11 E(April 1995)158.283 E(35)193.832 E 0 Cg
EP
%%Page: 36 36
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R/F1 10
/Times-Italic@0 SF<8d65>108 84 Q(x.skl)-.2 E F0(sk)8.71 E
(eleton scanner)-.1 E 5(.T)-.55 G(his \214le is only used when b)-5 E
(uilding \215e)-.2 E(x, not when \215e)-.15 E 2.5(xe)-.15 G -.15(xe)
-2.65 G(cutes.).15 E F1(le)108 100.8 Q(x.bac)-.2 E(kup)-.2 E F0
(backing-up information for)144 112.8 Q/F2 10/Times-Bold@0 SF<ad62>2.5 E
F0(\215ag \(called)2.5 E F1(le)2.5 E(x.bc)-.2 E(k)-.2 E F0
(on some systems\).)2.5 E/F3 10.95/Times-Bold@0 SF(DEFICIENCIES / B)72
129.6 Q(UGS)-.11 E F0 .128(Some trailing conte)108 141.6 R .128
(xt patterns cannot be properly matched and generate w)-.15 F .128
(arning messages \("dangerous)-.1 F .73(trailing conte)108 153.6 R 3.23
(xt"\). These)-.15 F .73(are patterns where the ending of the \214rst p\
art of the rule matches the be)3.23 F(gin-)-.15 E .255(ning of the seco\
nd part, such as "zx*/xy*", where the 'x*' matches the 'x' at the be)108
165.6 R .255(ginning of the trail-)-.15 F(ing conte)108 177.6 Q 2.5
(xt. \(Note)-.15 F(that the POSIX draft states that the te)2.5 E
(xt matched by such patterns is unde\214ned.\))-.15 E -.15(Fo)108 194.4
S 3.091(rs).15 G .591(ome trailing conte)-3.091 F .591
(xt rules, parts which are actually \214x)-.15 F .591
(ed-length are not recognized as such, lead-)-.15 F .159(ing to the abo)
108 206.4 R -.15(ve)-.15 G .159(mentioned performance loss.).15 F .159
(In particular)5.159 F 2.658(,p)-.4 G .158
(arts using '|' or {n} \(such as "foo{3}"\) are)-2.658 F(al)108 218.4 Q
-.1(wa)-.1 G(ys considered v).1 E(ariable-length.)-.25 E 1
(Combining trailing conte)108 235.2 R 1
(xt with the special '|' action can result in)-.15 F F1(\214xed)3.501 E
F0 1.001(trailing conte)3.501 F 1.001(xt being turned)-.15 F
(into the more e)108 247.2 Q(xpensi)-.15 E -.15(ve)-.25 G F1(variable)
2.65 E F0(trailing conte)2.5 E 2.5(xt. F)-.15 F(or e)-.15 E
(xample, in the follo)-.15 E(wing:)-.25 E(%%)118 271.2 Q 12.5(abc |)118
283.2 R(xyz/def)118 295.2 Q .937(Use of)108 324 R F2(unput\(\))3.437 E
F0(in)3.437 E -.25(va)-.4 G .937(lidates yyte).25 F .937
(xt and yyleng, unless the)-.15 F F2(%array)3.437 E F0(directi)3.436 E
1.236 -.15(ve o)-.25 H 3.436(rt).15 G(he)-3.436 E F2<ad6c>3.436 E F0
.936(option has been)3.436 F(used.)108 336 Q -.15(Pa)108 352.8 S
(ttern-matching of NUL).15 E 1.1 -.55('s i)-.92 H 2.5(ss).55 G
(ubstantially slo)-2.5 E(wer than matching other characters.)-.25 E .569
(Dynamic resizing of the input b)108 369.6 R(uf)-.2 E .57(fer is slo)
-.25 F 1.87 -.65(w, a)-.25 H 3.07(si).65 G 3.07(te)-3.07 G .57
(ntails rescanning all the te)-3.07 F .57(xt matched so f)-.15 F .57
(ar by the)-.1 F(current \(generally huge\) tok)108 381.6 Q(en.)-.1 E
.178(Due to both b)108 398.4 R(uf)-.2 E .177(fering of input and read-a\
head, you cannot intermix calls to <stdio.h> routines, such as,)-.25 F
(for e)108 410.4 Q(xample,)-.15 E F2(getchar\(\),)2.5 E F0(with)2.5 E F1
<8d65>2.5 E(x)-.2 E F0(rules and e)2.5 E(xpect it to w)-.15 E 2.5
(ork. Call)-.1 F F2(input\(\))2.5 E F0(instead.)2.5 E .919
(The total table entries listed by the)108 427.2 R F2<ad76>3.419 E F0
.919(\215ag e)3.419 F .919
(xcludes the number of table entries needed to determine)-.15 F .161
(what rule has been matched.)108 439.2 R .16
(The number of entries is equal to the number of DF)5.161 F 2.66(As)-.74
G .16(tates if the scanner)-2.66 F(does not use)108 451.2 Q F2(REJECT)
2.5 E(,)-.74 E F0(and some)2.5 E
(what greater than the number of states if it does.)-.25 E F2(REJECT)108
468 Q F0(cannot be used with the)2.5 E F2<ad66>2.5 E F0(or)2.5 E F2
<ad46>2.5 E F0(options.)2.5 E(The)108 484.8 Q F1<8d65>2.5 E(x)-.2 E F0
(internal algorithms need documentation.)2.5 E F3(SEE ALSO)72 501.6 Q F0
(le)108 513.6 Q(x\(1\), yacc\(1\), sed\(1\), a)-.15 E(wk\(1\).)-.15 E
.447(John Le)108 530.4 R .448(vine, T)-.25 F(on)-.8 E 2.948(yM)-.15 G
.448(ason, and Doug Bro)-2.948 F(wn,)-.25 E F1(Le)2.948 E 2.948(x&Y)-.2
G(acc,)-3.868 E F0 .448(O'Reilly and Associates.)2.948 F .448
(Be sure to get the)5.448 F(2nd edition.)108 542.4 Q
(M. E. Lesk and E. Schmidt,)108 559.2 Q F1(LEX \255 Le)2.5 E
(xical Analyzer Gener)-.2 E(ator)-.15 E F0 1.408(Alfred Aho, Ra)108 576
R 1.407(vi Sethi and Jef)-.2 F(fre)-.25 E 3.907(yU)-.15 G(llman,)-3.907
E F1(Compiler)3.907 E 1.407(s: Principles, T)-.1 F(ec)-.92 E 1.407
(hniques and T)-.15 F(ools,)-.92 E F0(Addison-)3.907 E -.8(We)108 588 S
(sle).8 E 2.838(y\()-.15 G 2.838(1986\). Describes)-2.838 F .339
(the pattern-matching techniques used by)2.838 F F1<8d65>2.839 E(x)-.2 E
F0 .339(\(deterministic \214nite automata\).)2.839 F F3 -.548(AU)72
604.8 S(THOR).548 E F0 -1.11(Ve)108 616.8 S .719(rn P)1.11 F .719
(axson, with the help of man)-.15 F 3.218(yi)-.15 G .718
(deas and much inspiration from V)-3.218 F .718(an Jacobson.)-1.11 F
.718(Original v)5.718 F(ersion)-.15 E 1.173(by Jef Poskanzer)108 628.8 R
6.173(.T)-.55 G 1.173(he f)-6.173 F 1.174(ast table representation is a\
 partial implementation of a design done by V)-.1 F(an)-1.11 E 2.5
(Jacobson. The)108 640.8 R(implementation w)2.5 E(as done by K)-.1 E
-.25(ev)-.25 G(in Gong and V).25 E(ern P)-1.11 E(axson.)-.15 E .792
(Thanks to the man)108 657.6 R(y)-.15 E F1<8d65>3.291 E(x)-.2 E F0 .791
(beta-testers, feedback)3.291 F .791(ers, and contrib)-.1 F .791
(utors, especially Francois Pinard, Case)-.2 F(y)-.15 E .67
(Leedom, Robert Abramo)108 669.6 R .67(vitz, Stan Adermann, T)-.15 F .67
(erry Allen, Da)-.7 F .671(vid Bark)-.2 F(er)-.1 E(-Plummer)-.2 E 3.171
(,J)-.4 G .671(ohn Basrai, Neal)-3.171 F(Beck)108 681.6 Q(er)-.1 E 4.212
(,N)-.4 G 1.712(elson H.F)-4.212 F 4.212(.B)-.8 G 1.711
(eebe, benson@odi.com, Karl Berry)-4.212 F 4.211(,P)-.65 G 1.711
(eter A. Bigot, Simon Blanchard, K)-4.211 F(eith)-.25 E .185
(Bostic, Frederic Brehm, Ian Brockbank, Kin Cho, Nick Christopher)108
693.6 R 2.685(,B)-.4 G .185(rian Clapper)-2.685 F 2.685(,J)-.4 G(.T)
-2.685 E 2.685(.C)-.74 G .185(onklin, Jason)-2.685 F .799
(Coughlin, Bill Cox, Nick Cropper)108 705.6 R 3.298(,D)-.4 G -2.25 -.2
(av e)-3.298 H .798(Curtis, Scott Da)3.498 F .798
(vid Daniels, Chris G. Demetriou, Theo Der)-.2 F(-)-.2 E .693(aadt, Mik)
108 717.6 R 3.193(eD)-.1 G .693(onahue, Chuck Doucette, T)-3.193 F .693
(om Epperly)-.8 F 3.193(,L)-.65 G .693(eo Eskin, Chris F)-3.193 F(aylor)
-.15 E 3.193(,C)-.4 G .694(hris Flatters, Jon F)-3.193 F(or)-.15 E(-)-.2
E 2.138(rest, Jef)108 729.6 R(fre)-.25 E 4.638(yF)-.15 G 2.138
(riedl, Joe Gayda, Ka)-4.638 F -.15(ve)-.2 G 4.637(hR).15 G 4.637(.G)
-4.637 G 2.137(hazi, W)-4.637 F(olfg)-.8 E 2.137
(ang Glunz, Eric Goldman, Christopher M.)-.05 F 1.297
(Gould, Ulrich Grepel, Peer Griebel, Jan Hajic, Charles Hemphill, NOR)
108 741.6 R 3.797(OH)-.4 G 1.297(ideo, Jarkk)-3.797 F 3.798(oH)-.1 G
(ietaniemi,)-3.798 E 3.43(Scott Hofmann, Jef)108 753.6 R 5.93(fH)-.25 G
3.429
(onig, Dana Hudes, Eric Hughes, John Interrante, Ceriel Jacobs, Michal)
-5.93 F(Jae)108 765.6 Q 1.36(germann, Sakari Jalo)-.15 F -.25(va)-.15 G
1.36(ara, Jef).25 F(fre)-.25 E 3.86(yR)-.15 G 3.86(.J)-3.86 G 1.361
(ones, Henry Juengst, Klaus Kaempf, Jonathan I. Kamens,)-3.86 F -.7(Te)
108 777.6 S 1.253(rrence O Kane, Amir Katz, k).7 F(en@k)-.1 E 1.253
(en.hilco.com, K)-.1 F -.25(ev)-.25 G 1.253(in B. K).25 F(enn)-.25 E
2.553 -.65(y, S)-.15 H(te).65 E 1.553 -.15(ve K)-.25 H 1.253(irsch, W)
.15 F 1.252(infried K)-.4 F(oenig,)-.35 E 191.333(36 April)72 817.889 R
155.782(1995 V)2.5 F(ersion 2.5)-1.11 E 0 Cg EP
%%Page: 37 37
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 375.455(FLEX\(1\) FLEX\(1\))72 48 R 1.868
(Marq K)108 84 R 1.868(ole, Ronald Lamprecht, Gre)-.35 F 4.368(gL)-.15 G
1.868(ee, Rohan Lenard, Craig Leres, John Le)-4.368 F 1.868(vine, Ste)
-.25 F 2.169 -.15(ve L)-.25 H(iddle,).15 E(Da)108 96 Q .952(vid Lof)-.2
F .952(fredo, Mik)-.25 F 3.452(eL)-.1 G .952(ong, Mohamed el Lozy)-3.452
F 3.452(,B)-.65 G .952(rian Madsen, Malte, Joe Marshall, Bengt Martens-)
-3.452 F .486(son, Chris Metcalf, Luk)108 108 R 2.986(eM)-.1 G -.25(ew)
-2.986 G -.2(bu).25 G .486(rn, Jim Me).2 F .487(yering, R. Ale)-.15 F
.487(xander Milo)-.15 F .487(wski, Erik Naggum, G.T)-.25 F 2.987(.N)-.74
G(icol,)-2.987 E 1.378(Landon Noll, James Nordby)108 120 R 3.878(,M)-.65
G 1.378(arc Nozell, Richard Ohnemus, Karsten P)-3.878 F(ahnk)-.15 E
1.378(e, Sv)-.1 F 1.378(en P)-.15 F 1.377(anne, Roland)-.15 F .075
(Pesch, W)108 132 R .075
(alter Pelissero, Gaumond Pierre, Esmond Pitt, Jef Poskanzer)-.8 F 2.575
(,J)-.4 G .075(oe Rahmeh, Jarmo Raiha, Fred-)-2.575 F .137
(eric Raimbault, P)108 144 R .137(at Rankin, Rick Richardson, K)-.15 F
-.25(ev)-.25 G .136(in Rodgers, Kai Uwe Rommel, Jim Roskind, Alberto).25
F 2.461(Santini, Andreas Scherer)108 156 R 4.961(,D)-.4 G 2.462
(arrell Schiebel, Raf Schietekat, Doug Schmidt, Philippe Schnoebelen,)
-4.961 F .954(Andreas Schw)108 168 R .954(ab, Larry Schwimmer)-.1 F
3.453(,A)-.4 G(le)-3.453 E 3.453(xS)-.15 G(ie)-3.453 E .953(gel, Eck)
-.15 F .953(ehard Stolz, Jan-Erik Strvmquist, Mik)-.1 F 3.453(eS)-.1 G
(tump,)-3.453 E -.15(Pa)108 180 S 1.728(ul Stuart, Da).15 F 2.028 -.15
(ve T)-.2 H 1.728(allman, Ian Lance T)-.65 F(aylor)-.8 E 4.228(,C)-.4 G
1.728(hris The)-4.228 F -.1(wa)-.25 G 1.728(lt, Richard M. T).1 F(imone)
-.35 E 3.029 -.65(y, J)-.15 H 1.729(odi Tsai, P).65 F(aul)-.15 E -.45
(Tu)108 192 S(ineng).45 E .44(a, Gary W)-.05 F .44(eik, Frank Whale)-.8
F 1.74 -.65(y, G)-.15 H .44(erhard W).65 F .44(ilhelms, K)-.4 F .44
(ent W)-.25 F .439(illiams, K)-.4 F .439(en Y)-.25 F .439
(ap, Ron Zellar)-1 F 2.939(,N)-.4 G(athan)-2.939 E .662(Zelle, Da)108
204 R .662(vid Zuhn, and those whose names ha)-.2 F .963 -.15(ve s)-.2 H
.663(lipped my mar).15 F .663(ginal mail-archi)-.18 F .663
(ving skills b)-.25 F .663(ut whose)-.2 F(contrib)108 216 Q
(utions are appreciated all the same.)-.2 E 1.339(Thanks to K)108 232.8
R 1.338(eith Bostic, Jon F)-.25 F 1.338
(orrest, Noah Friedman, John Gilmore, Craig Leres, John Le)-.15 F 1.338
(vine, Bob)-.25 F(Mulcah)108 244.8 Q 1.675 -.65(y, G)-.05 H(.T).65 E
5.375(.N)-.74 G .375
(icol, Francois Pinard, Rich Salz, and Richard Stallman for help with v)
-5.375 F .376(arious distrib)-.25 F(u-)-.2 E(tion headaches.)108 256.8 Q
1.274(Thanks to Esmond Pitt and Earle Horton for 8-bit character suppor\
t; to Benson Mar)108 273.6 R 1.274(gulies and Fred)-.18 F(Burk)108 285.6
Q 3.039(ef)-.1 G .539(or C++ support; to K)-3.039 F .54(ent W)-.25 F .54
(illiams and T)-.4 F .54(om Epperly for C++ class support; to Ov)-.8 F
3.04(eE)-.15 G .54(werlid for)-3.04 F(support of NUL)108 297.6 Q -.55
('s)-.92 G 2.5(;a).55 G(nd to Eric Hughes for support of multiple b)-2.5
E(uf)-.2 E(fers.)-.25 E .483(This w)108 314.4 R .482(ork w)-.1 F .482
(as primarily done when I w)-.1 F .482(as with the Real T)-.1 F .482
(ime Systems Group at the La)-.35 F .482(wrence Berk)-.15 F(e-)-.1 E(le)
108 326.4 Q 2.5(yL)-.15 G(aboratory in Berk)-2.5 E(ele)-.1 E 1.3 -.65
(y, C)-.15 H 2.5(A. Man).65 F 2.5(yt)-.15 G
(hanks to all there for the support I recei)-2.5 E -.15(ve)-.25 G(d.).15
E(Send comments to v)108 343.2 Q(ern@ee.lbl.go)-.15 E -.65(v.)-.15 G
-1.11(Ve)72 817.889 S(rsion 2.5)1.11 E(April 1995)158.283 E(37)193.832 E
0 Cg EP
%%Trailer
end
%%EOF
