<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>sed(1) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
sed - the stream editor 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
sed [-n] [-g] [-e script ] [-f sfile ] [
file ] ... 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
Sed copies the named files (standard input default)
to the standard output, edited according to a script of commands.  <p>
An -e
option supplies a single edit command from the next argument; if there
are several of these they are executed in the order in  which they appear.
If there is just one -e option and no -f &rsquo;s, the -e  flag may be omitted. <p>
An
-f option causes commands to be taken from the file "sfile";  if there are
several  of these they are  executed in the order  in  which they appear;
-e and -f commands may be mixed. <p>
The -g option causes sed to act as though
every substitute  command in the script has a g suffix. <p>
The -n option suppresses
the default output. <p>
A script consists of commands, one per line, of the
following form: 
<p> <tt> </tt>&nbsp;<tt> </tt>&nbsp;[address [, address] ] function [arguments]<br>
 
<p> Normally sed cyclically copies a line of input into a  current text buffer,
then applies all commands whose addresses select the buffer in sequence,
then copies the buffer to standard output and clears it. <p>
The -n option suppresses
normal output (so that only p and w output is done). Also, some commands
(n, N) do their own line reads, and some others (d, D) cause all commands
following in the script to be skipped (the D command also suppresses the
clearing of the current text buffer that would normally occur before the
next cycle). <p>
It is also helpful to know that there&rsquo;s a second buffer (called
the &lsquo;hold space&rsquo; that can be copied or appended to or from or swapped with
the current text buffer. <p>
An address is: a decimal numeral (which matches
the line it numbers where line numbers start at 1 and run cumulatively
across files), or a &lsquo;$&rsquo; that addresses the last line of input, or a context
address, which is a &lsquo;/regular expression/&rsquo;, in the style of <a href='ed.1.html'>ed (1)</a>
 modified
thus: <p>

<ol>
<li>The escape sequence &lsquo;\n&rsquo;  matches a newline embedded in the buffer,
and &lsquo;\t&rsquo; matches a tab. </li><li>A command line with no addresses selects every buffer.
</li><li>A command line with one address selects every buffer that  matches that
address. </li><li>A command line with two addresses selects the inclusive range from
the first input buffer  that matches the first address through the next
input buffer  that matches the second. (If the second address is a number
less than or equal to the line number first  selected, only one line is
selected.) Once the second address is matched sed starts looking for the
first one again; thus,  any number of these  ranges will be matched. </li>
</ol>
<p>
The
negation operator &rsquo;!&rsquo; can prefix a command to apply it to every line not
selected by the address(es). <p>
In the following list of functions, the maximum
number of addresses permitted for each function is indicated in parentheses.
<p>
An argument denoted "text" consists of one or more lines,  with all but
the last ending with &lsquo;&rsquo; to hide the newline. <p>
Backslashes in text are treated
like backslashes in the replacement string of an &lsquo;s&rsquo; command and may be used
to protect initial whitespace (blanks and tabs) against the stripping that
is done on every line  of the script. <p>
An argument denoted "rfile" or "wfile"
 must be last on the command line. Each wfile is created before processing
begins.  There can be at most 10 distinct wfile arguments. 
<dl>

<dt>a "text"   (1)
</dt>
<dd>Append. Place text on output before reading the next input line. </dd>

<dt>b "label"
 (2) </dt>
<dd>Branch to the &lsquo;:&rsquo; command bearing the label.  If no label is  given,
branch to the end of the script. </dd>

<dt>c "text"   (2) </dt>
<dd>Change. Delete the current
text buffer.  With 0 or 1 address,  or at the end of a 2-address range, place
text on the output.  Start the next cycle. </dd>

<dt>d          (2) </dt>
<dd>Delete the current
text buffer. Start the next cycle. </dd>

<dt>D          (2) </dt>
<dd>Delete the first line of
the current text buffer (all chars up to the first newline). Start the next
cycle. </dd>

<dt>g          (2) </dt>
<dd>Replace the contents of the current text buffer with
the contents  of the hold space. </dd>

<dt>G          (2) </dt>
<dd>Append the contents of the
hold space to the current text buffer. </dd>

<dt>h          (2) </dt>
<dd>Copy the current text
buffer into the hold space. </dd>

<dt>H          (2) </dt>
<dd>Append a copy of the current
text buffer to the hold space. </dd>

<dt>i "text"   (1) </dt>
<dd>Insert. Place text on the standard
output. </dd>

<dt>l          (2) </dt>
<dd>List. Sends the pattern space to standard output. 
A "w" option may follow as in the s command below. Non-printable characters
expand to: 
<p>    \b  --  backspace (ASCII 08)<br>
    \t  --  tab       (ASCII 09)<br>
    \n  --  newline   (ASCII 10)<br>
    \r  --  return    (ASCII 13)<br>
    \e  --  escape    (ASCII 27)<br>
    \xx --  the ASCII character corresponding to 2 hex digits xx.<br>
 </dd>

<dt>Dump.  Hex-dump the pattern space to standard output. </dt>
<dd></dd>

<dt>n          (2) </dt>
<dd>Copy
the current text buffer to standard output. Read the next line of input
into it. </dd>

<dt>N          (2) </dt>
<dd>Append the next line of input to the current text
buffer, inserting an embedded newline between the two. The current line
number changes. </dd>

<dt>p          (2) </dt>
<dd>Print. Copy the current text buffer to the
standard output. </dd>

<dt>P          (2) </dt>
<dd>Copy the first line of the current text
buffer (all chars up to the first newline) to standard output. </dd>

<dt>q       
  (1) </dt>
<dd>Quit. Branch to the end of the script. Do not start a new cycle. </dd>

<dt>r "rfile"
 (1) </dt>
<dd>Read the contents of rfile. Place them on the output before reading
the next input line. </dd>

<dt>s /regular expression/replacement/flags         (2)
</dt>
<dd>Substitute the replacement for instances of the regular  expression in
the current text buffer.  Any character may be used instead of &lsquo;/&rsquo;. For a fuller
description see <a href='ed.1.html'>ed (1)</a>
. Flags is zero or more of the following: 
<p> g -- Global.
Substitute for all nonoverlapping instances of the string      rather than
just the first one.<br>
 
<p> p -- Print the pattern space if a replacement was made. 
<p> w -- Write. Append
the current text buffer to a file argument as in  a      w command if a
replacement is made. Standard output is used if no<br>
      file argument is given<br>
 
<p> </dd>

<dt>t "label"  (2) </dt>
<dd>Branch-if-test. Branch to the : command with the given label
if any substitutes have been made since the most recent read of an input
line or execution of a &lsquo;t&rsquo;or &lsquo;T&rsquo;.  If no label is given,  branch to the end
of the script. </dd>

<dt>T "label"  (2) </dt>
<dd>Branch-on-error. Branch to the : command with
the given label if  no substitutes have succeeded since the last input
line or t or T command. Branch to the end of the script if no label is given.
</dd>

<dt>w "wfile"  (2) </dt>
<dd>Write. Append the current text buffer to wfile . </dd>

<dt>W "wfile"
 (2) </dt>
<dd>Write first line.  Append first line  of the current text buffer to
wfile. </dd>

<dt>x          (2) </dt>
<dd>Exchange the contents of the current text buffer and
hold space. </dd>

<dt>y /string1/string2/      (2) </dt>
<dd>Translate. Replace each occurrence
of a character  in string1  with the corresponding character in string2.
 The lengths of  these strings must be equal. </dd>

<dt>! "command"              (2)
</dt>
<dd>All-but.  Apply the function (or group, if function is &lsquo;{&rsquo;) only to lines not
selected by the address(es). </dd>

<dt>: "label"  (0) </dt>
<dd>This command does nothing but
hold a label for &lsquo;b&rsquo; and &lsquo;t&rsquo; commands to branch to. </dd>

<dt>=          (1) </dt>
<dd>Place the
current line number on the standard output as a line. </dd>

<dt>{          (2) </dt>
<dd>Execute
the following commands through a matching &lsquo;}&rsquo; only when the current line
matches the address or address range given. </dd>
</dl>
<p>
An empty command is ignored.
<p>

<h2><a name='sect3' href='#toc3'>Portability</a></h2>
This tool was reverse-engineered from BSD 4.1 UNIX sed, and (as
far as the author&rsquo;s knowledge and tests can determine) is compatible  with
it. All documented features of BSD 4.1 sed are supported. <p>
One undocumented
feature (a leading &rsquo;n&rsquo; in the first comment having the same effect as an
 -n command-line option)  has been omitted. <p>
The following bugs and limitations
have been fixed: 
<dl>

<dt>* </dt>
<dd>There is no hidden length limit (40 in BSD sed) on w
file names. </dd>

<dt>* </dt>
<dd>There is no limit (8 in BSD sed) on the length of labels. </dd>

<dt>*
</dt>
<dd>The exchange command now works for long pattern and hold spaces. </dd>
</dl>
<p>
The following
enhancements to existing commands have been made: 
<dl>

<dt>* </dt>
<dd>a, i commands don&rsquo;t
insist on a leading backslash-\n in the text. </dd>

<dt>* </dt>
<dd>r, w commands don&rsquo;t insist
on whitespace before the filename. </dd>

<dt>* </dt>
<dd>The g, p and P options on s commands
may be given in any order. </dd>
</dl>
<p>
Some enhancements to regular-expression syntax
have been made: 
<dl>

<dt>* </dt>
<dd>\t is recognized in REs (and elswhere) as an escape for
tab. </dd>

<dt>* </dt>
<dd>In an RE, + calls for 1..n repeats of the previous pattern. </dd>
</dl>
<p>
The following
are completely new features: 
<dl>

<dt>* </dt>
<dd>The l command (list, undocumented and weaker
in BSD) </dd>

<dt>The &rsquo;L&rsquo; command (hex dump). </dt>
<dd></dd>

<dt>* </dt>
<dd>The W command (write first line of pattern
space to file). </dd>

<dt>* </dt>
<dd>The T command (branch on last substitute failed). </dd>

<dt>* </dt>
<dd>Trailing
comments are now allowed on command lines. </dd>
</dl>
<p>
In addition,  sed&rsquo;s error messages
have been made more specific and informative. <p>
The implementation is also
 significantly  smaller and  faster than  BSD 4.1 sed. It uses only the standard
I/O library and <a href='exit.3.html'>exit(3)</a>
. <p>

<h2><a name='sect4' href='#toc4'>See Also</a></h2>
<p>
<a href='ed.1.html'>ed(1)</a>
, <a href='grep.1.html'>grep(1)</a>
, <a href='awk.1.html'>awk(1)</a>
, <a href='lex.1.html'>lex(1)</a>
, <a href='regexp.5.html'>regexp(5)</a>

<p>

<h2><a name='sect5' href='#toc5'>Author</a></h2>
Eric S. Raymond &lt;esr@snark.thyrsus.com&gt; and Rene Rebe &lt;rene@exactcode.de&gt;.
This program is distributed under the GPL. 
<p> 
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Portability</a></li>
<li><a name='toc4' href='#sect4'>See Also</a></li>
<li><a name='toc5' href='#sect5'>Author</a></li>
</ul>
</body>
</html>
