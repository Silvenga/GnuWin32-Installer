<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>SHAR(1) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
shar - create shell archives 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>shar [ options ] file ...
shar -S [ options ]
</pre>
<h2><a name='sect2' href='#toc2'>Description</a></h2>
Shar creates "shell archives" (or shar files) which are in text
format and can be mailed.  These files may be unpacked later by executing
them with /bin/sh.  The resulting archive is sent to standard out unless
the <i>-o</i> option is given.  A wide range of features provide extensive flexibility
in manufacturing shars and in specifying shar "smartness". Archives may
be "vanilla" or comprehensive. 
<h2><a name='sect3' href='#toc3'>Options</a></h2>
<p>
Options have a one letter version
starting with - or a long version starting with --.  The exception is <i>--help</i>,
<i>--version</i>, <i>--no-i18n</i> and <i>--print-text-domain-dir</i> which does not have short versions.
Mandatory arguments to long options are mandatory for short options too.
Options can be given in any order.  Some options depend on each other: <br>
<pre><tt> </tt>&nbsp;<tt> </tt>&nbsp;The -o option is required if the -l or -L option is used.
<tt> </tt>&nbsp;<tt> </tt>&nbsp;The -n option is required if the -a option is used.
<tt> </tt>&nbsp;<tt> </tt>&nbsp;See -V below.
</pre>
<h3><a name='sect4' href='#toc4'>Giving feedback:</a></h3>

<dl>

<dt><i>--help</i></dt>
<dd>Print a help summary on standard output, then immediately
exits. </dd>

<dt><i>--version</i></dt>
<dd>Print the version number of the program on standard output,
then immediately exits. </dd>

<dt><i>-q</i> <i>--quiet</i> <i>--silent</i></dt>
<dd>Do not output verbose messages locally
when producing the archive. </dd>
</dl>

<h3><a name='sect5' href='#toc5'>Selecting files:</a></h3>

<dl>

<dt><i>-p</i>  <i>--intermix-type</i></dt>
<dd>Allow positional
parameter options.  The options <i>-B</i>, <i>-T</i>, <i>-z</i> and <i>-Z</i> may be embedded, and files
to the right of the option will be processed in the specified mode. </dd>

<dt><i>-S</i>  <i>--stdin-file-list</i></dt>
<dd>Read
list of files to be packed from the standard input rather than from the
command line.  Input must be in a form similar to that generated by the
find command, one filename per line.  This switch is especially useful when
the command line will not hold the list of files to be packed.  For example:
<br>
<pre>find . -type f -print | sort | shar -S -Z -L50 -o /tmp/big
</pre>If <i>-p</i> is specified on the command line, then the options <i>-B</i>, <i>-T</i>, <i>-z</i> and <i>-Z</i> may
be included in the standard input (on a line separate from filenames). The
maximum number of lines of standard input, file names and options, may
not exceed 1024. </dd>
</dl>

<h3><a name='sect6' href='#toc6'>Splitting output:</a></h3>

<dl>

<dt><i>-o</i> XXX  <i>--output-prefix=</i>XXX</dt>
<dd>Save the archive
to files XXX.01 thru XXX.nn instead of sending it to standard out. Must be
used when the <i>-l</i> or the <i>-L</i> switches are used. </dd>

<dt><i>-l</i> XX  <i>--whole-size-limit=</i>XX</dt>
<dd>Limit
the output file size to XXk bytes but don&rsquo;t split input files. </dd>

<dt><i>-L</i> XX  <i>--split-size-limit=</i>XX</dt>
<dd>Limit
output file size to XXk bytes and split files if necessary.  The archive
parts created with this option must be unpacked in correct order. </dd>
</dl>

<h3><a name='sect7' href='#toc7'>Controlling
the shar headers:</a></h3>

<dl>

<dt><i>-n</i> name  <i>--archive-name=</i>name</dt>
<dd>Name of archive to be included
in the header of the shar files. See the <i>-a</i> switch. </dd>

<dt><i>-s</i> who@where  <i>--submitter=</i>who@where</dt>
<dd>Override
automatically determined submitter name. </dd>

<dt><i>-a</i>  <i>--net-headers</i></dt>
<dd>Allows automatic generation
of headers: <br>
<pre><tt> </tt>&nbsp;<tt> </tt>&nbsp;Submitted-by: who@where
<tt> </tt>&nbsp;<tt> </tt>&nbsp;Archive-name: &lt;name&gt;/part##
</pre>The &lt;name&gt; must be given with the <i>-n</i> switch. If name includes a &rsquo;/&rsquo; "/part" isn&rsquo;t
used.  Thus: <blockquote><br>
<pre>-n xyzzy<tt> </tt>&nbsp;<tt> </tt>&nbsp;produces:
<tt> </tt>&nbsp;<tt> </tt>&nbsp;xyzzy/part01
<tt> </tt>&nbsp;<tt> </tt>&nbsp;xyzzy/part02
-n xyzzy/patch<tt> </tt>&nbsp;<tt> </tt>&nbsp;produces:
<tt> </tt>&nbsp;<tt> </tt>&nbsp;xyzzy/patch01
<tt> </tt>&nbsp;<tt> </tt>&nbsp;xyzzy/patch02
-n xyzzy/patch01.<tt> </tt>&nbsp;<tt> </tt>&nbsp;produces:
<tt> </tt>&nbsp;<tt> </tt>&nbsp;xyzzy/patch01.01
<tt> </tt>&nbsp;<tt> </tt>&nbsp;xyzzy/patch01.02
</pre>
<dl>

<dt>The who@where can be </dt>
<dd>explicitly stated with the <i>-s</i> switch if the default
isn&rsquo;t appropriate. Who@where is essentially built as &lsquo;whoami&lsquo;@&lsquo;uname&lsquo;. </dd>

<dt><i>-c</i>  <i>--cut-mark</i></dt>
<dd>Start
the shar with a cut line.  A line saying &rsquo;Cut here&rsquo; is placed at the start
of each output file. </dd>
</dl>

<h3><a name='sect8' href='#toc8'>Selecting how files are stocked:</a></h3>

<dl>

<dt><i>-M</i>  <i>--mixed-uuencode</i></dt>
<dd>Mixed
mode.  Determine if the files are text or binary and archive correctly (default).
 Files found to be binary are uudecoded prior to packing (USE OF UUENCODE
IS NOT APPRECIATED BY MANY ON THE NET). </dd>

<dt><i>-T</i>  <i>--text-files</i></dt>
<dd>Treat all files as text.
</dd>

<dt><i>-B</i>  <i>--uuencode</i></dt>
<dd>Treat all files as binary, use uuencode prior to packing.  This
increases the size of the archive.  The recipient must have uudecode in
order to unpack. (USE OF UUENCODE IS NOT APPRECIATED BY MANY ON THE NET).
</dd>

<dt><i>-z</i>  <i>--gzip</i></dt>
<dd>Gzip and uuencode all files prior to packing.  The recipient must
have uudecode and gzip in order to unpack (USE OF UUENCODE AND GZIP IS
NOT APPRECIATED BY MANY ON THE NET). </dd>

<dt><i>-g</i> LEVEL  <i>--level-for-gzip=</i>LEVEL</dt>
<dd>When doing
compression, use &rsquo;-LEVEL&rsquo; as a parameter to gzip.  Default is 9. The <i>-g</i> option
turns on the <i>-z</i> option by default. </dd>

<dt><i>-Z</i>  <i>--compress</i></dt>
<dd>Compress and uuencode all files
prior to packing.  The recipient must have uudecode and compress in order
to unpack (USE OF UUENCODE AND COMPRESS IS NOT APPRECIATED BY MANY ON THE
NET). Option <i>-C</i> is synonymous to <i>-Z</i>, but is being deprecated. </dd>

<dt><i>-b</i> BITS  <i>--bits-per-code=</i>BITS</dt>
<dd>When
doing compression, use &rsquo;-bBITS&rsquo; as a parameter to compress. The <i>-B</i> option turns
on the <i>-Z</i> option by default.  Default value is 12. </dd>
</dl>

<h3><a name='sect9' href='#toc9'>Protecting against transmission
errors:</a></h3>

<dl>

<dt><i>-w</i>  <i>--no-character-count</i></dt>
<dd>Do NOT check each file with &rsquo;wc -c&rsquo; after unpack.
 The default is to check. </dd>

<dt><i>-D</i>  <i>--no-md5-digest</i></dt>
<dd>Do NOT use &rsquo;md5sum&rsquo; digest to verify
the unpacked files. The default is to check. </dd>

<dt><i>-F</i>  <i>--force-prefix</i></dt>
<dd>Forces the prefix
character (normally &rsquo;X&rsquo; unless the parameter to the <i>-d</i> option starts with
&rsquo;X&rsquo;) to be prepended to every line even if not required.  This option may
slightly increase the size of the archive, especially if <i>-B</i> or <i>-Z</i> is used.
</dd>

<dt><i>-d</i> XXX  <i>--here-delimiter=</i>XXX</dt>
<dd>Use XXX to delimit the files in the shar instead
of SHAR_EOF. This is for those who want to personalize their shar files.
</dd>
</dl>

<h3><a name='sect10' href='#toc10'>Producing different kinds of shars:</a></h3>

<dl>

<dt><i>-V</i>  <i>--vanilla-operation</i></dt>
<dd>Produce "vanilla"
shars which rely only upon the existence of sed and echo in the unsharing
environment.  In addition, "if test" must also be supported unless the <i>-x</i>
option is used.  The <i>-V</i> silently disables options offensive to the "network
cop" (or "brown shirt"), but does warn you if it is specified with <i>-B</i>, <i>-z</i>,
<i>-Z</i>, <i>-p</i> or <i>-M</i> (any of which does or might require uudecode, gzip or compress
in the unsharing environment). </dd>

<dt><i>-P</i>  <i>--no-piping</i></dt>
<dd>Use temporary files instead of
pipes in the shar file. </dd>

<dt><i>-x</i>  <i>--no-check-existing</i></dt>
<dd>Overwrite existing files without
checking. If neither <i>-x</i> nor <i>-X</i> is specified, the unpack will check for and
not overwrite existing files when unpacking the archive. If <i>-c</i> is passed
as a parameter to the script when unpacking: 
<p> <blockquote></dd>
</dl>
sh archive -c </blockquote>

<dl>

<dt>then existing
files will be overwritten unconditionally. </dt>
<dd></dd>

<dt><i>-X</i>  <i>--query-user</i></dt>
<dd>When unpacking, interactively
ask the user if files should be overwritten. (DO NOT USE FOR SHARS SUBMITTED
TO THE NET). </dd>

<dt><i>-m</i>  <i>--no-timestamp</i></dt>
<dd>Avoid generating &rsquo;touch&rsquo; commands to restore the
file modification dates when unpacking files from the archive. </dd>

<dt><i>-Q</i>  <i>--quiet-unshar</i></dt>
<dd>Verbose
OFF.  Disables the inclusion of comments to be output when the archive is
unpacked. </dd>

<dt><i>-f</i>  <i>--basename</i></dt>
<dd>Restore by filename only, rather than path.  This option
causes only file names to be used, which is useful when building a shar
from several directories, or another directory.  Note that if a directory
name is passed to shar, the substructure of that directory will be restored
whether <i>-f</i> is specified or not. </dd>
</dl>

<h3><a name='sect11' href='#toc11'>Internationalization:</a></h3>

<dl>

<dt><i>--no-i18n</i></dt>
<dd>Do not produce
internationalized shell archives, use default english messages. By default,
shar produces archives that will try to output messages in the unpackers
preferred language (as determined by the LANG/LC_MESSAGES environmental
variables) when they are unpacked. If no message file for the unpackers
language is found at unpack time, messages will be in english. </dd>

<dt><i>--print-text-domain-dir</i></dt>
<dd>Prints
the directory shar looks in to find messages files for different languages,
then immediately exits. </dd>
</dl>

<h2><a name='sect12' href='#toc12'>Examples</a></h2>
<br>
<pre>shar *.c &gt; cprog.shar<tt> </tt>&nbsp;<tt> </tt>&nbsp;# all C prog sources
shar -Q *.[ch] &gt; cprog.shar<tt> </tt>&nbsp;<tt> </tt>&nbsp;# non-verbose, .c and .h files
shar -B -l28 -oarc.sh *.arc<tt> </tt>&nbsp;<tt> </tt>&nbsp;# all binary .arc files, into
<tt> </tt>&nbsp;<tt> </tt>&nbsp;# files arc.sh.01 thru arc.sh.NN
shar -f /lcl/src/u*.c &gt; u.sh<tt> </tt>&nbsp;<tt> </tt>&nbsp;# use only the filenames
</pre>
<h2><a name='sect13' href='#toc13'><p>
Warnings</a></h2>
<p>
No chmod or touch is ever generated for directories created when
unpacking. Thus, if a directory is given to shar, the protection and modification
dates of corresponding unpacked directory may not match those of the original.
<p>
If a directory is passed to shar, it may be scanned more than once.  Therefore,
one should be careful not change the directory while shar is running. <p>
Be
careful that the output file(s) are not included in the inputs or shar
may loop until the disk fills up.  Be particularly careful when a directory
is passed to shar that the output files are not in that directory (or a
subdirectory of that directory). <p>
Use of the <i>-B</i>, <i>-z</i> or <i>-Z</i>, and especially <i>-M</i>,
may slow the archive process considerably, depending on the number of files.
<p>
Use of <i>-X</i> produces shars which <i>WILL</i> cause problems with many unshar procedures.
 Use this feature only for archives to be passed among agreeable parties.
 Certainly, <i>-X</i> is NOT for shell archives which are to be submitted to Usenet.
 Usage of <i>-B</i>, <i>-z</i> or <i>-Z</i> in net shars will cause you to be flamed off the earth.
 Not using <i>-m</i> or not using <i>-F</i> may also get you occasional complaints. 
<h2><a name='sect14' href='#toc14'>See
Also</a></h2>
<p>
<a href='unshar.1.html'>unshar(1)</a>
 
<h2><a name='sect15' href='#toc15'>Diagnostics</a></h2>
<p>
Error messages for illegal or incompatible options,
for non-regular, missing or inaccessible files or for (unlikely) memory
allocation failure. 
<h2><a name='sect16' href='#toc16'>Authors</a></h2>
The shar and unshar programs is the collective
work of many authors. Many people contributed by reporting problems, suggesting
various improvements or submitting actual code.  A list of these people
is in the THANKS file in the sharutils distribution. <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Options</a></li>
<ul>
<li><a name='toc4' href='#sect4'>Giving feedback:</a></li>
<li><a name='toc5' href='#sect5'>Selecting files:</a></li>
<li><a name='toc6' href='#sect6'>Splitting output:</a></li>
<li><a name='toc7' href='#sect7'>Controlling the shar headers:</a></li>
<li><a name='toc8' href='#sect8'>Selecting how files are stocked:</a></li>
<li><a name='toc9' href='#sect9'>Protecting against transmission errors:</a></li>
<li><a name='toc10' href='#sect10'>Producing different kinds of shars:</a></li>
<li><a name='toc11' href='#sect11'>Internationalization:</a></li>
</ul>
<li><a name='toc12' href='#sect12'>Examples</a></li>
<li><a name='toc13' href='#sect13'>Warnings</a></li>
<li><a name='toc14' href='#sect14'>See Also</a></li>
<li><a name='toc15' href='#sect15'>Diagnostics</a></li>
<li><a name='toc16' href='#sect16'>Authors</a></li>
</ul>
</body>
</html>
