<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>LC_REGISTER_VAR(3) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
lc_register_var - Register a variable for automatic processing. 
<p> 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>#include
&lt;libconfig.h&gt;</b> <p>
<b>int lc_register_var(const char *</b><i>var</i><b>, lc_var_type_t </b><i>type</i><b>, void
*</b><i>data</i><b>, char </b><i>opt</i><b>);</b> 
<p> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
The <a href='lc_register_var.3.html'><b>lc_register_var</b>(3)</a>
 function registers
a variable for automatic processing. The <i>var</i> parameter specifies the variable
name for processing.  This name can exist in a configuration file, an environment
variable, or on the command line. The <i>opt</i> parameter specifies the single
letter short option that can be specified on the command line to change
the value of the variable specified by the <i>data</i> parameter.  A value of &rsquo;
&rsquo; can be specified for no short option. 
<p> The <i>type</i> parameter is of type <i>lc_var_type_t</i>
which specifies the type of the <i>data</i> parameter. Valid values for <i>type</i> are:

<dl>

<dt>LC_VAR_STRING </dt>
<dd>For a string type variable.  The data passed should be of
type "char **".  The data will be set to a region of memory that has been
allocated with malloc() and can be released be free()&rsquo;d. </dd>

<dt>LC_VAR_LONG_LONG
</dt>
<dd>For a "long long" integer type variable.  The data passed should be of type
"long long *". </dd>

<dt>LC_VAR_LONG </dt>
<dd>For a "long" integer type variable.  The data
passed should be of type "long *". </dd>

<dt>LC_VAR_INT </dt>
<dd>For a "int" integer type variable.
 The data passed should be of type "int *". </dd>

<dt>LC_VAR_SHORT </dt>
<dd>For a "short" integer
type variable.  The data passed should be of type "short *". </dd>

<dt>LC_VAR_BOOL
</dt>
<dd>For a boolean type variable.  The data passed should be of type "int *".
 When a true value is specified the variable is set to 1.  When a false
value is specified the variable is set to 0.  Any other value sets the variable
to -1.  Valid true values are: enable, true, yes, on, y, and 1.  Valid false
values are: disable, false, off, no, n, and 0. </dd>

<dt>LC_VAR_FILENAME </dt>
<dd>Not implemented.
</dd>

<dt>LC_VAR_DIRECTORY </dt>
<dd>Not implemented. </dd>

<dt>LC_VAR_SIZE_LONG_LONG </dt>
<dd>For a "long long"
integer type that can have size modifiers, such as &rsquo;G&rsquo; or gigabytes, &rsquo;M&rsquo; for
megabytes, &rsquo;K&rsquo; for kilobytes.  The data passed should be of type "long long
*". </dd>

<dt>LC_VAR_SIZE_LONG </dt>
<dd>For a "long" integer type that can have size modifiers,
such as &rsquo;G&rsquo; or gigabytes, &rsquo;M&rsquo; for megabytes, &rsquo;K&rsquo; for kilobytes.  The data passed
should be of type "long *". </dd>

<dt>LC_VAR_SIZE_INT </dt>
<dd>For a "int" integer type that
can have size modifiers, such as &rsquo;G&rsquo; or gigabytes, &rsquo;M&rsquo; for megabytes, &rsquo;K&rsquo; for
kilobytes.  The data passed should be of type "int *". </dd>

<dt>LC_VAR_SIZE_SHORT
</dt>
<dd>For a "short" integer type that can have size modifiers, such as &rsquo;G&rsquo; or gigabytes,
&rsquo;M&rsquo; for megabytes, &rsquo;K&rsquo; for kilobytes.  The data passed should be of type "short
*". </dd>

<dt>LC_VAR_SIZE_SIZE_T </dt>
<dd>For a "size_t" data type that can have size modifiers,
such as &rsquo;G&rsquo; or gigabytes, &rsquo;M&rsquo; for megabytes, &rsquo;K&rsquo; for kilobytes.  The data passed
should be of type "size_t *". </dd>

<dt>LC_VAR_TIME </dt>
<dd>Not implemented. </dd>

<dt>LC_VAR_DATE </dt>
<dd>Not
implemented. </dd>

<dt>LC_VAR_BOOL_BY_EXISTANCE </dt>
<dd>This type of variable takes no arguments,
it is set to <a href='true.1.html'>true (1)</a>
 by its existance in a configuration file, environment
variable, or on the command line.  If it is not specified, the value of
the data passed is not changed.  The data passed should be of type "int
*". </dd>

<dt>LC_VAR_CIDR </dt>
<dd>This type of variable accepts a CIDR format netmask and
IP.  This is not yet implemented. (XXX) </dd>

<dt>LC_VAR_IP </dt>
<dd>This type of variable accepts
an IP address in decimal-dot format.  The value is stored in a uint32_t. </dd>

<dt>LC_VAR_ADDR
</dt>
<dd>This type of variable accepts an address in either host or decimal-dot format.
 The value is stored in a uint32_t.  This is not yet implemented. (XXX) 
<p>
</dd>
</dl>

<h2><a name='sect3' href='#toc3'>Return Value</a></h2>
On success 0 is returned, otherwise -1 is returned. 
<p> 
<h2><a name='sect4' href='#toc4'>Example</a></h2>
<br>
<pre>#include &lt;libconfig.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
int main(int argc, char **argv) {
<tt> </tt>&nbsp;<tt> </tt>&nbsp;int lc_p_ret, lc_rv_ret;
<tt> </tt>&nbsp;<tt> </tt>&nbsp;char *filename = NULL;
<tt> </tt>&nbsp;<tt> </tt>&nbsp;long int counter = -1;
<tt> </tt>&nbsp;<tt> </tt>&nbsp;lc_rv_ret = lc_register_var("Begin", LC_VAR_LONG,
<tt> </tt>&nbsp;<tt> </tt>&nbsp;                            &amp;counter, &rsquo;c&rsquo;);
<tt> </tt>&nbsp;<tt> </tt>&nbsp;if (lc_rv_ret != 0) {
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;fprintf(stderr, "Error registering variable: %i.\n",
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;        lc_geterrno());
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;return(EXIT_FAILURE);
<tt> </tt>&nbsp;<tt> </tt>&nbsp;}
<tt> </tt>&nbsp;<tt> </tt>&nbsp;lc_rv_ret = lc_register_var("File", LC_VAR_STRING,
<tt> </tt>&nbsp;<tt> </tt>&nbsp;                            &amp;filename, &rsquo;f&rsquo;);
<tt> </tt>&nbsp;<tt> </tt>&nbsp;if (lc_rv_ret != 0) {
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;fprintf(stderr, "Error registering variable: %i.\n",
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;        lc_geterrno());
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;return(EXIT_FAILURE);
<tt> </tt>&nbsp;<tt> </tt>&nbsp;}
<tt> </tt>&nbsp;<tt> </tt>&nbsp;lc_p_ret = lc_process(argc, argv, "example", LC_CONF_APACHE,
<tt> </tt>&nbsp;<tt> </tt>&nbsp;                      NULL);
<tt> </tt>&nbsp;<tt> </tt>&nbsp;lc_cleanup();
<tt> </tt>&nbsp;<tt> </tt>&nbsp;if (lc_p_ret != 0) {
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;fprintf(stderr, "Error processing configuration: \
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;        %s\n", lc_geterrstr());
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;return(EXIT_FAILURE);
<tt> </tt>&nbsp;<tt> </tt>&nbsp;}
<tt> </tt>&nbsp;<tt> </tt>&nbsp;if (filename != NULL) {
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;printf("File specified was: %s\n", filename);
<tt> </tt>&nbsp;<tt> </tt>&nbsp;} else {
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;printf("No filename specified.\n");
<tt> </tt>&nbsp;<tt> </tt>&nbsp;}
<tt> </tt>&nbsp;<tt> </tt>&nbsp;if (counter != -1) {
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;printf("Counter was specified as: %ld\n", counter);
<tt> </tt>&nbsp;<tt> </tt>&nbsp;} else {
<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;printf("Counter was not specified.\n");
<tt> </tt>&nbsp;<tt> </tt>&nbsp;}
<tt> </tt>&nbsp;<tt> </tt>&nbsp;return(EXIT_SUCCESS);
}
</pre>
<p> 
<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='lc_register_callback.3.html'><b>lc_register_callback</b>(3)</a>
, <a href='lc_geterrno.3.html'><b>lc_geterrno</b>(3)</a>
, <a href='lc_geterrstr.3.html'><b>lc_geterrstr</b>(3)</a>
, <a href='lc_cleanup.3.html'><b>lc_cleanup</b>(3)</a>
,
<a href='lc_process_file.3.html'><b>lc_process_file</b>(3)</a>
, <a href='lc_process.3.html'><b>lc_process</b>(3)</a>
 <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Return Value</a></li>
<li><a name='toc4' href='#sect4'>Example</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
</ul>
</body>
</html>
