<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- http://linux-ntfs.sourceforge.net/ntfs/files/usnjrnl.html -->

<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <meta name="description" content="NTFS Documentation">
    <link rel="stylesheet" type="text/css" href="../style/ntfsdoc.css">
    <link rel="start" type="text/html" href="../index.html" title="NTFS Documentation">
    <title>UsnJrnl (Any) - File - NTFS Documentation</title>
  </head>

  <body>
    <table border="0" class="toolbar" summary="" cellspacing="0">
      <tr>
        <td class="toolbar"><a accesskey="1" class="toolbar" href="../index.html">Home</a></td>
        <td class="toolbar">&nbsp;</td>
        <td class="toolbar"><a accesskey="2" class="toolbar" href="../files/index.html">Files</a></td>
        <td class="toolbar">&nbsp;</td>
        <td class="toolbar"><a accesskey="3" class="toolbar" href="../attributes/index.html">Attributes</a></td>
        <td class="toolbar">&nbsp;</td>
        <td class="toolbar"><a accesskey="4" class="toolbar" href="../concepts/index.html">Concepts</a></td>
        <td class="toolbar">&nbsp;</td>
        <td class="toolbar"><a accesskey="5" class="toolbar" href="../help/glossary.html">Glossary</a></td>
        <td class="toolbar">&nbsp;</td>
        <td class="toolbar"><a accesskey="6" class="toolbar" href="../help/index.html">Help</a></td>
      </tr>
    </table>

    <h1>File - $UsnJrnl (Any)</h1>
    <a class="prevnext" accesskey="," href="reparse.html">Previous</a>
    <a class="prevnext" accesskey="." href="index.html">Next</a> 

    <h2>Overview</h2>

    <h2><a class="heading" href="../attributes/index.html">Attributes</a></h2>

    <table border="1" summary="" cellspacing="0">
      <tr>
        <th class="numeric">Type</th>
        <th>Description</th>
        <th>Name</th>
      </tr>
      <tr>
        <td class="numeric"><a class="numeric" href="../attributes/standard_information.html">0x10</a></td>
        <td><a href="../attributes/standard_information.html">$STANDARD_INFORMATION</a></td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td class="numeric"><a class="numeric" href="../attributes/file_name.html">0x30</a></td>
        <td><a href="../attributes/file_name.html">$FILE_NAME</a></td>
        <td>$UsnJrnl</td>
      </tr>
      <tr>
        <td class="numeric"><a class="numeric" href="../attributes/index_root.html">0x80</a></td>
        <td><a href="../attributes/data.html">$DATA</a></td>
        <td>$J</td>
      </tr>
      <tr>
        <td class="numeric"><a class="numeric" href="../attributes/index_root.html">0x80</a></td>
        <td><a href="../attributes/data.html">$DATA</a></td>
        <td>$Max</td>
      </tr>
    </table>

    <h2>Layout of the File</h2>
    <a name="j"></a>
    <h3>$J Data Stream</h3>

    <pre>
    repeating group
    </pre>

    <table border="1" summary="" cellspacing="0">
      <tr>
        <th class="numeric">Offset</th>
        <th class="numeric">Size</th>
        <th>Description</th>
      </tr>
      <tr>
        <td class="numeric">0x00</td>
        <td class="numeric">4</td>
        <td>Size of entry</td>
      </tr>
      <tr>
        <td class="numeric">0x04</td>
        <td class="numeric">4</td>
        <td>? (Always 0x02)</td>
      </tr>
      <tr>
        <td class="numeric">0x08</td>
        <td class="numeric">8</td>
        <td>MFT Reference 1</td>
      </tr>
      <tr>
        <td class="numeric">0x10</td>
        <td class="numeric">8</td>
        <td>MFT Reference 2</td>
      </tr>
      <tr>
        <td class="numeric">0x18</td>
        <td class="numeric">8</td>
        <td>Offset of this entry in $J</td>
      </tr>
      <tr>
        <td class="numeric">0x20</td>
        <td class="numeric">8</td>
        <td>Timestamp</td>
      </tr>
      <tr>
        <td class="numeric">0x28</td>
        <td class="numeric">8</td>
        <td>Flags? (bitfield?)</td>
      </tr>
      <tr>
        <td class="numeric">0x30</td>
        <td class="numeric">8</td>
        <td>Flags? (bitfield?)</td>
      </tr>
      <tr>
        <td class="numeric">0x38</td>
        <td class="numeric">2</td>
        <td>Size of filename (in bytes)</td>
      </tr>
      <tr>
        <td class="numeric">0x3A</td>
        <td class="numeric">2</td>
        <td>Offset to filename</td>
      </tr>
      <tr>
        <td class="numeric">0x3C</td>
        <td class="numeric">V</td>
        <td>Filename</td>
      </tr>
      <tr>
        <td class="numeric">V+0x3C</td>
        <td class="numeric">P</td>
        <td>Padding (align to 8 bytes)</td>
      </tr>
    </table>

    <a name="max"></a>
    <h3>$Max Data Stream</h3>

    <pre>
    one block -- fixed size?
    </pre>

    <table border="1" summary="" cellspacing="0">
      <tr>
        <th class="numeric">Offset</th>
        <th class="numeric">Size</th>
        <th>Description</th>
      </tr>
      <tr>
        <td class="numeric">0x00</td>
        <td class="numeric">8</td>
        <td>?</td>
      </tr>
      <tr>
        <td class="numeric">0x08</td>
        <td class="numeric">8</td>
        <td>?</td>
      </tr>
      <tr>
        <td class="numeric">0x10</td>
        <td class="numeric">8</td>
        <td>Time</td>
      </tr>
      <tr>
        <td class="numeric">0x18</td>
        <td class="numeric">8</td>
        <td>?</td>
      </tr>
    </table>

    <h2>Notes</h2>

    <h3>Other Information</h3>
    

    <br>
    <a class="contact" href="http://linux-ntfs.sourceforge.net/ntfs/files/usnjrnl.html">Online</a>
    <!-- The two validators will only work if this page is visible on the web -->
    <a class="contact" href="http://validator.w3.org/check/referer">Validate HTML</a>
    <a class="contact" href="http://jigsaw.w3.org/css-validator/check/referer">Validate CSS</a>
    <a class="contact" href="mailto:webmaster@flatcap.org">$Id: usnjrnl.html,v 1.9 2001/07/11 16:31:45 flatcap Exp $</a>
  </body>
</html>

