<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Gri: Write commands</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000EE" vlink="#551A8B" alink="FF0000">
<!-- newfile Write.html "Gri: Write commands" "Gri Commands" --> 

<!-- @node   Write, Write Columns, While, List Of Gri Commands -->
<a name="Write" ></a>

<img src="./resources/top_banner.gif" alt="navigation map" usemap="#navigate_top" border="0">
<table summary="top banner" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="150" valign="top">
<font size=-1>
<br>
Chapters:
<br>
&nbsp;&nbsp;<a href="Introduction.html">1: Introduction</a><br>
&nbsp;&nbsp;<a href="SimpleExample.html">2: Simple example</a><br>
&nbsp;&nbsp;<a href="InvokingGri.html">3: Invocation</a><br>
&nbsp;&nbsp;<a href="GettingMoreControl.html">4: Finer Control</a><br>
&nbsp;&nbsp;<a href="X-Y.html">5: X-Y Plots</a><br>
&nbsp;&nbsp;<a href="ContourPlots.html">6: Contour Plots</a><br>
&nbsp;&nbsp;<a href="Images.html">7: Image Plots</a><br>
&nbsp;&nbsp;<a href="Examples.html">8: Examples</a><br>
&nbsp;&nbsp;<a href="Commands.html">9: Gri Commands</a><br>
&nbsp;&nbsp;<a href="Programming.html">10: Programming</a><br>
&nbsp;&nbsp;<a href="Environment.html">11: Environment</a><br>
&nbsp;&nbsp;<a href="Emacs.html">12: Emacs Mode</a><br>
&nbsp;&nbsp;<a href="History.html">13: History</a><br>
&nbsp;&nbsp;<a href="Installation.html">14: Installation</a><br>
&nbsp;&nbsp;<a href="Bugs.html">15: Gri Bugs</a><br>
&nbsp;&nbsp;<a href="TestSuite.html">16: Test Suite</a><br>
&nbsp;&nbsp;<a href="GriInThePress.html">17: Gri in Press</a><br>
&nbsp;&nbsp;<a href="Acknowledgments.html">18: Acknowledgments</a><br>
&nbsp;&nbsp;<a href="License.html">19: License</a><br>
<br>
Indices:<br>
&nbsp;&nbsp;<a href="ConceptIndex.html"><i>Concepts</i></a><br>
&nbsp;&nbsp;<a href="CommandIndex.html"><i>Commands</i></a><br>
&nbsp;&nbsp;<a href="BuiltinIndex.html"><i>Variables</i></a><br>
</font>
<td width="500" valign="top">
<map name="navigate_top">
<area alt="index.html#Top" shape="rect" coords="5,2,218,24" href="index.html#Top">
<area alt="ListOfGriCommands.html#ListOfGriCommands" shape="rect" coords="516,2,532,24" href="ListOfGriCommands.html#ListOfGriCommands">
<area alt="Gri: `while' command" shape="rect" coords="557,2,573,24" href="While.html">
<area alt="Gri: programming" shape="rect" coords="581,2,599,24" href="Programming.html">
</map>
<map name="navigate_bottom">
<area alt="index.html#Top" shape="rect" coords="5,2,218,24" href="index.html#Top">
<area alt="Gri: programming" shape="rect" coords="581,2,599,24" href="Programming.html">
</map>
<h3>9.3.53: The `<font color="#82140F"><code>write</code></font>' commands</h3>

<!-- latex: \index{write} -->
The `<font color="#82140F"><code>write</code></font>' commands write various things.
<p>
If the filename is `<font color="#82140F"><samp>stdout</samp></font>', the information is written to the
standard output device (ie, the screen); if it is `<font color="#82140F"><samp>stderr</samp></font>', the
information is written to the standard error device (ie, the screen).
<p>
<b>IMPORTANT NOTE</b>: The `<font color="#82140F"><code>write</code></font>' commands <b>append</b> to the
output file, as opposed to overwriting the contents of the file.
Therefore if you've run the Gri script before, and want fresh output,
make sure to do something like the following
<p>
<TABLE SUMMARY="Example" BORDER="0" BGCOLOR="#efefef" WIDTH="100%">
<TR>
<TD>
<PRE>
<font color="#82140F">
system rm -f the_grid.dat
write grid to grid.dat
</font></PRE>
</TD>
</TR>
</TABLE>
<p>
<UL>
<LI><a href="Write.html#WriteColumns">Write Columns</a>: Write columns to a file
<LI><a href="Write.html#WriteContour">Write Contour</a>: Write contour (x,y) data to a file
<LI><a href="Write.html#WriteGrid">Write Grid</a>: Write grid data to a file
<LI><a href="Write.html#WriteImage">Write Image</a>: Write various properties of image to a file
</UL>

<!-- @node   Write Columns, Write Contour, Write, Write -->
<a name="WriteColumns" ></a>
<h4>9.3.53.1: `<font color="#82140F"><code>write columns</code></font>'</h4>


<TABLE SUMMARY="Example" BORDER="0" BGCOLOR="#efefef" WIDTH="100%">
<TR>
<TD>
<PRE>
<font color="#82140F">
`write columns to \filename'
</font></PRE>
</TD>
</TR>
</TABLE>
<p>

Append data columns to the end of the indicated file.
<p>
<!-- @node   Write Contour, Write Grid, Write Columns, Write -->
<a name="WriteContour" ></a>
<h4>9.3.53.2: `<font color="#82140F"><code>write contour</code></font>'</h4>


<TABLE SUMMARY="Example" BORDER="0" BGCOLOR="#efefef" WIDTH="100%">
<TR>
<TD>
<PRE>
<font color="#82140F">
`write contour .value. to \filename'
</font></PRE>
</TD>
</TR>
</TABLE>
<p>

Append to the named file the (x,y) pairs defining the contour of the indicated value.
<p>
The first line of output is a header line, containing two numbers: the
contour value and the missing value.  Then the (x,y) pairs are written a
line at a time, with missing values being used to indicate ends of
segments.  A blank line is written after the last data pair.  For
example, if the contour contained two closed regions, Gri would output a
pair of missing values as one of the xy pairs, to denote the separation
of the two curves.  You could read and plot the output as in this
example
<p>
<TABLE SUMMARY="Example" BORDER="0" BGCOLOR="#efefef" WIDTH="100%">
<TR>
<TD>
<PRE>
<font color="#82140F">
write contour 10 to contour.out
write contour 20 to contour.out
open contour.out
read .contour_value. .missing.
set missing value .missing.
read columns x y
draw curve
</font></PRE>
</TD>
</TR>
</TABLE>
<p>
<!-- @node   Write Grid, Write Image, Write Contour, Write -->
<a name="WriteGrid" ></a>
<h4>9.3.53.3: `<font color="#82140F"><code>write grid</code></font>'</h4>


<TABLE SUMMARY="Example" BORDER="0" BGCOLOR="#efefef" WIDTH="100%">
<TR>
<TD>
<PRE>
<font color="#82140F">
`write grid to \filename [bycolumns]'
</font></PRE>
</TD>
</TR>
</TABLE>
<p>

Append grid to the end of the named file.  Storage is in `<font color="#82140F"><code>%f</code></font>'
format, and is in normal image order.  If the keyword `<font color="#82140F"><code>bycolumns</code></font>'
is present, then the grid is transposed first, in such a way that
`<font color="#82140F"><code>read grid data bycolumns</code></font>' performed on that file will read back
the original grid data.
<p>
<!-- @node   Write Image, Programming, Write Grid, Write -->
<a name="WriteImage" ></a>
<h4>9.3.53.4: `<font color="#82140F"><code>write image</code></font>'</h4>


<TABLE SUMMARY="Example" BORDER="0" BGCOLOR="#efefef" WIDTH="100%">
<TR>
<TD>
<PRE>
<font color="#82140F">
`write image ... to \filename'
</font></PRE>
</TD>
</TR>
</TABLE>
<p>

The variants of this command write various things about the image to the
named file, as illustrated in the following table.
<p>
<ul>
<p>
<li> `<font color="#82140F"><code>write image to image.dat</code></font>'
Append image to the end of the named file.  Storage is by unsigned-char,
and is in normal image order.  There is no header.
<p>
<li> `<font color="#82140F"><code>write image rasterfile to image.dat</code></font>'
Append image to the end of the named file, in Sun Rasterfile format.
<p>
<li> `<font color="#82140F"><code>write image pgm to mask.dat</code></font>'
Append image mask to the end of the named file, in PGM 'rawbits' format.
<p>
<li> `<font color="#82140F"><code>write image mask to mask.dat</code></font>'
Append image mask to the end of the named file. Storage is by
unsigned-char, and is in normal image order.
<p>
<li> `<font color="#82140F"><code>write image mask rasterfile to mask.dat</code></font>'
Append image mask to the end of the named file, in Sun Rasterfile
format.
<p>
<li> `<font color="#82140F"><code>write image mask pgm to mask.dat</code></font>'
Append image mask to the end of the named file, in PGM 'rawbits' format.
<p>
<li> `<font color="#82140F"><code>write image colorscale to colorscale.dat</code></font>'
Append image colorscale transform to the end of the named file.  Storage
is a series of 256 lines, each containing 3 numbers (for Red, Green and
Blue) in the range 0 to 1.  The file is suitable for reading with the
`<font color="#82140F"><code>read image colorscale</code></font>' command.
<p>
<li> `<font color="#82140F"><code>write image grayscale to grayscale.dat</code></font>'
Append image grayscale transform to the end of the named file.  Storage
is a series of 256 lines, each containing a number in the range 0 to 1.
The file is suitable for reading with the `<font color="#82140F"><code>read image grayscale</code></font>'
command.
</ul>
<p>


</table>
<img src="./resources/bottom_banner.gif" alt="navigation map" usemap="#navigate_bottom" border="0">

</body>
</html>
